(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb8ed8d2"],{"0538":function(t,e,n){"use strict";var a=n("e330"),i=n("59ed"),o=n("861d"),s=n("1a2d"),r=n("f36a"),c=n("40d5"),l=Function,u=a([].concat),d=a([].join),h={},p=function(t,e,n){if(!s(h,e)){for(var a=[],i=0;i<e;i++)a[i]="a["+i+"]";h[e]=l("C,a","return new C("+d(a,",")+")")}return h[e](t,n)};t.exports=c?l.bind:function(t){var e=i(this),n=e.prototype,a=r(arguments,1),s=function(){var n=u(a,r(arguments));return this instanceof s?p(e,n.length,n):e.apply(t,n)};return o(n)&&(s.prototype=n),s}},"262e":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("d9e2"),n("131a"),n("1f68");function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}},"2af1":function(t,e,n){"use strict";var a=n("23e7"),i=n("f748");a({target:"Math",stat:!0},{sign:i})},"2caf":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("4ae1"),n("d3b7"),n("f8c9"),n("131a"),n("3410"),n("1f68");function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}n("d9e2");var o=n("53ca");function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){if(e&&("object"===Object(o["a"])(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function c(t){var e=i();return function(){var n,i=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}},"318e":function(t,e,n){},"481c":function(t,e,n){"use strict";n("ccd1")},"4ae1":function(t,e,n){"use strict";var a=n("23e7"),i=n("d066"),o=n("2ba4"),s=n("0538"),r=n("5087"),c=n("825a"),l=n("861d"),u=n("7c73"),d=n("d039"),h=i("Reflect","construct"),p=Object.prototype,f=[].push,g=d((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),m=!d((function(){h((function(){}))})),_=g||m;a({target:"Reflect",stat:!0,forced:_,sham:_},{construct:function(t,e){r(t),c(e);var n=arguments.length<3?t:r(arguments[2]);if(m&&!g)return h(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return o(f,a,e),new(o(s,t,a))}var i=n.prototype,d=u(l(i)?i:p),_=o(t,d,e);return l(_)?_:d}})},"57b4":function(t,e,n){},"5ffb":function(t,e,n){"use strict";n("9a16")},"6c6e":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("d4ec"),i=n("bee2"),o=n("b775"),s=function(){function t(e){Object(a["a"])(this,t),this.uri=e}return Object(i["a"])(t,[{key:"list",value:function(t){return Object(o["a"])({url:"/"+this.uri,method:"get",params:t})}},{key:"get",value:function(t){return Object(o["a"])({url:"/"+this.uri+"/"+t,method:"get"})}},{key:"store",value:function(t){return Object(o["a"])({url:"/"+this.uri,method:"post",data:t})}},{key:"update",value:function(t,e){return Object(o["a"])({url:"/"+this.uri+"/"+t,method:"put",data:e})}},{key:"destroy",value:function(t){return Object(o["a"])({url:"/"+this.uri+"/"+t,method:"delete"})}}]),t}()},"7db0":function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").find,o=n("44d2"),s="find",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),a({target:"Array",proto:!0,forced:r},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},"857a":function(t,e,n){"use strict";var a=n("e330"),i=n("1d80"),o=n("577e"),s=/"/g,r=a("".replace);t.exports=function(t,e,n,a){var c=o(i(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+r(o(a),s,"&quot;")+'"'),l+">"+c+"</"+e+">"}},"890d":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),r=(n("99af"),n("6c6e")),c=n("a27e"),l=n("5f87"),u=Object(l["a"])(),d="https://shop.vcallid.com/api/public",h=1,p=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(a["a"])(this,n),e.call(this,"")}return Object(i["a"])(n,[{key:"getVerify",value:function(){return u&&u.id?"uid=".concat(u.id,"&cms=").concat(h):"cms=".concat(h)}},{key:"listMenu",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:"demo@gmail.com",name:"demo"};return Object(c["a"])({baseURL:"https://shop.vcallid.com/api/public",url:"".concat(this.uri,"/supplier/list_supplier_menu_item"),method:"post",data:t})}},{key:"listBrand",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,limit:10};return Object(c["a"])({baseURL:"https://shop.vcallid.com/api/public",url:"".concat(this.uri,"/trademark/list"),method:"get",params:t})}},{key:"ListSupplier",value:function(t){return Object(c["a"])({url:d+"/shop/list",method:"get",params:t})}},{key:"uploadImage",value:function(t){return Object(c["a"])({url:d+"/post_cdn",method:"post",data:t})}},{key:"addBrand",value:function(t){return Object(c["a"])({url:d+"/trademark/create",method:"post",data:t})}},{key:"editBrand",value:function(t){return Object(c["a"])({url:d+"/trademark/update",method:"post",data:t})}},{key:"getProvinceList",value:function(){return Object(c["a"])({url:d+"/address_ship/viettel_list_province_or_city",method:"get"})}},{key:"getWardsList",value:function(t){return Object(c["a"])({url:d+"/address_ship/viettel_list_wards",method:"get",params:t})}},{key:"getDistrictList",value:function(t){return Object(c["a"])({url:d+"/address_ship/viettel_list_district",method:"get",params:t})}},{key:"get_bussiness_type",value:function(){return Object(c["a"])({url:d+"/supplier/get_bussiness_type",method:"get"})}},{key:"create_general_supplier",value:function(t){return Object(c["a"])({url:d+"/supplier/create_general_supplier",method:"post",data:t})}},{key:"get_supplier_info",value:function(t){return Object(c["a"])({url:d+"/get_supplier_info?id=".concat(t),method:"get"})}},{key:"upload_discount",value:function(t){return Object(c["a"])({url:d+"/supplier/upload_discount",method:"post",data:t})}},{key:"detele_discount",value:function(t){return Object(c["a"])({url:d+"/supplier/detele_discount",method:"post",data:t})}},{key:"list_contract_active",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(c["a"])({url:d+"/supplier/list_contract_active?shop_id=".concat(t),method:"get"})}},{key:"add_new_bank_account",value:function(t){return Object(c["a"])({url:d+"/add_new_bank_account",method:"post",data:t})}},{key:"list_signer",value:function(){return Object(c["a"])({url:d+"/supplier/list_signer",method:"get"})}},{key:"update_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/update_contract",method:"post",data:t})}},{key:"create_new_exeprt",value:function(t){return Object(c["a"])({url:d+"create_new_exeprt",method:"post",data:t})}},{key:"delete_exeprt",value:function(t){return Object(c["a"])({url:d+"/delete_exeprt",method:"post",data:t})}},{key:"list_categories",value:function(){return Object(c["a"])({url:d+"/supplier/list_categories",method:"get"})}},{key:"deleteShop",value:function(t){return Object(c["a"])({url:d+"/shop/delete/".concat(t),method:"get"})}},{key:"detail",value:function(t){return Object(c["a"])({url:d+"/supplier/detail_supplier?id=".concat(t),method:"get"})}},{key:"get_person_contact",value:function(t){return Object(c["a"])({url:d+"/supplier/get_person_contact?shop_id=".concat(t),method:"get"})}},{key:"get_person_representative",value:function(t){return Object(c["a"])({url:d+"/supplier/get_person_representative?id=".concat(t),method:"get"})}},{key:"update_supplier_info",value:function(t){return Object(c["a"])({url:d+"/supplier/update_supplier_info",method:"post",data:t})}},{key:"create_person_representative",value:function(t){return Object(c["a"])({url:d+"/supplier/create_person_representative",method:"post",data:t})}},{key:"update_representative_person",value:function(t){return Object(c["a"])({url:d+"/supplier/update_representative_person",method:"post",data:t})}},{key:"create_person_contact",value:function(t){return Object(c["a"])({url:d+"/supplier/create_person_contact",method:"post",data:t})}},{key:"update_contact_person",value:function(t){return Object(c["a"])({url:d+"/supplier/update_contact_person",method:"post",data:t})}},{key:"create_pickup_address",value:function(t){return Object(c["a"])({url:d+"/supplier/create_pickup_address",method:"post",data:t})}},{key:"update_pickup_address",value:function(t){return Object(c["a"])({url:d+"/supplier/update_pickup_address",method:"post",data:t})}},{key:"approve_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/approve_contract",method:"post",data:t})}},{key:"reject_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/reject_contract",method:"post",data:t})}},{key:"create_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/create_contract",method:"post",data:t})}},{key:"detail_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/detail_contract?id=".concat(t),method:"get"})}},{key:"contract_change_state",value:function(t){return Object(c["a"])({url:d+"/supplier/contract_change_state",method:"post",data:t})}},{key:"delete_contract",value:function(t){return Object(c["a"])({url:d+"/supplier/delete_contract",method:"post",data:t})}},{key:"listCategory",value:function(t){return Object(c["a"])({url:"".concat(d,"/category/list_cms_2?").concat(this.getVerify()),method:"get",params:t})}},{key:"storeCategory",value:function(t){return Object(c["a"])({url:"".concat(d,"/category/create?").concat(this.getVerify()),method:"post",data:t})}},{key:"updateCategory",value:function(t){return Object(c["a"])({url:"".concat(d,"/category/update?").concat(this.getVerify()),method:"post",data:t})}},{key:"deleteCategory",value:function(t){return Object(c["a"])({url:"".concat(d,"/category/delete/").concat(t,"?").concat(this.getVerify()),method:"get"})}},{key:"storeProductCategory",value:function(t){return Object(c["a"])({url:"".concat(d,"/category/add_list_product?").concat(this.getVerify()),method:"post",data:t})}}]),n}(r["a"])},9911:function(t,e,n){"use strict";var a=n("23e7"),i=n("857a"),o=n("af03");a({target:"String",proto:!0,forced:o("link")},{link:function(t){return i(this,"a","href",t)}})},"9a16":function(t,e,n){},a27e:function(t,e,n){"use strict";var a=n("c7eb"),i=n("1da1"),o=(n("d3b7"),n("bc3a")),s=n.n(o),r=n("5c96"),c=n("4360"),l=n("5f87"),u="https://prod-wap-wghn-beta.vcallid.com",d=s.a.create({baseURL:u,headers:{Authorization:Object(l["f"])(),auththor:Object(l["d"])(),"X-Token":Object(l["d"])(),"Access-Control-Allow-Origin":"*"},timeout:18e4});d.interceptors.request.use((function(t){t.headers.Authorization=Object(l["f"])(),t.headers["X-Token"]=Object(l["d"])();var e="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaWF0IjoxNjc4MzMzNDY4fQ.d5WWQAGWF_TCPkvWa0ieclauQAlLierkNKGDCDfbDk5Cd-X98bLV7usneU2jXEu_cqjbJFerDRCky255aLElQLpxHmn_66tcgbTZqa5GRumTDqO4JOmgWd5vE0zRPx3xdfFPG0fILPEAA2_5bIGc4Mzd_FHMr9hqTKOn4TKxgBsCW0z9KNfO-2xevEP_gFi7xauUkdG5KUbG3UAr4sEr1s9Kfhz7H5F_lyIR99TfqV-45E4x4Av0tao2nxt5Nc16z201zjpd9OaHibpIGI1pcCkwORYQpH5pqoanO9alsYkNwyEPZbMCfenY95pD16GTswQwNlCGVmGHnSkkXF1SkBV4_rWt-J6fX1VGjq61nqr6yGm_JXvK3R_DMUN5GIZ_xC4BE6WOZQcF1SseMJalbBJKdFlRz0DpW4rsblr5Ge7KVI4ugPQFRV5PaEL6y_wx65-K8DyFYWwbFVG_YZJqzt7mVgSVZftx1yTaSYoUoAeD8FJ-zVPupv93ZM3y7Q3ybwvwZBj6KI-R9VuXlsLFWAqt7bWcUMXExhDeENGWMbgwF3YdJzG947_KzSkRsEsXK7ZOUKp7ihE3wLxQIueIyITQfmgvuG-AvtDqiffFfjbTP5e8DOLvloP2keIS1v252nZyr3i9pEBqm10KEmCx0krhQHjz5sdJStIenVtKospeB8tBjSbyCW5t0-RRo8vQOg40Jn-ySKnnBGW_jYMTy3hadbAxAQc4IprphQmvuFuVaO4YK4wNB_dEtbzAYSLpfm9vTk9eX0f95tleguH6QjEG8siA4znsMUf2SLdQNKcTniOEHp5hGcKV0gRX63zIC7X9dClOINwg3wYh6ecyXg";return t.headers.token=e,c["a"].getters.token,t}),(function(t){return Promise.reject(t)})),d.interceptors.response.use(function(){var t=Object(i["a"])(Object(a["a"])().mark((function t(e){var n,i,o,c;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.data,0===n.error_code){t.next=26;break}if(console.log(n.error_code),403!==n.error_code){t.next=6;break}return r["Message"].error(n.error_msg||"Có lỗi xảy ra vui lòng thử lại sau"),t.abrupt("return");case 6:if(498!==n.error_code){t.next=9;break}return h(),t.abrupt("return");case 9:if(401!==n.error_code){t.next=23;break}return i=Object(l["d"])(),t.next=13,d.post("/admin/token",{refresh_token:i});case 13:if(o=t.sent,0!==o.error_code){t.next=22;break}return c=e.config,c._retry=!0,s.a.defaults.headers.common["Authorization"]="Bearer "+o.data.token,Object(l["q"])(o.data.token),t.abrupt("return",d(c));case 22:h();case 23:return t.abrupt("return",n);case 26:return t.abrupt("return",n);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return r["Message"].error(t.message||"Có lỗi xảy ra vui lòng thử lại sau"),Promise.reject(t)}));var h=function(){r["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){return c["a"].dispatch("user/resetToken").then((function(){return location.reload()}))}))};e["a"]=d},ada5:function(t,e,n){},af03:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b3bd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"template"},[e("el-row",{staticClass:"app-container list-shop",attrs:{loading:t.loadingTable}},[e("el-row",{staticClass:"list-shop__header"},[e("el-col",{attrs:{sm:12}},[e("el-row",{staticStyle:{display:"ruby"}},[e("p",{staticStyle:{"margin-right":"15px"},on:{click:t.onBack}},[e("i",{staticClass:"el-icon-back"})]),e("h3",{staticStyle:{"font-size":"26px",display:"inherit"}},[t._v(t._s("Thông tin hợp đồng"))]),1===t.approve?e("span",{staticStyle:{color:"green"}},[t._v(t._s("(".concat("Đã duyệt",")")))]):t._e(),2===t.approve?e("span",{staticStyle:{color:"red"}},[t._v(t._s("(".concat("Bị từ chối",")")))]):t._e()])],1),e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","align-items":"center"},attrs:{sm:12}},[t.is_approve&&t.is_load_data&&t.approve<2?e("el-button",{attrs:{type:"warning"},on:{click:t.onRejectPress}},[t._v(t._s("Từ chối hợp đồng"))]):t._e(),t.is_approve&&0===t.approve?e("el-button",{attrs:{type:"primary"},on:{click:t.onApprovePress}},[t._v(t._s("Duyệt hợp đồng"))]):t._e()],1)],1),e("contract-detail-info",{ref:"refInfo",attrs:{"shop-id":t.shopId,"is-new":t.isNew}}),e("contact-discount-info",{ref:"refDiscount",attrs:{"shop-id":t.shopId,"is-new":t.isNew},on:{discountHandler:t.discountHanlderEvent}}),e("contract-excerpts-info-vue",{ref:"refExceprts",attrs:{"shop-id":t.shopId,"is-new":t.isNew}}),e("el-row",{staticClass:"list-shop__data"}),t.isNew?e("el-row",{staticClass:"list-shop__header"},[e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","align-items":"center"},attrs:{sm:24}},[e("el-button",{attrs:{type:"warning"},on:{click:t.onCancelPress}},[t._v(t._s("Hủy bỏ"))]),e("el-button",{attrs:{type:"primary"},on:{click:t.onConfirmPress}},[t._v(t._s("Xác nhận"))])],1)],1):t._e()],1)],1)},i=[],o=(n("e9c4"),n("b64b"),n("890d")),s=n("5f87"),r=(n("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"id"},[e("el-row",{staticClass:"search-wrapper"},[e("el-row",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{sm:24}},[e("el-col",{staticStyle:{"justify-content":"flex-start",display:"flex","align-items":"center"},attrs:{sm:12}},[e("h3",[t._v("I. "+t._s("Thông tin chi tiết"))])]),e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","align-items":"center"}},[!t.isNew&&t.approve<1?e("el-button",{staticStyle:{"margin-left":"10px","font-size":"16px","font-weight":"400"},attrs:{type:"primary"},on:{click:t.onEditPress}},[t._v(t._s("Chỉnh sửa"))]):t._e()],1)],1),e("el-row",{staticStyle:{display:"flex"}},[e("el-col",{attrs:{sm:24}},[e("el-row",{staticClass:"row-row-first",attrs:{sm:24}},[e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Tên hợp đồng")),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("el-input",{staticStyle:{"margin-top":"10px"},attrs:{disabled:t.disable,placeholder:"Nhập tên hợp đồng"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Người ký hợp đồng")),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("el-select",{staticClass:"select-item",attrs:{disabled:t.disable,filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn người ký hợp đồng"},model:{value:t.signer_id,callback:function(e){t.signer_id=e},expression:"signer_id"}},t._l(t.list_signer,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Loại hợp đồng")),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("el-select",{staticClass:"select-item",attrs:{disabled:t.disable,filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn loại hợp đồng"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.contract_types,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("File hợp đồng"))]),e("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-top":"10px"},attrs:{"file-list":t.fileList,action:t.urlBaseApi,multiple:"",name:"image","on-preview":t.handlePreview,"on-success":t.handleUploadImageSuccess,"on-remove":t.handleRemoveImage,limit:3,"on-exceed":t.handleExceed,disabled:t.disable},scopedSlots:t._u([{key:"tip",fn:function(){return[e("div",{staticClass:"el-upload__tip"},[t._v(" jpg/png/pdf files with a size less than 5MB. ")])]},proxy:!0}])},[e("el-button",{attrs:{disabled:t.disable,type:"primary"}},[t._v("Click to upload")])],1)],1)],1)],1),e("el-row",{staticClass:"row-row",attrs:{sm:24}},[e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Ngày kí hợp đồng")),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("div",{staticClass:"demo-date-picker",staticStyle:{width:"95%"}},[e("el-date-picker",{staticStyle:{width:"95%","margin-top":"10px"},attrs:{type:"date",placeholder:"Chọn ngày ký hợp đồng",disabled:t.disable,format:"dd/MM/yyyy"},on:{change:t.updateDateActivePickerOptions},model:{value:t.date_sign,callback:function(e){t.date_sign=e},expression:"date_sign"}})],1)])],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Ngày hợp đồng có hiệu lực")),e("span",{staticStyle:{color:"red"}},[t._v("*")])]),e("div",{staticClass:"demo-date-picker"},[e("el-date-picker",{staticStyle:{width:"95%","margin-top":"10px"},attrs:{type:"date",placeholder:"Chọn ngày hợp đồng có hiệu lực",disabled:t.disable,format:"dd/MM/yyyy","picker-options":t.dateActivePickerOptions},model:{value:t.date_active,callback:function(e){t.date_active=e},expression:"date_active"}})],1)])],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Ngày hết hạn"))]),e("div",{staticClass:"demo-date-picker"},[e("el-date-picker",{staticStyle:{width:"95%","margin-top":"10px"},attrs:{type:"date",placeholder:"Chọn ngày hết hạn",disabled:t.disable,format:"dd/MM/yyyy","picker-options":t.dateActivePickerOptions},model:{value:t.date_inactive,callback:function(e){t.date_inactive=e},expression:"date_inactive"}})],1)])],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("div",{staticClass:"demo-date-picker"},[e("label",{staticClass:"item-label"},[t._v(t._s("Hạn thanh toán"))]),e("el-select",{staticClass:"select-item",attrs:{disabled:t.disable,filterable:"",remote:"","reserve-keyword":"",placeholder:"Chọn ngày hạn thanh toán"},model:{value:t.datePayment,callback:function(e){t.datePayment=e},expression:"datePayment"}},[e("el-option",{attrs:{label:t.handle_display_1(),value:t.handle_display_1_value(),placeholder:"Nhập ngày"},nativeOn:{click:function(e){return t.handleDialogOptionClick1.apply(null,arguments)}}}),e("el-option",{attrs:{label:t.handle_display(),value:t.handle_display(),placeholder:"Nhập ngày"},nativeOn:{click:function(e){return t.handleDialogOptionClick.apply(null,arguments)}}})],1),e("el-dialog",{staticClass:"custom-dialog",attrs:{title:"Nhập khoảng ngày đến hạn thanh toán:",visible:t.outerVisible},on:{"update:visible":function(e){t.outerVisible=e}}},[e("div",{staticStyle:{padding:"15px"}},[e("div",[e("el-input-number",{staticClass:"custom-input-number",attrs:{"controls-position":"right",min:1,max:31},on:{change:t.handleChangenumber},model:{value:t.ranger_canculation_debt,callback:function(e){t.ranger_canculation_debt=e},expression:"ranger_canculation_debt"}})],1),e("div",{staticStyle:{"padding-left":"15px","padding-top":"15px"}},[e("el-checkbox",{on:{change:function(e){return t.handleChangeCheckbox(7)}},model:{value:t.checked7,callback:function(e){t.checked7=e},expression:"checked7"}},[t._v("7 ngày")])],1),e("div",{staticStyle:{"border-bottom":"1px solid #ccc"}}),e("div",{staticStyle:{"padding-left":"15px","padding-top":"15px"}},[e("el-checkbox",{on:{change:function(e){return t.handleChangeCheckbox(15)}},model:{value:t.checked15,callback:function(e){t.checked15=e},expression:"checked15 "}},[t._v("15 ngày")])],1),e("div",{staticStyle:{"border-bottom":"1px solid #ccc"}})]),e("div",{staticStyle:{"text-align":"right"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmitDatePayment}},[t._v(" OK ")])],1)]),e("el-dialog",{staticClass:"custom-dialog",attrs:{visible:t.outerVisible1},on:{"update:visible":function(e){t.outerVisible1=e}}},[e("div",{staticStyle:{padding:"15px"}},[e("div",{staticStyle:{"padding-bottom":"20px"}},[e("el-input",{attrs:{placeholder:"Please input",clearable:""},on:{change:t.handleChange},model:{value:t.date_canculation_debts_input,callback:function(e){t.date_canculation_debts_input=e},expression:"date_canculation_debts_input"}})],1),e("div",{staticStyle:{"padding-left":"15px","padding-top":"15px",height:"250px","overflow-y":"auto"}},t._l(31,(function(n){return e("div",{key:n},[e("el-checkbox",{attrs:{label:n},on:{change:function(e){return t.handleChangeCheckbox1(t.value)}},model:{value:t.date_canculation_debts,callback:function(e){t.date_canculation_debts=e},expression:"date_canculation_debts"}},[t._v(" Ngày "+t._s(n))])],1)})),0)]),e("div",{staticStyle:{"text-align":"right"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmitDatePayment1}},[t._v(" OK ")])],1)])],1)])],1)],1)],1)],1),e("el-row",{staticStyle:{display:"flex","justify-content":"space-between","padding-top":"40px"},attrs:{sm:24}},[e("el-col",{staticStyle:{"justify-content":"flex-start",display:"flex","align-items":"center"},attrs:{sm:12}},[e("h3",[t._v(" II. "+t._s("Thông tin tài khoản quyết toán")),e("span",{staticStyle:{color:"red"}},[t._v("*")])])]),e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","align-items":"center"},attrs:{sm:12}},[t.approve<1?e("el-button",{staticStyle:{"margin-left":"10px","font-size":"16px","font-weight":"400"},attrs:{type:"primary"},on:{click:t.onCreateBankAccount}},[t._v(t._s("Thêm tài khoản ngân hàng mới"))]):t._e()],1)],1),e("el-row",{staticStyle:{display:"flex"}},[e("el-col",{attrs:{sm:24}},[e("el-row",{staticClass:"row-row-first",attrs:{sm:24}},[e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Số tài khoản"))]),e("el-input",{staticStyle:{"margin-top":"10px"},attrs:{disabled:"",placeholder:"Nhập số tài khoản"},model:{value:t.account_id,callback:function(e){t.account_id=e},expression:"account_id"}})],1)],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Chủ tài khoản"))]),e("el-input",{staticStyle:{"margin-top":"10px"},attrs:{disabled:"",placeholder:"Nhập tên chủ tài khoản"},model:{value:t.account_name,callback:function(e){t.account_name=e},expression:"account_name"}})],1)],1),e("el-col",{staticClass:"mb-10",attrs:{sm:8}},[e("el-row",{staticClass:"row-item"},[e("label",{staticClass:"item-label"},[t._v(t._s("Tên ngân hàng"))]),e("el-input",{staticStyle:{"margin-top":"10px"},attrs:{disabled:"",placeholder:"Nhập tên ngân hàng"},model:{value:t.bank_name,callback:function(e){t.bank_name=e},expression:"bank_name"}})],1)],1)],1)],1)],1),(t.isCreate||t.isUpdate)&&t.shopId?e("el-row",{staticClass:"list-shop__header",staticStyle:{"margin-top":"20px"}},[e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","align-items":"center"},attrs:{sm:24}},[e("el-button",{attrs:{type:"warning"},on:{click:t.onCancelPress}},[t._v(t._s("Hủy bỏ"))]),e("el-button",{attrs:{type:"primary"},on:{click:t.onConfirmPress}},[t._v(t._s("Xác nhận"))])],1)],1):t._e(),e("dialog-create-bank-account",{attrs:{"show-dialog":t.onShowDialogCreate},on:{onClickButtonDialog:t.onHandlerEvent}})],1)],1)}),c=[],l=n("2909"),u=n("c7eb"),d=n("1da1"),h=(n("a9e3"),n("caad"),n("2532"),n("4de4"),n("d3b7"),n("ac1f"),n("5319"),n("a15b"),n("14d9"),n("9911"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("88a7"),n("271a"),n("5494"),n("498a"),n("7db0"),function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.dialog.titleName,visible:t.showDialog,"before-close":t.handleClose,width:"35%"},on:{"update:visible":function(e){t.showDialog=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.postForm,rules:t.rules}},[e("el-row",[e("el-col",{staticClass:"pr-lg-5",attrs:{sm:24}},[e("el-form-item",{attrs:{label:"Chủ tài khoản",required:!0}},[e("el-input",{attrs:{placeholder:"nhập tên chủ tài khoản"},model:{value:t.postForm.account_name,callback:function(e){t.$set(t.postForm,"account_name",e)},expression:"postForm.account_name"}})],1),e("el-form-item",{attrs:{label:"Số tài khoản",required:!0}},[e("el-input",{attrs:{placeholder:"nhập số tài khoản"},model:{value:t.postForm.account_id,callback:function(e){t.$set(t.postForm,"account_id",e)},expression:"postForm.account_id"}})],1),e("el-form-item",{attrs:{label:"Tên ngân hàng",required:!0}},[e("el-input",{attrs:{placeholder:"nhập tên ngân hàng"},model:{value:t.postForm.bank_name,callback:function(e){t.$set(t.postForm,"bank_name",e)},expression:"postForm.bank_name"}})],1)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s("Hủy bỏ"))]),e("el-button",{attrs:{type:"primary",loading:t.loadingSubmit},on:{click:function(e){return t.onSubmitForm("ruleForm")}}},[t._v(t._s(t.dialog.buttonName))])],1)],1)}),p=[],f=n("bcc2"),g={name:"DialogCreateBankAccount",props:{showDialog:{type:Boolean,default:!1}},data:function(){return{dialog:{titleName:"Thêm mới tài khoản ngân hàng",buttonName:"Thêm mới"},rules:{account_name:[{required:!0,message:"Tên chủ tài khoản không được để trống",trigger:"blur"}],account_id:[{required:!0,message:"Số tài khoản không được để trống",trigger:"blur"}],bank_name:[{required:!0,message:"Tên ngân hàng không được để trống",trigger:"blur"}]},loadingSubmit:!1,postForm:{}}},created:function(){},methods:{onSubmitForm:function(t){var e=this;console.log("......... post form",JSON.stringify(this.postForm),t),this.$refs[t].validate((function(t){if(console.log("............ validate ",t),t){if(!e.postForm.account_name)return e.$message.warning("Tên chủ tài khoản không được để trống");if(!e.postForm.account_id)return e.$message.warning("Số tài khoản không được để trống");if(!e.postForm.bank_name)return e.$message.warning("Tên ngân hàng không được để trống");e.$emit("onClickButtonDialog",{dialog:!1,reload:!1,data:Object.assign({},e.postForm)}),e.postForm={}}}))},handleClose:function(){this.$emit("onClickButtonDialog",{dialog:!1,reload:!1})},formatNumber:f["k"]}},m=g,_=(n("c648"),n("2877")),b=Object(_["a"])(m,h,p,!1,null,null,null),v=b.exports,y=n("fa7d"),k=new o["a"],w="https://shop.vcallid.com/api/public",D={name:"ContractDetailInfo",components:{DialogCreateBankAccount:v},props:{show:{type:Boolean,default:!1},shopId:{type:Number,default:function(){return 0}},isNew:{type:Boolean,default:!1}},data:function(){var t=Object(s["a"])();return{urlBaseApi:"".concat(w,"/post_cdn"),is_delete:t.is_delete,is_write:t.is_write,is_edit:t.is_edit,contract_detail:"",loadingTable:!1,isCreate:!1,isUpdate:!1,onShowDialog:!1,name:"",state:!1,date_sign:null,date_active:null,date_inactive:null,dateActivePickerOptions:{disabledDate:function(t){return!1}},type:"",contract_types:[{id:1,name:"Đại lý"},{id:2,name:"Sàn thương mại điện tử"}],datePayment_types:[{id:1,name:"Khoảng ngày"},{id:2,name:"Ngày cụ thể"}],disable:!this.isNew,fileList:[],id:0,list_signer:[],signer_id:null,account_id:"",account_name:"",bank_name:"",datePayment:null,onShowDialogCreate:!1,bank_data:{},approve:0,outerVisible:!1,outerVisible1:!1,ranger_canculation_debt:null,date_canculation_debts:[],date_canculation_debts_input:"",checked15:!1,checked7:!1,value:null}},watch:{date_inactive:function(t){console.log("........ngay het han ",t,JSON.stringify(t))},outerVisible:function(t){console.log(t,"11111")}},created:function(){console.log("............. shop id ",this.shopId),this.requestListSigner()},methods:{handleChangeCheckbox:function(t){7===t&&(this.ranger_canculation_debt=7,this.checked15=!1,this.datePayment=t+" ngày sau ngày nhập"),15===t&&(this.ranger_canculation_debt=15,this.checked7=!1,this.datePayment=t+" ngày sau ngày nhập"),this.checked15&&null===this.checked7&&(this.datePayment="Khoảng ngày")},handleChangeCheckbox1:function(t){this.date_canculation_debts.includes(t)?(this.date_canculation_debts=this.date_canculation_debts.filter((function(e){return e!==t})),this.datePayment="Các ngày "+this.date_canculation_debts.join(", ").replace(/, $/,"")+" hàng tháng"):(this.date_canculation_debts.push(t),this.datePayment="Các ngày "+this.date_canculation_debts.join(", ").replace(/, $/,"")+" hàng tháng"),this.date_canculation_debts_input=this.date_canculation_debts.join(", ").replace(/, $/,"")},handle_display_1:function(){return"Ngày cụ thể"},handle_display_1_value:function(){this.date_canculation_debts_input,this.date_canculation_debts.join(", ").replace(/, $/,"")},handleSubmitDatePayment:function(){this.date_canculation_debts=[],this.date_canculation_debts_input="",this.outerVisible=!1},handleSubmitDatePayment1:function(){this.outerVisible1=!1,this.ranger_canculation_debt=null,this.checked15=!1,this.checked7=!1},handleChange:function(t){this.datePayment=this.date_canculation_debts_input,console.log(this.date_canculation_debts_input,"11111"),console.log(t)},handleChangenumber:function(t){this.datePayment=this.ranger_canculation_debt+" ngày sau ngày nhập"},handleDialogOptionClick:function(){this.outerVisible||(this.outerVisible=!0)},handleDialogOptionClick1:function(){this.outerVisible1||(this.outerVisible1=!0)},handle_display:function(){return this.checked7&&Array.isArray(this.checked7)?this.checked7:this.checked15&&Array.isArray(this.checked15)?this.checked15:"Khoảng ngày"},updateDateActivePickerOptions:function(){var t=this.date_sign;this.dateActivePickerOptions={disabledDate:function(e){return e.getTime()<new Date(t).getTime()}}},setApprove:function(t){this.approve=t},onHandlerEvent:function(t){var e=this,n=t.data;if(n)if(console.log("............. is new ",this.isNew),this.isNew)this.account_id=n.account_id,this.account_name=n.account_name,this.bank_name=n.bank_name,this.bank_data=n;else{var a={account_id:n.account_id,account_name:n.account_name,bank_name:n.bank_name,contract_id:this.contract_detail.id};this.requestAddBankAccount(a,(function(){e.account_id=n.account_id,e.account_name=n.account_name,e.bank_name=n.bank_name,e.bank_data=n}))}this.onShowDialogCreate=!1},requestAddBankAccount:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.loadingTable=!0,k.add_new_bank_account(t).then((function(t){var a=t.error,i=t.msg;e.loadingTable=!1,0===a?(e.$message.success(i),n&&n()):e.$message.error(i)})).catch((function(t){e.loadingTable=!1,e.$message.error("Có lỗi xảy ra, vui lòng quay lại sau!")}))},onCreateBankAccount:function(){this.onShowDialogCreate=!0},handlePreview:function(t){console.log(" file upload preview",JSON.stringify(t));var e=t.link;this.confirmDowload(e)},confirmDowload:function(t){window.open(t,"_blank")},getFileFromServer:function(t){var e=this;return Object(d["a"])(Object(u["a"])().mark((function n(){var a,i;return Object(u["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.substring(t.lastIndexOf("/")+1),i=document.createElement("a"),i.href=t,i.download=a,i.click(),setTimeout((function(){window.URL.revokeObjectURL(t),e.$message.success("Đã export thành công, vui lòng vào thư mục download để lấy")}),250);case 6:case"end":return n.stop()}}),n)})))()},handleExceed:function(t,e){},handleUploadImageSuccess:function(t,e,n){this.fileList.push({url:t.name,name:e.name}),console.log(".......... handleUploadImageSuccess : ",t.name,JSON.stringify(e)),this.$emit("onChangeUploadImage",this.fileList)},handleRemoveImage:function(t,e){this.$emit("onChangeUploadImage",e,t),this.fileList=[]},requestListSigner:function(){var t=this;k.list_signer().then((function(e){var n=e.error,a=e.data;0===n&&(t.list_signer=Object(l["a"])(a))}))},onConfirmPress:function(){if(console.log(".......... check confirm ",this.isCreate,this.isUpdate),this.isCreate)this.requestCreatePersonReprensentative();else if(this.isUpdate){var t=this.checkBodyUpdate();t&&Object.keys(t).length&&this.requestUpdate(t)}},onCancelPress:function(){this.resetAllInfo(),this.disable=!0,this.isUpdate=!1,this.isCreate=!1},requestUpdate:function(t){var e=this;this.loadingTable=!0,k.update_contract(t).then((function(t){var n=t.error,a=t.msg;e.loadingTable=!1,0===n?(e.$message.success(a),e.disable=!0,e.isUpdate=!1,e.isCreate=!1):e.$message.error(a)})).catch((function(t){e.loadingTable=!1,e.$message.error("Có lỗi xảy ra, vui lòng quay lại sau!")}))},resetData:function(){this.isCreate=!1,this.isUpdate=!1,this.fullname="",this.email="",this.position="",this.passport="",this.sex=0,this.contract_detail=""},resetAllInfo:function(){this.isCreate?(this.fullname="",this.email="",this.position="",this.passport="",this.sex=0):this.isUpdate&&(this.isUpdate=!1,this.setInfo(this.contract_detail))},setInfo:function(t){console.log("..........detail supplier : ",JSON.stringify(t)),t&&(this.contract_detail=Object.assign({},t),this.name=t.name,this.type=t.contract_type,this.state=1===t.active,console.log("..........check ngay thang ",Object(y["g"])(t.time_end),t.time_end),this.date_sign=t.date_sign,this.date_active=t.time_start,this.date_inactive=Object(y["g"])(t.time_end)?t.time_end:null,t.date_canculation_debts?this.datePayment="Các ngày "+t.date_canculation_debts+" hàng tháng":t.ranger_canculation_debt?this.datePayment=t.ranger_canculation_debt+" ngày sau ngày nhập":this.datePayment=null,this.fileList=t.fileList?t.fileList:[],this.signer_id=t.signer_id,this.account_id=t.bank_info?t.bank_info.account_id:"",this.account_name=t.bank_info?t.bank_info.account_name:"",this.bank_name=t.bank_info?t.bank_info.bank_name:"",this.bank_data=t.bank_info)},getInfo:function(){var t=this;if(console.log("............ check info ",this.name,this.date_sign,this.date_active),!this.name.length||!this.date_sign||!this.date_active||!this.datePayment||!this.signer_id||!this.account_id.trim().length||!this.account_name.trim().length||!this.bank_name.trim().length)return null;var e=new Date(this.date_sign).getTime(),n=new Date(this.date_active).getTime();if(n<e)return{error:1,msg:"Ngày có hiệu lực không được nhỏ hơn ngày ký"};if(this.date_inactive){var a=new Date(this.date_inactive).getTime();if(a<e)return{error:1,msg:"Ngày hết hiệu lực không được nhỏ hơn ngày kích hoạt"}}var i=this.date_canculation_debts.join(",");return{name:this.name,date_sign:this.date_sign,date_active:this.date_active,date_inactive:this.date_inactive,ranger_canculation_debt:this.ranger_canculation_debt,date_canculation_debts:this.date_canculation_debts_input||i,signer:this.list_signer.find((function(e){return e.id===t.signer_id})),type:this.type,fileList:this.fileList,account_id:this.account_id,account_name:this.account_name,bank_name:this.bank_name}},checkBodyUpdate:function(){var t={};this.name.trim()!==this.contract_detail.name&&(t.name=this.name.trim());var e=this.date_canculation_debts.join(","),n=new Date(this.date_sign).getTime(),a=this.date_canculation_debts;console.log(a,".......... check time stamp");var i=new Date(this.date_active).getTime(),o=new Date(this.date_sign).getTimezoneOffset();if(console.log("......... check update ",this.date_sign,n,o),i<n)return this.date_sign=this.contract_detail.date_sign,this.date_active=this.contract_detail.time_start,this.$message.error("Ngày có hiệu lực không được nhỏ hơn ngày ký"),null;if(this.date_inactive){var s=new Date(this.date_inactive).getTime();if(s<i)return this.date_sign=this.contract_detail.date_sign,this.date_active=this.contract_detail.time_start,this.date_inactive=Object(y["g"])(this.contract_detail.time_end)?this.contract_detail.time_end:null,this.$message.error("Ngày hết hiệu lực không được nhỏ hơn ngày kích hoạt"),null}return t.date_sign=n,t.time_start=new Date(this.date_active).getTime(),t.time_end=new Date(this.date_inactive).getTime(),Array.isArray(this.date_canculation_debts)&&this.date_canculation_debts.length?t.date_canculation_debts=this.date_canculation_debts_input||e:this.ranger_canculation_debt!==this.contract_detail.ranger_canculation_debt&&(t.ranger_canculation_debt=this.ranger_canculation_debt),void 0!==t.ranger_canculation_debt&&null!==t.ranger_canculation_debt||delete t.ranger_canculation_debt,""!==t.date_canculation_debts&&void 0!==t.date_canculation_debts||delete t.date_canculation_debts,this.type!==this.contract_detail.contract_type&&(t.contract_type=this.type),this.signer_id!==this.contract_detail.signer_id&&(t.signer_id=this.signer_id),Object.keys(t).length&&(t.id=this.contract_detail.id),t},onEditPress:function(){this.disable=!1,this.isUpdate=!0,this.isCreate=!1,this.show_btn=(this.isCreate||this.isUpdate)&&this.shopId},onCreatePress:function(){this.disable=!1,this.isUpdate=!1,this.isCreate=!0,this.show_btn=(this.isCreate||this.isUpdate)&&this.shopId,this.resetAllInfo()},requestDetail:function(){var t=this;this.id&&(this.loadingTable=!0,k.get_supplier_info(this.id).then((function(e){var n=e.error,a=e.data;console.log("............. chi tiet nha cung cap : ",JSON.stringify(e)),t.loadingTable=!1,0===n&&t.setInfo(a)})).catch((function(e){console.log(".................. co loi ",e),t.loadingTable=!1})))},onShowDialogShopDetail:function(t){this.url_image=t,this.showDialogShopDetail=!0},handleClickButtonDialogDetail:function(t){this.showDialogShopDetail=t.dialog,t.reload&&this.$emit("onClickButtonReload")}}},C=D,x=(n("481c"),n("cf65"),Object(_["a"])(C,r,c,!1,null,"7755f1ca",null)),S=x.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"id"},[e("el-row",{staticClass:"search-wrapper"},[e("el-row",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{sm:24}},[e("el-col",{staticStyle:{"justify-content":"flex-start",display:"flex","align-items":"center"},attrs:{sm:12}},[e("h3",[t._v("III. "+t._s("Thông tin chiết khấu"))])]),e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","margin-bottom":"25px","align-items":"center"},attrs:{sm:12}},[t.approve<1?e("el-button",{staticStyle:{"margin-left":"10px","font-size":"16px","font-weight":"400"},attrs:{type:"primary"},on:{click:t.createDiscount}},[t._v(t._s("Thêm mới"))]):t._e()],1)],1),e("el-row",{staticStyle:{display:"flex"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"90",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"Tên chiết khấu",align:"center"}}),e("el-table-column",{attrs:{prop:"type_name",label:"Loại chiết khấu",align:"center"}}),e("el-table-column",{attrs:{label:"Giá trị",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticStyle:{"font-size":"16px",color:"black"}},[t._v(t._s(n.row.value?n.row.value+"%":n.row.discount?n.row.discount+"%":""))])]}}])}),e("el-table-column",{attrs:{label:"Điều kiện từ",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticStyle:{"font-size":"16px",color:"black"}},[t._v(t._s(n.row.condition_from?"price_vnd_2".format(t.formatNumber(n.row.condition_from)):2===n.row.type?"not_apply":""))])]}}])}),e("el-table-column",{attrs:{label:"Điều kiện đến",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("label",{staticStyle:{"font-size":"16px",color:"black","font-weight":"normal"}},[t._v(t._s(n.row.condition_to?"price_vnd_2".format(t.formatNumber(n.row.condition_to)):2===n.row.type?"not_apply":""))])]}}])}),e("el-table-column",{attrs:{prop:"category_name",label:"Nhóm hàng",align:"center"}}),e("el-table-column",{attrs:{label:"Trạng thái",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-tag",{attrs:{type:1===n.row.active?"success":"danger"}},[t._v(t._s(1===n.row.active?"Hoạt động":"Tạm dừng"))])]}}])}),e("el-table-column",{attrs:{label:"Hành động",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.onDeletePress(n.row)}}})]}}])})],1)],1),e("dialog-create-discount-vue",{attrs:{"show-dialog":t.onShowDialogCreateDiscount},on:{onClickButtonDialog:t.onHandlerEventDiscount}})],1)],1)},O=[],F=(n("c740"),n("a434"),function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.dialog.titleName,visible:t.showDialog,"before-close":t.handleClose,width:"35%"},on:{"update:visible":function(e){t.showDialog=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.postForm,rules:t.rules}},[e("el-row",[e("el-col",{staticClass:"pr-lg-5",attrs:{sm:24}},[e("el-form-item",{attrs:{label:"Tên chiết khấu",prop:"name"}},[e("el-input",{attrs:{placeholder:"nhập tên chiết khấu"},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}})],1),e("el-row",[e("el-col",{staticClass:"pr-lg-5",attrs:{sm:24}},[e("el-form-item",{attrs:{label:"Loại chiết khấu"}},[e("el-select",{staticClass:"w-100",model:{value:t.postForm.type,callback:function(e){t.$set(t.postForm,"type",e)},expression:"postForm.type"}},t._l(t.discount_types,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),e("el-form-item",{attrs:{label:"Giá trị (tính theo %)",prop:"value",required:!0}},[e("el-input",{attrs:{type:"number",placeholder:"nhập giá trị chiết khấu"},model:{value:t.postForm.value,callback:function(e){t.$set(t.postForm,"value",e)},expression:"postForm.value"}})],1),1===t.postForm.type?e("el-row",[e("el-col",{staticClass:"pr-lg-5",attrs:{sm:24}},[e("el-form-item",{attrs:{label:"Nhóm hàng áp dụng",required:!0}},[e("el-select",{staticClass:"w-100",model:{value:t.postForm.category_id,callback:function(e){t.$set(t.postForm,"category_id",e)},expression:"postForm.category_id"}},t._l(t.categories,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1):t._e(),2===t.postForm.type?e("el-form-item",{attrs:{label:"Doanh thu từ".format(t.postForm.condition_from?"price_vnd_2".format(t.formatNumber(t.postForm.condition_from)):"")}},[e("el-input",{attrs:{type:"number",placeholder:"Nhập doanh thu"},model:{value:t.postForm.condition_from,callback:function(e){t.$set(t.postForm,"condition_from",e)},expression:"postForm.condition_from"}})],1):t._e(),2===t.postForm.type?e("el-form-item",{attrs:{label:"Doanh thu đến".format(t.postForm.condition_to?"price_vnd_2".format(t.formatNumber(t.postForm.condition_to)):"")}},[e("el-input",{attrs:{type:"number",placeholder:"Nhập doanh thu"},model:{value:t.postForm.condition_to,callback:function(e){t.$set(t.postForm,"condition_to",e)},expression:"postForm.condition_to"}})],1):t._e()],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s("canel"))]),e("el-button",{attrs:{type:"primary",loading:t.loadingSubmit},on:{click:function(e){return t.onSubmitForm("ruleForm")}}},[t._v(t._s(t.dialog.buttonName))])],1)],1)}),Y=[],T=new o["a"],I={name:"DialogCreateDiscount",props:{showDialog:{type:Boolean,default:!1},isCondition:{type:Boolean,default:!1}},data:function(){return{dialog:{titleName:"Thêm chiết khấu",buttonName:"Thêm mới "},discount_types:[{id:1,name:"Theo nhóm hàng"},{id:2,name:"Theo doanh thu"}],type:0,name:"",rules:{name:[{required:!0,message:"Tên chiết khấu không được để trống",trigger:"blur"}],value:[{required:!0,message:"Giá trị chiết khấu không được để trống",trigger:"blur"}],category_id:[{required:!0,message:"Giá trị chiết khấu không được để trống",trigger:"blur"}]},categories:[],loadingSubmit:!1,postForm:{}}},watch:{showDialog:function(t){t&&!this.categories.length&&this.requestListCategory()}},created:function(){},methods:{resetModel:function(){this.postForm={},this.type=0,this.name="",this.categories=[]},onSubmitForm:function(t){var e=this;console.log("......... post form",JSON.stringify(this.postForm));var n=this.categories.find((function(t){return t.id===e.postForm.category_id}));this.postForm.category=n,this.postForm.category_name=n?n.name:"";var a=this.discount_types.find((function(t){return t.id===e.postForm.type}));this.postForm.type_name=a?a.name:"",console.log("......... tyoe chiet khau ",a),this.$refs[t].validate((function(t){if(t){if(1===e.postForm.type){var n=parseInt(e.postForm.category_id)||0;if(delete e.postForm.condition_from,delete e.postForm.condition_to,!n)return e.$msgbox("Nhóm hàng không được để trống")}else delete e.postForm.category_id,delete e.postForm.category,delete e.postForm.category_name;e.$emit("onClickButtonDialog",{dialog:!1,reload:!1,data:Object.assign({},e.postForm)}),e.postForm={}}}))},requestListCategory:function(){var t=this;T.list_categories().then((function(e){var n=e.error,a=e.data;0===n&&(t.categories=a)}))},onSubmit:function(){this.isCondition?this.createCondition():this.updateCondition()},createCondition:function(){var t={value_from:parseInt(this.objectCodition.value_from),value_to:parseInt(this.objectCodition.value_to),shop_id:this.objectCodition.shop_id};this.listCondition.push(t),console.log(this.listCondition),this.$emit("onClickButtonDialog",{dialog:!1,reload:!1,body:t})},updateCondition:function(){},handleClose:function(){this.$emit("onClickButtonDialog",{dialog:!1,reload:!1})},formatNumber:f["k"]}},N=I,M=(n("ea61"),Object(_["a"])(N,F,Y,!1,null,null,null)),$=M.exports,P=new o["a"],B={name:"ContractDiscountInfo",components:{DialogCreateDiscountVue:$},props:{show:{type:Boolean,default:!1},shopId:{type:Number,default:function(){return 0}},isNew:{type:Boolean,default:!1}},data:function(){var t=Object(s["a"])();return{is_delete:t.is_delete,is_write:t.is_write,is_edit:t.is_edit,loadingTable:!1,isCreate:!1,isUpdate:!1,tableData:[],onShowDialogCreateDiscount:!1,approve:0,contract_id:0}},methods:{setData:function(t,e){this.tableData=Object(l["a"])(t),this.contract_id=e},setApprove:function(t){this.approve=t},onHandlerEventDiscount:function(t){var e=this,n=t.data;console.log(".......... them so tai kgoan ngan hang",JSON.stringify(n));var a=Object.assign({},n);this.onShowDialogCreateDiscount=!1,n&&(this.isNew?(n.id=this.tableData.length+1,this.tableData.push(n)):(a.contract_id=this.contract_id,this.requestUploadDiscount(a,(function(){n.id=e.tableData.length+1,e.tableData.push(n)}))))},requestUploadDiscount:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.loadingTable=!0,P.upload_discount(t).then((function(t){e.loadingTable=!1;var a=t.error,i=t.msg;0===a?(e.$message.success(i),n&&n()):e.$message.error(i)})).catch((function(t){e.loadingTable=!1}))},getInfo:function(){return this.tableData},createDiscount:function(){this.onShowDialogCreateDiscount=!0},onDeletePress:function(t){var e=this;this.$confirm("Xác nhận xóa chiết khấu:  ".concat(t.name)).then((function(n){var a={id:t.id};P.detele_discount(a).then((function(n){var a=n.error,i=n.msg;if(0===a){e.$message.success(i);var o=e.tableData.findIndex((function(e){return e.id===t.id}));-1!==o&&e.tableData.splice(o,1)}else e.$message.error(i)}))})).catch((function(t){}))},requestListContractActive:function(){var t=this;this.loadingTable=!0,P.list_contract_active(this.shopId).then((function(e){t.loadingTable=!1;var n=e.error,a=e.data;0===n&&(t.tableData=a)})).catch((function(e){t.loadingTable=!1,console.log("............ danh sach nha cung cap : ",e)}))},onEditPress:function(){this.disable=!1,this.isUpdate=!0,this.isCreate=!1,this.show_btn=(this.isCreate||this.isUpdate)&&this.shopId,this.provinces_search=Object(l["a"])(this.listProvinces),this.provinces=Object(l["a"])(this.listProvinces)},onCreatePress:function(){this.disable=!1,this.isUpdate=!1,this.isCreate=!0,this.show_btn=(this.isCreate||this.isUpdate)&&this.shopId,this.resetAllInfo()},onShowDialogShopDetail:function(t){this.url_image=t,this.showDialogShopDetail=!0},handleClickButtonDialogDetail:function(t){this.showDialogShopDetail=t.dialog,t.reload&&this.$emit("onClickButtonReload")},handleClickDialogShop:function(t){console.log("--------------------------------dialog",t),this.onShowDialog=t.dialog,t.reload},formatNumber:f["k"]}},A=B,E=(n("b553"),Object(_["a"])(A,j,O,!1,null,"e3fded36",null)),q=E.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"id"},[e("el-row",{staticClass:"search-wrapper"},[e("el-row",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{sm:24}},[e("el-col",{staticStyle:{"justify-content":"flex-start",display:"flex","align-items":"center"},attrs:{sm:12}},[e("h3",[t._v("IV. "+t._s("Danh sách trích lục"))])]),e("el-col",{staticStyle:{"justify-content":"flex-end",display:"flex","margin-bottom":"20px","align-items":"center"},attrs:{sm:12}},[t.approve<1?e("el-button",{staticStyle:{"margin-left":"10px","font-size":"16px","font-weight":"400"},attrs:{type:"primary"},on:{click:t.createExerpts}},[t._v(t._s("Thêm mới "))]):t._e()],1)],1),e("el-row",{staticStyle:{display:"flex"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"90",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"Tên trích lục",align:"center",width:"200"}}),e("el-table-column",{attrs:{prop:"list_link",label:"Link chi tiết",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return t._l(n.row.listFile,(function(n){return e("el-col",{key:n.id},[e("el-row",[e("span",{staticStyle:{"font-size":"16px",color:"#406EE2","font-style":"italic"},on:{click:function(e){return t.onDetailPress(n)}}},[t._v(" "+t._s(n.name)+" - "+t._s("click_here_for_download"))])])],1)}))}}])}),e("el-table-column",{attrs:{label:"Trạng thái",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-tag",{attrs:{type:1===n.row.active?"success":"danger"}},[t._v(t._s(1===n.row.active?"active1":"stop"))])]}}])}),t.is_delete||t.is_edit?e("el-table-column",{attrs:{label:"Hành động",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(n){return[t.is_delete&&t.approve<1?e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.onDeletePress(n.row)}}}):t._e()]}}],null,!1,1291502089)}):t._e()],1)],1),e("dialog-create-exeprts",{attrs:{"show-dialog":t.onShowDialogCreate},on:{onClickButtonDialog:t.onHandlerEvent}})],1)],1)},L=[],R=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.dialog.titleName,visible:t.showDialog,"before-close":t.handleClose,width:"35%"},on:{"update:visible":function(e){t.showDialog=e}}},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.postForm,rules:t.rules}},[e("el-row",[e("el-col",{staticClass:"pr-lg-5",attrs:{sm:24}},[e("el-form-item",{attrs:{label:"Tên trích lục ",prop:"name"}},[e("el-input",{attrs:{placeholder:"nhập tên trích lục"},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}})],1),e("el-form-item",{attrs:{label:"File trích lục"}},[e("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-top":"10px",display:"inline-block"},attrs:{"file-list":t.fileList,action:t.urlBaseApi,multiple:"",name:"image","on-preview":t.handlePreview,"on-success":t.handleUploadImageSuccess,"on-remove":t.handleRemoveImage,limit:3,"on-exceed":t.handleExceed},scopedSlots:t._u([{key:"tip",fn:function(){return[e("div",{staticClass:"el-upload__tip"},[t._v(" jpg/png/pdf files with a size less than 5MB. ")])]},proxy:!0}])},[e("el-button",{attrs:{type:"primary"}},[t._v("Click to upload")])],1)],1)],1)],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.handleClose}},[t._v(t._s("Hủy bỏ"))]),e("el-button",{attrs:{type:"primary",loading:t.loadingSubmit},on:{click:function(e){return t.onSubmitForm("ruleForm")}}},[t._v(t._s(t.dialog.buttonName))])],1)],1)},H=[],J="https://shop.vcallid.com/api/public",V={name:"DialogCreateExeprts",props:{showDialog:{type:Boolean,default:!1},isCondition:{type:Boolean,default:!1}},data:function(){return{dialog:{titleName:"Tạo mới trích lục",buttonName:"Thêm mới"},rules:{name:[{required:!0,message:"Tên chiết khấu không được để trống",trigger:"blur"}]},loadingSubmit:!1,fileList:[],postForm:{},urlBaseApi:"".concat(J,"/post_cdn")}},created:function(){},methods:{handlePreview:function(t){console.log(" file upload ",JSON.stringify(t))},handleExceed:function(t,e){},handleUploadImageSuccess:function(t,e,n){this.fileList.push({url:t.name,name:e.name}),console.log(".......... handleUploadImageSuccess : ",t.name,JSON.stringify(e))},handleRemoveImage:function(t,e){this.$emit("onChangeUploadImage",e,t),console.log("......... xoa file trick lucj ",JSON.stringify(t),JSON.stringify(e)),this.fileList=Object(l["a"])(e)},onSubmitForm:function(t){var e=this;console.log("......... post form",JSON.stringify(this.postForm)),this.postForm.listFile=this.fileList,this.$refs[t].validate((function(t){t&&(e.$emit("onClickButtonDialog",{dialog:!1,reload:!1,data:e.postForm}),e.resetModel())}))},onSubmit:function(){this.isCondition?this.createCondition():this.updateCondition()},resetModel:function(){this.fileList=[],this.postForm={}},handleClose:function(){this.resetModel(),this.$emit("onClickButtonDialog",{dialog:!1,reload:!1})},formatNumber:f["k"]}},z=V,G=(n("c294"),Object(_["a"])(z,R,H,!1,null,null,null)),K=G.exports,X=new o["a"],Q={name:"ContractExcerptsInfo",components:{DialogCreateExeprts:K},props:{show:{type:Boolean,default:!1},shopId:{type:Number,default:function(){return 0}},isNew:{type:Boolean,default:!1}},data:function(){var t=Object(s["a"])();return{is_delete:t.is_delete,is_write:t.is_write,is_edit:t.is_edit,loadingTable:!1,isCreate:!1,isUpdate:!1,tableData:[],onShowDialogCreate:!1,contract_id:0,approve:0}},methods:{setApprove:function(t){this.approve=t},onHandlerEvent:function(t){var e=t.data;this.onShowDialogCreate=!1,e&&(e.list_link=e.fileList&&e.fileList.length?"view_list_file":"",e.id=this.tableData.length+1,this.tableData.push(e),console.log(".......... is new ",this.isNew,JSON.stringify(e)),this.isNew||this.requestCreateExeprt({contract_id:this.contract_id,name:e.name,fileList:e.listFile}))},requestCreateExeprt:function(t){var e=this;this.loadingTable=!0,X.create_new_exeprt(t).then((function(t){e.loadingTable=!1;var n=t.error,a=t.msg;0===n?e.$message.success(a):e.$message.error(a)})).catch((function(t){console.log(".....err",t),e.loadingTable=!1}))},onDetailPress:function(t){console.log("............ detail : ",JSON.stringify(t));var e=t.url,n=t.link;if(e&&e.length){var a=e.substring(e.lastIndexOf("/")+1),i=document.createElement("a");i.href=e,i.download=a,i.click()}else if(n&&n.length){var o=n.substring(n.lastIndexOf("/")+1),s=document.createElement("a");s.href=n,s.download=o,s.click()}},onDeletePress:function(t){var e=this;this.$confirm("Bạn có chắc muốn xoá trích lục không?".format(t.name)).then((function(n){var a={id:t.id};X.delete_exeprt(a).then((function(n){var a=n.error,i=n.msg;if(0===a){e.$message.success(i);var o=e.tableData.findIndex((function(e){return e.id===t.id}));-1!==o&&e.tableData.splice(o,1)}else e.$message.error(i)}))})).catch((function(t){}))},setData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tableData=Object(l["a"])(t),this.contract_id=e},getInfo:function(){return this.tableData},createExerpts:function(){this.onShowDialogCreate=!0},onShowDialogShopDetail:function(t){this.url_image=t,this.showDialogShopDetail=!0},handleClickButtonDialogDetail:function(t){this.showDialogShopDetail=t.dialog,t.reload&&this.$emit("onClickButtonReload")},handleClickDialogShop:function(t){console.log("--------------------------------dialog",t),this.onShowDialog=t.dialog,t.reload}}},W=Q,Z=(n("5ffb"),Object(_["a"])(W,U,L,!1,null,"1b4f7b7b",null)),tt=Z.exports,et=new o["a"],nt={name:"ScreenContract",components:{ContractDetailInfo:S,ContactDiscountInfo:q,ContractExcerptsInfoVue:tt},props:{show:{type:Boolean,default:!1},stt:{type:String,default:"I"}},data:function(){var t=Object(s["a"])();return console.log("......... account ",JSON.stringify(t)),{is_delete:t.is_delete,is_write:t.is_write,is_edit:t.is_edit,is_approve:t.is_approve,data:[],loadingTable:!1,objectShop:{},isAdd:!0,onShowDialog:!1,url_image:"",contain:"contain",showDialogShopDetail:!1,showDialogDetail:!1,shopDetail:{},onShowDialogCreateDiscount:!1,approve:-1,is_load_data:!1}},created:function(){var t=this.$route.query;t&&(this.shopId=parseInt(t.shop_id)||0,this.is_create=parseInt(t.create)||0,this.isNew=1===this.is_create,this.id=parseInt(t.id)||0,this.id&&this.getRequestDetail())},methods:{onRejectPress:function(){this.requestReject()},onApprovePress:function(){this.requestApprove()},requestApprove:function(){var t=this;this.$confirm("Bạn có chắc muốn phê duyệt bản hợp đồng này ?").then((function(e){et.approve_contract({id:t.shopDetail.id}).then((function(e){var n=e.error,a=e.msg;console.log("........... tao moi nha cung cap ",JSON.stringify(e)),0===n?t.$msgbox(a).then((function(e){t.shopDetail.approve=1,t.approve=1})):t.$msgbox(a)})).catch((function(e){console.log(".......... tao don co loi ",e),t.loadingTable=!1,t.$msgbox("Có lỗi xảy ra, vui lòng quay lại sau!")}))})).catch((function(t){}))},requestReject:function(){var t=this;this.$confirm("Bạn có chắc muốn từ chối hợp đồng này ?").then((function(e){et.reject_contract({id:t.shopDetail.id}).then((function(e){var n=e.error,a=e.msg;console.log("........... tao moi nha cung cap ",JSON.stringify(e)),0===n?t.$msgbox(a).then((function(e){t.shopDetail.approve=2,t.approve=2})):t.$msgbox(a)})).catch((function(e){console.log(".......... tao don co loi ",e),t.loadingTable=!1,t.$msgbox("Có lỗi xảy ra, vui lòng quay lại sau!")}))})).catch((function(t){}))},discountHanlderEvent:function(t){var e=t.createDiscount;e&&(this.onShowDialogCreateDiscount=!0)},onBack:function(){window.history.back()},onConfirmPress:function(){var t=this,e={};if(this.$refs.refInfo){var n=this.$refs.refInfo.getInfo();if(console.log("............ info tao hop dong",JSON.stringify(n)),!n)return this.$msgbox("Các trường có dấu (*) không được để trống");var a=n.error;if(a=parseInt(a)||0,1===a)return this.$msgbox(n.msg);e.info=n}if(this.$refs.refDiscount){var i=this.$refs.refDiscount.getInfo();i&&(e.list_discount=i)}if(this.$refs.refExceprts){var o=this.$refs.refExceprts.getInfo();console.log(".......... list trich luc: ",o),o&&(e.list_exceprts=o)}console.log("...........tao hop dong body : ",JSON.stringify(e)),Object.keys(e).length&&(e.shop_id=this.shopId,this.$confirm("Xác nhận tạo hợp đồng").then((function(n){et.create_contract(e).then((function(e){var n=e.error,a=e.msg;console.log("........... tao moi nha cung cap ",JSON.stringify(e)),0===n?t.$msgbox(a).then((function(e){t.onBack(!0)})):t.$msgbox(a)})).catch((function(e){console.log(".......... tao don co loi ",e),t.loadingTable=!1,t.$msgbox("Có lỗi xảy ra, vui lòng quay lại sau!")}))})).catch((function(t){})))},onCancelPress:function(){this.onBack()},getRequestDetail:function(){var t=this;this.shopId?(this.loadingTable=!0,et.detail_contract(this.id).then((function(e){var n=e.error,a=e.data;if(console.log("............. chi tiet nha cung cap : ",JSON.stringify(e)),t.loadingTable=!1,0===n){t.is_load_data=!0,t.shopDetail=a,t.approve=a.approve;var i=a.discounts,o=a.exerpts;t.$refs.refInfo&&(t.$refs.refInfo.setInfo(a),t.$refs.refInfo.setApprove(t.approve)),t.$refs.refDiscount&&(t.$refs.refDiscount.setData(i,t.id),t.$refs.refDiscount.setApprove(t.approve)),t.$refs.refExceprts&&(t.$refs.refExceprts.setData(o,t.id),t.$refs.refExceprts.setApprove(t.approve))}})).catch((function(e){console.log(".................. co loi ",e),t.loadingTable=!1}))):this.is_load_data=!1},onShowDialogShopDetail:function(t){this.url_image=t,this.showDialogShopDetail=!0},handleClickButtonDialogDetail:function(t){this.showDialogShopDetail=t.dialog,t.reload&&this.$emit("onClickButtonReload")},onShowDialogCreate:function(){this.isAdd=!0,this.onShowDialog=!0,this.objectShop={}},onResetSearch:function(){}}},at=nt,it=(n("bbac"),Object(_["a"])(at,a,i,!1,null,"6766cae7",null));e["default"]=it.exports},b553:function(t,e,n){"use strict";n("fa41")},bbac:function(t,e,n){"use strict";n("d3d0")},bcc2:function(t,e,n){"use strict";n.d(e,"k",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"l",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return g})),n.d(e,"o",(function(){return m})),n.d(e,"g",(function(){return _})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return v}));n("2af1"),n("b680"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("99af"),n("fb6a"),n("a15b"),n("d81d"),n("14d9");var a=n("c1df"),i=n.n(a);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=(t/1).toFixed().replace(".",",");return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(t){return t<10?"0"+t:t}var a=new Date(t);return"DD/MM/YYYY"===e?[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===e?[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-"):void 0}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(t){return t<10?"0"+t:t}var a=new Date(t),i=[n(a.getHours()),n(a.getMinutes())].join(":"),o="";return"DD/MM/YYYY"===e?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===e&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(i," ").concat(o)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(t){return t<10?"0"+t:t}var a=new Date(t),i=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),o="";return"DD/MM/YYYY"===e?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===e&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(i," ").concat(o)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss DD-MM-YYYY";function n(t){return t<10?"0"+t:t}var a=new Date(t),i=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),o="";return"HH:mm:ss DD-MM-YYYY"===e?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===e&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(i," ").concat(o)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(t){return t<10?"0"+t:t}var i=new Date(t),o=n?i.getUTCHours():i.getHours(),s=n?i.getUTCMinutes():i.getMinutes(),r=[a(o),a(s),a(i.getSeconds())].join(":"),c="";return"DD/MM/YYYY"===e?c=[a(i.getDate()),a(i.getMonth()+1),i.getFullYear()].join("-"):"YYYY-MM-DD"===e&&(c=[a(i.getFullYear()),a(i.getMonth()+1),a(i.getDate())].join("-")),"".concat(r," ").concat(c)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";function n(t){return t<10?"0"+t:t}var a=new Date(t),i="";return"DD/MM/YYYY"===e?i=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===e&&(i=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(i)}function h(t){if(null==t)return null;var e=(t/1).toFixed().replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(t)return i()(t).format(e)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm DD/MM/YYYY";return i()(t).format(e)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm:ss";if(t)return i()(t).format(e)}function m(t){var e=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\Đ]/g,"D");return e.toUpperCase()}function _(t){switch(t){case 1:return"Tạo flight";case 2:return"Đã xác nhận";case 4:return"Hủy đúng hạn";case 5:return"Hủy sai hạn";case 6:return"Xác nhận booking";default:return"Đã hoàn thành"}}function b(t){switch(t){case 2:return"success";case 3:return"success";case 4:return"warning";case 5:return"danger";default:return"info"}}function v(t){var e=[];return t.length>0&&t.map((function(t){var n=t.id_display?t.id_display:t.id,a="vID".concat(n," - ").concat(t.fullname," (").concat(t.nickname,")"),i={value:t.id,label:a};e.push(i)})),e}},bee2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("a38e");function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Object(a["a"])(i.key),i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},c294:function(t,e,n){"use strict";n("e0b3")},c648:function(t,e,n){"use strict";n("ada5")},ccd1:function(t,e,n){},cf65:function(t,e,n){"use strict";n("57b4")},d3d0:function(t,e,n){},d4ec:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d9e2");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},e0b3:function(t,e,n){},ea61:function(t,e,n){"use strict";n("318e")},f748:function(t,e,n){"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!==e?e:e<0?-1:1}},f8c9:function(t,e,n){"use strict";var a=n("23e7"),i=n("da84"),o=n("d44e");a({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},fa41:function(t,e,n){},fa7d:function(t,e,n){"use strict";n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return u}));n("99af");var a=n("a27e");function i(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-1);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(50),e.setDate(e.getDate()-1),[t.getTime(),e.getTime()]}function o(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=Date.now();return[t.getTime(),e]}function s(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(1);var e=Date.now();return[t.getTime(),e]}function r(){var t=i(),e=new Date(t[0]);e.setDate(e.getDate()-7);var n=new Date(t[1]);return n.setDate(n.getDate()-7),[e.getTime(),n.getTime()]}function c(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setDate(t.getDate()-7);var e=Date.now();return[t.getTime(),e]}function l(t){return!isNaN(new Date(t))}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{Object(a["a"])({url:"https://shop.vcallid.com/api/public/supplier/get_permisson_menu?email=".concat(t,"&menu_id=").concat(e),method:"get"}).then((function(t){var e=t.error,a=t.data;0===e&&n&&n(a)})).catch((function(t){i&&i(t)}))}catch(o){}}}}]);