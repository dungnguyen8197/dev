(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b92d71e"],{"085a":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a("d4ec"),o=a("bee2"),s=a("262e"),r=a("2caf"),n=(a("99af"),a("6c6e")),l=a("b775"),c=a("5f87"),u=function(e){Object(s["a"])(a,e);var t=Object(r["a"])(a);function a(){return Object(i["a"])(this,a),t.call(this,"sport-agent")}return Object(o["a"])(a,[{key:"list",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/all"),method:"get",params:e})}},{key:"remove",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/remove/").concat(e),method:"get"})}},{key:"create",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/create"),method:"post",data:e})}},{key:"updateStatus",value:function(e,t){return Object(l["a"])({url:"".concat(this.uri,"/update-status/").concat(t),method:"post",data:e})}},{key:"updateStatusPayment",value:function(e,t){return Object(l["a"])({url:"".concat(this.uri,"/update-status-payment/").concat(t),method:"post",data:e})}},{key:"update",value:function(e,t){return Object(l["a"])({url:"".concat(this.uri,"/update/").concat(t),method:"post",data:e})}},{key:"searchGolfer",value:function(e,t){return Object(l["a"])({url:"".concat(this.uri,"/search-golfer"),method:"POST",data:t,params:e})}},{key:"exportData",value:function(e){return l["a"].defaults.responseType="blob",Object(l["a"])({url:"".concat(this.uri,"/export-agent"),method:"POST",data:e})}},{key:"listInsurance",value:function(e,t){return Object(l["a"])({url:"".concat(this.uri,"/list-insurance"),method:"get",data:e,params:t})}},{key:"listRevenueAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/list-revenue-agent"),method:"get",params:e,headers:{Authorization:"Bearer "+Object(c["e"])(),"X-Token":Object(c["d"])(),"Access-Control-Allow-Origin":"*"}})}},{key:"listTotalInsuranceByAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/list-total-insurance-by-agent"),method:"get",params:e})}},{key:"listDebitInsuranceByAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/list-debit-insurance-by-agent"),method:"get",params:e})}},{key:"listDebitInsuranceByAgentCode",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/list-debit-insurance-by-agent-code"),method:"get",params:e})}},{key:"listOutOfDateInsuranceByAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/list-out-of-date-insurance"),method:"get",params:e})}},{key:"exportRevenueAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/export-revenue-agent"),method:"get",params:e})}},{key:"onRemoveFile",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/public-remove-file"),method:"get",params:e})}},{key:"searchAgent",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/search-agent"),method:"post",data:e})}},{key:"createCodePayment",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/create-code-payment"),method:"post",data:e})}},{key:"searchAgentNew",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/search-agent-new"),method:"get",params:e})}},{key:"searchSaleNew",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/search-sale-cms"),method:"get",params:e})}},{key:"certificateItem",value:function(e){return Object(l["a"])({url:"".concat(this.uri,"/certificate-item"),method:"get",params:e})}}]),a}(n["a"])},"0df4":function(e,t,a){"use strict";a("eac1")},1:function(e,t){},2:function(e,t){},3:function(e,t){},"333d":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},o=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function n(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var i=n(),o=e-i,l=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=l;var n=Math.easeInOutQuad(c,i,o,t);r(n),c<t?s(e):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&l(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},u=c,d=(a("0df4"),a("2877")),h=Object(d["a"])(u,i,o,!1,null,"2f2d1216",null);t["a"]=h.exports},"372a":function(e,t,a){"use strict";a("ac71")},"6c6e":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("d4ec"),o=a("bee2"),s=a("b775"),r=function(){function e(t){Object(i["a"])(this,e),this.uri=t}return Object(o["a"])(e,[{key:"list",value:function(e){return Object(s["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(s["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(s["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(s["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(s["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"81fe":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("section",[t("el-select",{ref:"searchGolfer",staticClass:"w-100",attrs:{filterable:"",remote:"",size:e.size,clearable:"","reserve-keyword":"",placeholder:"Tìm kiếm mã VID","remote-method":e.onSearchGolfer,loading:e.loadingSearchUser},on:{change:e.handleSelectionChange,"hook:mounted":function(t){return e.cancalReadOnly(t,"searchGolfer")},"visible-change":function(t){return e.cancalReadOnly(t,"searchGolfer")}},model:{value:e.golferModel,callback:function(t){e.golferModel=t},expression:"golferModel"}},e._l(e.users,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1)},o=[],s=a("2909"),r=(a("99af"),a("d81d"),a("8ce5")),n=a("61f7"),l=new r["a"],c={name:"SearchUser",props:{clearData:{type:Boolean,default:!1},object:{type:Object,default:function(){return{}}},size:{type:String,default:"medium"},dataModel:{type:Object,default:function(){return{}}},dataDefault:{type:Array,default:function(){return[]}}},data:function(){return{golferModel:{},users:[],loadingSearchUser:!1}},watch:{clearData:function(e){console.log("val.....................clear                vào đây",e),e&&(this.golferModel={},this.users=[])},dataModel:function(e){console.log("val.....................dataModel",Object(n["b"])(e),e),Object(n["b"])(e)?(this.golferModel={},this.users=[]):(console.log("tại sao lại vào đây..............................",!Object(n["b"])(e)),this.golferModel={value:e._id,label:"VID".concat(e._id," - ").concat(e.fullname)},this.users=[this.golferModel],console.log("this.golferModel",this.golferModel))},dataDefault:function(e){Object(n["b"])(e)||(this.users=Object(s["a"])(e),console.log("this.users........",this.users))}},methods:{cancalReadOnly:function(e,t){var a=this;this.$nextTick((function(){if(!e){var i=a.$refs[t],o=i.$el.querySelector(".el-input__inner");o.removeAttribute("readonly")}}))},onSearchGolfer:function(e){var t=this;l.searchGolfer({keyword:e}).then((function(e){var a=e.data;0===e.error_code?(a.length>0?t.users=a.map((function(e){var t="VID".concat(e.id," - ").concat(e.fullname);return{value:e.id,label:t}})):t.users=[],t.loadingSearchUser=!1):t.$message.error(e.error_msg)}))},handleSelectionChange:function(e){console.log(this.golferModel),this.$emit("selection-changed-user",this.golferModel)}}},u=c,d=a("2877"),h=Object(d["a"])(u,i,o,!1,null,null,null);t["a"]=h.exports},"8ce5":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a("d4ec"),o=a("bee2"),s=a("262e"),r=a("2caf"),n=a("6c6e"),l=a("b775"),c="https://prod-wap-wghn-beta.vcallid.com",u=function(e){Object(s["a"])(a,e);var t=Object(r["a"])(a);function a(){return Object(i["a"])(this,a),t.call(this,"golfer")}return Object(o["a"])(a,[{key:"searchGolfer",value:function(e){return Object(l["a"])({url:c+"/".concat(this.uri,"/search"),method:"get",params:e})}},{key:"getInGolfer",value:function(e){return Object(l["a"])({url:c+"/".concat(this.uri,"/get-in-golfer"),method:"post",data:e})}},{key:"checkGolferExists",value:function(e){return Object(l["a"])({url:c+"/".concat(this.uri,"/check-golfer-exists"),method:"post",data:e})}}]),a}(n["a"])},"962a":function(e,t,a){},"9b74":function(e,t,a){"use strict";a("962a")},ac71:function(e,t,a){},b8ca:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"update-passport",attrs:{title:"Thông tin chi tiết",visible:e.dialogVisible,"show-close":!1,"before-close":e.closeDialog,width:"75%",top:"5vh"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticStyle:{height:"100%"}},[e.imageUrl.length>0?t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.imageUrl,(function(a,i){return t("el-tab-pane",{key:i,attrs:{label:"Hố "+a[0].name_hole,name:a[0].name_hole}},[t("el-row",{staticClass:"border p-10 mb-10 br-10"},[t("label",[e._v("Ảnh vị trí cắm cờ đỉnh hoặc sườn dốc")]),t("el-row",{staticClass:"p-10"},[t("el-col",{staticClass:"p-10",attrs:{span:12}},[t("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a[0].img_position,fit:"contain"}}),t("p",[e._v("Ảnh vị trí đỉnh "),1!==a[0].request_confirm?t("span",{staticStyle:{color:"red"}},[e._v("(Ảnh không đạt chuẩn)")]):e._e()])],1),t("el-col",{staticClass:"p-10",attrs:{span:12}},[t("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a[1].img_position,fit:"contain"}}),t("p",[e._v("Ảnh vị trí sườn dốc "),1!==a[1].request_confirm?t("span",{staticStyle:{color:"red"}},[e._v("(Ảnh không đạt chuẩn)")]):e._e()])],1)],1)],1),t("el-row",{staticClass:"border p-10 br-10"},[t("label",[e._v("Khoảng cách")]),t("el-row",{staticClass:"p-10"},[t("el-col",{staticClass:"p-10",attrs:{span:12}},[t("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a[2].img_position,fit:"contain"}}),t("p",[e._v("Khu vực tee box "),1!==a[2].request_confirm?t("span",{staticStyle:{color:"red"}},[e._v("(Ảnh không đạt chuẩn)")]):e._e()])],1),t("el-col",{staticClass:"p-10",attrs:{span:12}},[t("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a[3].img_position,fit:"contain"}}),t("p",[e._v("Bảng info "),1!==a[3].request_confirm?t("span",{staticStyle:{color:"red"}},[e._v("(Ảnh không đạt chuẩn)")]):e._e()])],1)],1)],1)],1)})),1):e._e()],1)])},o=[],s=(a("13d5"),a("d3b7"),a("c740"),a("14d9"),a("61f7")),r={name:"DialogShowImage",props:{objectBill:{type:Object,default:function(){return{}}},dialogVisible:{type:Boolean,default:!1}},data:function(){return{imageUrl:[],activeName:""}},watch:{objectBill:function(e){console.log("val................DialogShowImage",e),Object(s["b"])(e.ListHoleInspector)||(this.imageUrl=e.ListHoleInspector,this.imageUrl=this.imageUrl.reduce((function(e,t){var a=e.findIndex((function(e){return e[0].name_hole===t.name_hole}));return-1===a?e.push([t]):e[a].push(t),e}),[]),this.activeName=this.imageUrl[0][0].name_hole,console.log("this.imageUrl",this.imageUrl))}},methods:{showImage:function(e){this.dialogVisible=!0,this.imageUrl=e},closeDialog:function(){this.imageUrl=[],this.activeName="",this.$emit("closeDialog")},handleClick:function(e,t){console.log(e,t)}}},n=r,l=(a("372a"),a("2877")),c=Object(l["a"])(n,i,o,!1,null,null,null);t["a"]=c.exports},cb48:function(e,t,a){"use strict";a("e8da")},e8da:function(e,t,a){},e936:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a("d4ec"),o=a("bee2"),s=a("262e"),r=a("2caf"),n=a("6c6e"),l=a("b775"),c="https://api-bank-dev.vcallid.com/api/v1/material_covered",u="https://prod-wap-wghn-beta.vcallid.com/insurance-hio",d=function(e){Object(s["a"])(a,e);var t=Object(r["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"listCategoryProduct",value:function(e){return Object(l["a"])({url:c+"/cms_list_category_material_covered",method:"GET",data:e,params:e})}},{key:"listProdByCategory",value:function(e){return Object(l["a"])({url:c+"/list_category_material_covered",method:"GET",data:e,params:e})}},{key:"listProduct",value:function(e){return Object(l["a"])({url:c+"/cms_list_product_material_covered",method:"POST",data:e,params:e})}},{key:"createSubCategory",value:function(e){return Object(l["a"])({url:c+"/cms_create_sub_category_material_coverd",method:"POST",data:e,params:e})}},{key:"createCategory",value:function(e){return Object(l["a"])({url:c+"/cms_create_category_material_coverd",method:"POST",data:e,params:e})}},{key:"changeDisplay",value:function(e){return Object(l["a"])({url:c+"/hidden_category_material_coverd",method:"GET",data:e,params:e})}},{key:"listBill",value:function(e){return Object(l["a"])({url:c+"/cms_list_masterial_coverd",method:"GET",data:e,params:e})}},{key:"searchBill",value:function(e){return Object(l["a"])({url:c+"/cms_search_material_covered",method:"POST",data:e,params:e})}},{key:"createProduct",value:function(e){return Object(l["a"])({url:c+"/cms_create_product_masterial_coverd",method:"POST",data:e,params:e})}},{key:"updateProduct",value:function(e){return Object(l["a"])({url:c+"/cms_update_product_material_covered",method:"POST",data:e,params:e})}},{key:"listFacilitySale",value:function(e){return Object(l["a"])({url:c+"/cms_list_facility_select_material_covered",method:"GET",params:e})}},{key:"createHoleSale",value:function(e){return Object(l["a"])({url:c+"/cms_add_hole_select_material_covered",method:"POST",data:e,params:e})}},{key:"activeHoleSale",value:function(e){return Object(l["a"])({url:c+"/cms_setting_hole_select_material_covered",method:"POST",data:e,params:e})}},{key:"activeFacilitySale",value:function(e){return Object(l["a"])({url:c+"/cms_setting_facility_select_material_covered",method:"POST",data:e,params:e})}},{key:"listMaterialCovered",value:function(e){return Object(l["a"])({url:c+"/cms_search_product_material_covered",method:"POST",data:e,params:e})}},{key:"createMaterialCovered",value:function(e){return Object(l["a"])({url:c+"/cms_create_masterial_coverd",method:"POST",data:e})}},{key:"sendMailConfirmSaleToPVI",value:function(e,t){return Object(l["a"])({url:t,method:"POST",data:e})}},{key:"confirmSaleHIO",value:function(e){return Object(l["a"])({url:c+"/cms_update_status_material_covered",method:"POST",data:e,params:e})}},{key:"listMaterialOutsystem",value:function(e){return Object(l["a"])({url:"/order-material-outsystem/lists",method:"GET",params:e})}},{key:"listLogCallbackPVI",value:function(e){return Object(l["a"])({url:"/order-material-outsystem/log-callback-pvi-material-covered",method:"GET",params:e})}},{key:"searchAgency",value:function(e){return Object(l["a"])({url:"https://bussiness.vcallid.com/api/v1/search-agent-new",method:"GET",params:e})}},{key:"addUserMaterial",value:function(e){return Object(l["a"])({url:c+"/cms_add_user_material_covered",method:"POST",data:e})}},{key:"updateSubCategory",value:function(e){return Object(l["a"])({url:c+"/cms_update_sub_category",method:"POST",data:e,params:e})}},{key:"updateCategory",value:function(e){return Object(l["a"])({url:c+"/cms_update_category",method:"POST",data:e,params:e})}},{key:"confirmSaleHIOOutSystem",value:function(e){return Object(l["a"])({url:c+"/cms_update_order_material_outsystem",method:"POST",data:e,params:e})}},{key:"createCodePayment",value:function(e){return Object(l["a"])({url:c+"/cms_create_payment_material_covered",method:"POST",data:e})}},{key:"removeUserFromOrder",value:function(e){return Object(l["a"])({url:c+"/cms_remove_user_material_covered",method:"POST",data:e})}},{key:"pushOrderToPVI",value:function(e){return Object(l["a"])({url:c+"/cms_push_insurrance_pvi",method:"POST",data:e})}},{key:"listUserInspector",value:function(e){return Object(l["a"])({url:c+"/cms_list_user_inspector_material",method:"POST",data:e,params:e})}},{key:"createUserInspector",value:function(e){return Object(l["a"])({url:c+"/cms_setting_user_inspector_material_covered",method:"POST",data:e,params:e})}},{key:"detailBillInsurance",value:function(e){return Object(l["a"])({url:c+"/cms_view_detail_masterial_coverd",method:"POST",data:e,params:e})}},{key:"getInfoPayment",value:function(e){return Object(l["a"])({url:c+"/cms_get_info_payment_material_covered",method:"POST",data:e,params:e})}},{key:"exportExcelBill",value:function(e){return Object(l["a"])({url:u+"/export-excel-material",method:"GET",data:e,params:e})}}]),a}(n["a"])},eac1:function(e,t,a){},ff72:function(e,t,a){"use strict";a("b0c0");var i=function(){var e=this,t=e._self._c;return t("el-dialog",{staticStyle:{"margin-top":"30px !important"},attrs:{title:e.isEmptyObject(e.dataEdit)?"Thêm mới đơn hàng":"Cập nhật đơn hàng",visible:e.dialogFormVisible,width:"95%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-row",{staticClass:"dialog-insurance"},[t("el-col",{staticClass:"pr-lg-5",attrs:{sm:6,disabled:!e.isEmptyObject(e.dataEdit)}},[t("el-row",[t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Tên giải đấu: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-input",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),placeholder:"Nhập tên giải đấu"},model:{value:e.postForm.name_tour,callback:function(t){e.$set(e.postForm,"name_tour",t)},expression:"postForm.name_tour"}})],1)],1),t("el-row",[t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Tìm kiếm người đại diện mua BH: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("div",{staticClass:"search-golfer"},[t("search-user",{attrs:{"data-model":e.dataEdit.User,object:e.dataEdit,"clear-data":e.clearUser,disabled:!e.isEmptyObject(e.dataEdit)},on:{"selection-changed-user":e.handleSelectionChangedUser}})],1)])],1),t("el-row",[t("el-col",{staticClass:"mb-2",attrs:{span:24}},[t("label",[e._v("Phần trăm hoàn cho user mua: "),t("span",{staticClass:"required"})]),t("div",{staticClass:"clearfix-5"}),t("el-input",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),placeholder:"Nhập số phần trăm"},on:{input:function(t){return e.handleInputReGex("percent_refund","[^0-9.]")}},model:{value:e.postForm.percent_refund,callback:function(t){e.$set(e.postForm,"percent_refund",t)},expression:"postForm.percent_refund"}})],1)],1),t("el-row",[t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Chọn sản phẩm: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Tìm kiếm sản phẩm","remote-method":e.onSearchProductMaterial},on:{change:e.handleSelectionChangeMaterial},model:{value:e.materialModel,callback:function(t){e.materialModel=t},expression:"materialModel"}},e._l(e.materials,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e}})})),1)],1)],1),t("el-row",[t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Chọn số người chơi: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),clearable:"",filterable:"",remote:"",placeholder:"Chọn số người chơi"},model:{value:e.postForm.option_material_covered,callback:function(t){e.$set(e.postForm,"option_material_covered",t)},expression:"postForm.option_material_covered"}},e._l(e.optionMaterialCovered,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-row",[t("el-col",{staticClass:"mb-2",attrs:{span:12}},[t("label",[e._v("Chọn sân đánh: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Tìm kiếm sân golf","remote-method":e.onSearchFacility},on:{change:e.handleSelectionChangeFacility},model:{value:e.facilityModel,callback:function(t){e.facilityModel=t},expression:"facilityModel"}},e._l(e.facilities,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e}})})),1)],1),t("el-col",{staticClass:"mb-2",attrs:{span:12}},[t("label",[e._v("Chọn hố: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),filterable:"",multiple:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"Nhập hố đánh"},on:{change:e.handleSelectionHole},model:{value:e.holeModel,callback:function(t){e.holeModel=t},expression:"holeModel"}},e._l(e.list_hole,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1),t("el-row",[t("label",[e._v("Chọn golfer: ")]),t("el-row",[[t("el-radio",{attrs:{label:"1"},model:{value:e.chooseOptionGolfer,callback:function(t){e.chooseOptionGolfer=t},expression:"chooseOptionGolfer"}},[e._v("Người chơi trong hệ thống")]),t("el-radio",{attrs:{label:"0"},model:{value:e.chooseOptionGolfer,callback:function(t){e.chooseOptionGolfer=t},expression:"chooseOptionGolfer"}},[e._v("Người chơi ngoài hệ thống")])]],2),"1"==e.chooseOptionGolfer?t("el-row",[t("search-user",{on:{"selection-changed-user":e.handleSelectionChangedUserBuyInsurance}})],1):t("el-col",{staticClass:"text-center"},[t("el-input",{staticClass:"w-100 mb-1",attrs:{placeholder:"Nhập tên người chơi"},model:{value:e.userOutSystem.user_name,callback:function(t){e.$set(e.userOutSystem,"user_name",t)},expression:"userOutSystem.user_name"}}),t("el-input",{staticClass:"w-100 mb-1",attrs:{placeholder:"Nhập CCCD/Passport hoặc ngày sinh"},model:{value:e.userOutSystem.passport,callback:function(t){e.$set(e.userOutSystem,"passport",t)},expression:"userOutSystem.passport"}}),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addUserOutSystem}},[e._v("Xác nhận thông tin")])],1)],1),t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Giá trị vật phẩm: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-input",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),placeholder:"Nhập giá trị vật phẩm",readonly:""},model:{value:e.postForm.price,callback:function(t){e.$set(e.postForm,"price",t)},expression:"postForm.price"}})],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("label",[e._v("Chọn teetime: "),t("span",{staticClass:"required"},[e._v("*")])])]),t("el-col",{staticClass:"mb-2",attrs:{span:24}},[t("div",{staticClass:"clearfix-5"}),t("el-date-picker",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),type:"datetime","value-format":"timestamp","picker-options":e.pickerOption,placeholder:"Chọn ngày chơi"},on:{change:e.handleChangeDatePlayed},model:{value:e.postForm.date_played,callback:function(t){e.$set(e.postForm,"date_played",t)},expression:"postForm.date_played"}})],1)],1),t("el-row",[t("el-col",{staticClass:"mb-2",attrs:{span:24}},[t("label",[e._v("Chọn đại lý bán BH: "),t("span",{staticClass:"required"},[e._v("*")])]),t("div",{staticClass:"clearfix-5"}),t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmptyObject(e.dataEdit),filterable:"",remote:"",placeholder:"Chọn đại lý","remote-method":e.onSearchAgent,loading:e.loadingSearchAgent},model:{value:e.postForm.agent_id,callback:function(t){e.$set(e.postForm,"agent_id",t)},expression:"postForm.agent_id"}},e._l(e.listAgency,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name+" - "+e.code_agent,value:e.id}})})),1)],1),t("el-col",{staticClass:"mb-2"},[t("label",[e._v("Ghi chú:")]),t("div",{staticClass:"clearfix-5"}),t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Nội dung ghi chú"},model:{value:e.postForm.note,callback:function(t){e.$set(e.postForm,"note",t)},expression:"postForm.note"}})],1)],1)],1),t("el-col",{attrs:{sm:18}},[t("el-row",{staticClass:"box-search-golfer"},[t("el-col",{attrs:{span:24}},[t("label",[e._v("Import File:")])]),t("el-col",{attrs:{span:12}},[t("upload-excel-insurance-physical-damage",{on:{onSetData:e.handleSetData}})],1),t("el-col",{staticClass:"text-center",attrs:{span:12}},[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-download"},on:{click:e.onDownloadExcelExample}},[e._v(" Tải file mẫu ")])],1)],1),t("el-row",{staticClass:"lists-data-passport",staticStyle:{"padding-top":"20px","padding-left":"10px","padding-bottom":"20px"}},[t("el-col",{attrs:{span:12}},[t("label",[e._v("Danh sách passport tham gia giải: ")])]),t("el-col",{staticClass:"text-right",attrs:{span:24}},[t("div",[t("label",[e._v("Số lượng golfer tham gia giải: "+e._s(e.dataImport.length))])]),t("div",[t("label",[e._v("Danh sách golfer import lỗi: "+e._s(e.listsGolferError.length))])])]),t("div",{staticClass:"clearfix-5",staticStyle:{"padding-top":"20px"}})],1),t("el-row",{staticClass:"lists-data-golfer mb-5"},[t("el-table",{attrs:{border:"",data:e.listsGolfers,width:"100%"}},[t("el-table-column",{attrs:{label:"STT",width:"50"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("strong",[e._v(e._s(i.index))])]}}])}),t("el-table-column",{attrs:{label:"vID"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("strong",[e._v(e._s(i.user_id))])]}}])}),t("el-table-column",{attrs:{label:"Họ và tên"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("strong",[e._v(e._s(i.user_name))])]}}])}),t("el-table-column",{attrs:{label:"passport"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("strong",[e._v(e._s(i.passport))])]}}])}),t("el-table-column",{attrs:{label:"Hành động"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.onRemoveGofer(i)}}},[e._v(" Xóa ")])]}}])})],1)],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.listQuery.limit,expression:"total > listQuery.limit"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.onGetList}}),e.listsGolferError.length>0?t("el-row",[t("el-col",{staticClass:"pr-lg-5",attrs:{span:24}},[t("label",{staticClass:"text-center"},[e._v("Danh sách golfer import lỗi")]),t("el-col",{staticClass:"mb-1"},[t("strong",[e._v("STT:")]),e._l(e.listsGolferError,(function(t,a){return[e._v(" "+e._s(t.index)+e._s(a<e.listsGolferError.length-1?", ":"")+" ")]}))],2)],1)],1):e._e()],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("Hủy bỏ")]),t("el-button",{attrs:{type:"primary",loading:e.loadingSubmit},on:{click:e.onSubmitPostForm}},[e._v("Xác nhận")])],1)],1)},o=[],s=a("53ca"),r=a("c7eb"),n=a("1da1"),l=a("2909"),c=(a("99af"),a("d3b7"),a("159b"),a("14d9"),a("fb6a"),a("c740"),a("a434"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("5319"),a("4de4"),a("7db0"),a("d81d"),a("81fe")),u=a("61f7"),d=function(){var e=this,t=e._self._c;return t("el-row",[t("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),t("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" Thả tệp excel vào đây hoặc "),t("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v("Browse")])],1)])},h=[],m=(a("00b4"),a("1146")),p=a.n(m),f=a("8ce5"),g=new f["a"],_={name:"UploadExcelInsurancePhysicalDamage",props:{listsGolfers:{type:Array,default:function(){return[]}},listsGolferError:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1}},methods:{handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.warning("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.warning("Only support uploading one file!")}},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.abrupt("return",new Promise((function(a,i){var o=new FileReader;o.onload=function(e){var a=e.target.result,i=p.a.read(a,{type:"array"}),o=i.SheetNames[0],s=i.Sheets[o],r=p.a.utils.sheet_to_json(s),n=[],c=[];console.log("results....................",r),t.$emit("onSetData",n,c);var d=0;r.map((function(e){var t={index:d++,user_id:e["vID"],user_name:e["Name"],passport:e["Passport"],indexImport:e["STT"],system_avatar_path:"https://livenet.vhandicap.com/images/av.png"};Object(u["b"])(t.user_id)&&Object(u["b"])(t.passport)?c.push(t):n.push(t)})),g.checkGolferExists({list_golfer:n}).then((function(e){console.log("res....................1111111111111111",e);var a=n.filter((function(t){var a=e.data.filter((function(e){return parseInt(e.index)===parseInt(t.index)}));if(0===a.length)return t}));console.log("listGolferNotExists....................",a),t.$emit("onSetData",e.data,[].concat(c,Object(l["a"])(a)))})).catch((function(e){console.log("err....................",e),t.$message.error("Có lỗi xảy ra, vui lòng thử lại sau"),t.$emit("onSetData",[],[])})),t.loading=!1,console.log("array....................",n),console.log("array....................",c)},o.readAsArrayBuffer(e)})));case 2:case"end":return a.stop()}}),a)})))()},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},b=_,v=(a("9b74"),a("2877")),y=Object(v["a"])(b,d,h,!1,null,"6352ee68",null),O=y.exports,S=a("333d"),j=a("e936"),k=a("085a"),x=a("1157"),C=a("5f87"),w=a("c1df"),I=a.n(w),F=new j["a"],G=new k["a"],E=[{value:0,label:"Chưa xác nhận gửi PVI"},{value:1,label:"Xác nhận gửi PVI"}],D=[{value:1,label:"Từ 0 - 200 người"},{value:2,label:"Từ 201 - 250 người"},{value:3,label:"Từ 250 - 350 người"},{value:4,label:"Trên 350 người"}],M={name:"DialogInsuranceBillForm",components:{Pagination:S["a"],UploadExcelInsurancePhysicalDamage:O,SearchUser:c["a"]},props:{dialogFormVisible:{type:Boolean,default:!1},dataEdit:{type:Object,default:function(){return{}}}},data:function(){return{loadingDialog:!1,inputValue:"",postForm:{},loadingSubmit:!1,facilityModel:{},materialModel:{},holeModel:[],loadingSearchFacility:!1,facilities:[],materials:[],holes:[],optionsPay:[].concat(E),listAgency:[],loadingSearchAgent:!1,listsGolfers:[],listsGolferError:[],golferByInsurances:[],listQuery:{page:1,limit:10},total:0,dataImport:[],pickerOption:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},list_hole:[],optionMaterialCovered:D,chooseOptionGolfer:"1",userOutSystem:{user_id:-1,user_name:"",passport:""},clearUser:!1,initListGolfer:[]}},watch:{dialogFormVisible:function(e){e||this.handleClose()},dataEdit:function(e){Object(u["b"])(e)||(this.loadingDialog=!0,console.log("dataEdit.....................................",e),this.setDataDialog(e))}},methods:{isEmptyObject:x["isEmptyObject"],handleClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.clearUser=!0,this.postForm={},this.listsGolfers=[],this.listsGolferError=[],this.facilities=[],this.facilityModel={},this.materialModel={},this.holeModel=[],this.materials=[],this.holes=[],this.dataImport=[],this.total=0,this.list_hole=[],this.listQuery={page:1,limit:10},console.log(this.facilities,this.facilityModel),console.log(this.list_hole,this.holeModel),this.$emit("closeDialog",{reload:e})},onSubmitPostForm:function(){var e=this;if(console.log("ịdhsfíadhfaióhfáihf",Object(C["b"])()),this.loadingSubmit=!0,this.postForm.list_member=[],Object(x["isEmptyObject"])(this.dataEdit)){if(Object(u["b"])(this.postForm.user_id))return this.$message({message:"Vui lòng chọn người đại diện",type:"error"}),void(this.loadingSubmit=!1);if(Object(u["b"])(this.postForm.item_select))return this.$message({message:"Vui lòng chọn sản phẩm",type:"error"}),void(this.loadingSubmit=!1);if(Object(u["b"])(this.postForm.facility_id))return this.$message({message:"Vui lòng chọn sân đánh",type:"error"}),void(this.loadingSubmit=!1);if(Object(u["b"])(this.postForm.list_hole))return this.$message({message:"Vui lòng chọn hố đánh",type:"error"}),void(this.loadingSubmit=!1);if(this.postForm.date_played){var t=I()(this.postForm.date_played),a=I()();if(t.isBefore(a))return this.$message({message:"Vui lòng chọn teetime lớn hơn thời gian hiện tại ",type:"error"}),void(this.loadingSubmit=!1)}if(Object(u["b"])(this.postForm.date_played))return this.$message({message:"Vui lòng chọn ngày đánh",type:"error"}),void(this.loadingSubmit=!1);if(parseInt(this.postForm.price)<1e7)return this.$message({message:"Vui lòng nhập giá trị sản phẩm lớn hơn 10.000.000 VNĐ",type:"error"}),void(this.loadingSubmit=!1);if(!this.validateNumberUser(this.listsGolfers.length,parseInt(this.postForm.option_material_covered)))return this.$message({message:"Số lượng người tham gia không hợp lệ",type:"error"}),void(this.loadingSubmit=!1);this.postForm.date_played=this.postForm.date_played/1e3,this.dataImport.forEach((function(t){console.log("golfer",t),t.user_id&&parseInt(t.user_id)>0?e.postForm.list_member.push({user_id:t.user_id,user_name:t.user_name}):e.postForm.list_member.push({user_id:-1,user_name:t.user_name,identity_number:parseInt(t.passport)})})),this.postForm.sale_id=Object(C["b"])().id,this.postForm.sale_name=Object(C["b"])().name,console.log("this.postForm",this.postForm),F.createMaterialCovered(this.postForm).then((function(t){0===t.error_code?(e.$message({message:"Tạo mới thành công",type:"success"}),e.$emit("onGetList"),e.handleClose(!0)):e.$message({message:t.error_msg,type:"error"})})).catch((function(t){e.$message({message:t.message,type:"error"})})).finally((function(){e.loadingSubmit=!1}))}else this.updateListGolfer()},handleSelectionChangedUser:function(e){console.log("value",e),Object(u["b"])(e)?delete this.postForm.user_id:this.postForm.user_id=e.value},onGetListFacilities:function(){this.$emit("onGetListFacilities")},onSearchAgent:function(e){var t=this;console.log("keywords",e),this.loadingSearchAgent=!0,G.searchAgentNew({keyword:e}).then((function(e){console.log("res",e),e=e.data,0===e.error_code?t.listAgency=e.data:t.$message({message:e.message,type:"error"}),console.log("this.listAgency",t.listAgency)})).catch((function(e){t.$message({message:e.message,type:"error"})})),this.loadingSearchAgent=!1},onDownloadExcelExample:function(){var e="/import-golfer-hio-physical-example.xlsx";console.log("urlFile",e);var t=document.createElement("a");t.href=e,t.setAttribute("download","File_import_list_golfer"),document.body.appendChild(t),t.click()},paginateData:function(){this.total=this.dataImport.length;var e=(this.listQuery.page-1)*this.listQuery.limit,t=this.listQuery.page*this.listQuery.limit;this.listsGolfers=Object(l["a"])(this.dataImport.slice(e,t))},handleSetData:function(e,t){var a=this;this.dataImport.length>=200&&1===this.postForm.option_material_covered||this.dataImport.length>=250&&2===this.postForm.option_material_covered||this.dataImport.length>=350&&3===this.postForm.option_material_covered?this.$message({message:"Số lượng golfer vượt quá giới hạn",type:"warning"}):(this.listsGolferError=Object(l["a"])(t),e.forEach((function(e){var t=-1;t=Object(u["b"])(e.user_id)||-1===e.user_id?a.dataImport.findIndex((function(t){return t.passport===e.passport})):a.dataImport.findIndex((function(t){return t.user_id===e.user_id})),-1!==t?a.$message({message:"Golfer ".concat(e.user_name," đã tồn tại trong danh sách"),type:"warning"}):a.dataImport.push(e)})),console.log("this.dataImport",this.dataImport),this.total=this.dataImport.length,this.resetIndexListGolfer(),this.paginateData(),console.log("this.initListGolfer---------------------------------------",this.initListGolfer))},onRemoveGofer:function(e){var t=this.listsGolfers.findIndex((function(t){return t.index===e.index}));console.log("index",t),-1!==t&&this.listsGolfers.splice(t,1);var a=this.dataImport.findIndex((function(t){return t.index===e.index}));console.log("indexImport",a),-1!==a&&this.dataImport.splice(a,1),this.resetIndexListGolfer(),this.paginateData()},handleInputReGex:function(e,t){console.log("model",e),console.log("regex",t),console.log("this.postForm[model]",this.postForm[e]);var a=new RegExp(t,"g");this.postForm[e]=this.postForm[e].replace(a,"")},handleSelectionChanged:function(e){console.log("value",e),Object(u["b"])(e)?delete this.postForm.facility_id:(this.postForm.facility_id=e.value,console.log("this.listQuery.facility_id",this.postForm))},onGetList:function(){this.total=this.dataImport.length;var e=(this.listQuery.page-1)*this.listQuery.limit,t=this.listQuery.page*this.listQuery.limit;this.listsGolfers=Object(l["a"])(this.dataImport.slice(e,t))},onSearchFacility:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var i;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log("keywords",e),t.loadingSearchFacility=!0,i={q:e},F.listFacilitySale(i).then((function(e){t.loadingSearchFacility=!1;var a=[];e.data.forEach((function(e){a.push({id:e.id,label:e.sub_title,value:e})})),t.facilities=a,console.log("res",t.facilities)})).catch((function(e){t.loadingSearchFacility=!1,console.log("err",e)}));case 4:case"end":return a.stop()}}),a)})))()},handleSelectionChangeFacility:function(e){if(console.log("value",e),console.log("this.facilityModel.............",this.facilityModel),this.holeModel=[],this.list_hole=[],Object(u["b"])(e))return delete this.postForm.facility_id,this.holes=[],void(this.postForm.list_hole=[]);console.log("holes",this.list_hole),this.postForm.facility_id=e.id,console.log("this.listQuery.facility_id",this.postForm),this.holes=e.value.ListHoleInsurrance.filter((function(e){return null!==e}));var t=[];this.holes.forEach((function(e){t.push({id:e.id,label:"Hố "+e.stt+" - Đường "+e.path_name,value:e})})),this.list_hole=t,console.log("holes",this.list_hole)},handleSelectionChangedUserBuyInsurance:function(e){if(console.log("value",e,Object(u["b"])(e)),!Object(u["b"])(e))if(this.dataImport.length>=200&&1===this.postForm.option_material_covered||this.dataImport.length>=250&&2===this.postForm.option_material_covered||this.dataImport.length>=350&&3===this.postForm.option_material_covered)this.$message({message:"Số lượng golfer vượt quá giới hạn",type:"warning"});else{var t={index:0,user_id:e.value,indexImport:1,system_avatar_path:"https://livenet.vhandicap.com/images/av.png",user_name:e.label,is_not_found:!1},a=this.dataImport.findIndex((function(e){return e.user_id===t.user_id}));-1===a?(this.dataImport.push(t),console.log("this.dataImport",this.dataImport),this.resetIndexListGolfer(),this.onGetList()):this.$message({message:"Người dùng đã tồn tại trong danh sách",type:"warning"})}},handleInputConfirm:function(){var e=this.inputValue;if(e){var t={index:0,user_id:-1,indexImport:1,system_avatar_path:"https://livenet.vhandicap.com/images/av.png",user_name:e,is_not_found:!1};this.dataImport.push(t),this.resetIndexListGolfer(),this.onGetList()}this.inputValue=""},resetIndexListGolfer:function(){this.dataImport.forEach((function(e,t){e.index=t+1,e.user_id=e.user_id?e.user_id:-1})),this.total=this.dataImport.length},onSearchProductMaterial:function(e){var t=this,a={q:e,is_public:1};F.listMaterialCovered(a).then((function(e){if(console.log("res",e),0===e.error_code){var a=[];e.data.forEach((function(e){a.push({id:e.id,label:e.name,value:e})})),t.materials=a}console.log("materials",t.materials)})).catch((function(e){console.log("err",e)}))},handleSelectionChangeMaterial:function(e){if(console.log("value............handleSelectionChangeMaterial",e),Object(u["b"])(e))return delete this.postForm.item_select,void delete this.postForm.price;this.postForm.item_select=e.value,this.postForm.price=e.value.price,console.log("this.postForm.item_select",this.postForm)},handleSelectionHole:function(e){var t=this;console.log("value",e),console.log(this.holes);var a=[];e.forEach((function(e){console.log("item",e);var i=t.holes.find((function(t){return t.id===e}));console.log("hole",i),i&&(i.is_selected=1,a.push(i))})),this.postForm.list_hole=a,console.log("this.postForm.list_hole",this.postForm),console.log("this.holeModel",this.holeModel)},addUserOutSystem:function(){console.log(this.userOutSystem),this.dataImport.length>=200&&1===this.postForm.option_material_covered||this.dataImport.length>=250&&2===this.postForm.option_material_covered||this.dataImport.length>=350&&3===this.postForm.option_material_covered?this.$message({message:"Số lượng golfer vượt quá giới hạn",type:"warning"}):(this.dataImport.push(this.userOutSystem),this.resetIndexListGolfer(),this.paginateData(),this.userOutSystem={user_id:-1,user_name:"",passport:""},console.log(this.dataImport))},setDataDialog:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function a(){return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log("this.dataDialog...........1111111111111111111111111",e),t.postForm.name_tour=e.name_tour,t.materialModel={id:e.ProductInfo.id,label:e.ProductInfo.name,value:e.ProductInfo},t.materials=[t.materialModel],t.postForm.option_material_covered=e.option_material_covered,console.log("this.postForm.option_material_covered",Object(s["a"])(t.postForm.option_material_covered),t.postForm.option_material_covered),t.facilityModel={id:e.facility_id,label:e.course_name,value:{id:e.facility_id,name:e.course_name}},t.facilities=[t.facilityModel],t.holeModel=e.ListHoleInspector.map((function(e){return e.list_position[0].id_hole})),t.list_hole=e.ListHoleInspector.map((function(e){return{id:e.list_position[0].id_hole,label:e.name_hole}})),t.postForm.date_played=e.date_played_timestamp,t.postForm.price=e.ProductInfo.price,a.next=14,e.ListUserMaterialCovered.map((function(e,t){return console.log("item",e),{user_id:e.user_id,user_name:Object(u["b"])(e.Users)?e.name_user:e.Users.fullname,passport:e.passport,index:t}}));case 14:return t.dataImport=a.sent,a.next=17,e.ListUserMaterialCovered.map((function(e,t){return console.log("item",e),{user_id:e.user_id,user_name:Object(u["b"])(e.Users)?e.name_user:e.Users.fullname,passport:e.passport,index:t,id:e.id}}));case 17:t.initListGolfer=a.sent,t.resetIndexListGolfer(),t.paginateData(),console.log("this.listsGolfers,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,",t.listsGolfers),console.log("this.facilities.................",t.facilities),console.log("this.initListGolfer.............................",t.initListGolfer);case 23:case"end":return a.stop()}}),a)})))()},updateListGolfer:function(){var e=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var a,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateNumberUser(e.listsGolfers.length,parseInt(e.postForm.option_material_covered))){t.next=4;break}return e.$message({message:"Số lượng người tham gia không hợp lệ",type:"error"}),e.loadingSubmit=!1,t.abrupt("return");case 4:if(a={id_material_covered:e.dataEdit.id,cms_id:Object(C["b"])().id,list_user_add:[]},i={id_material_covered:e.dataEdit.id,cms_id:Object(C["b"])().id,list_user_add:[],list_member:[]},console.log("this.initListGolfer.............................",e.initListGolfer),e.initListGolfer.forEach((function(t){console.log("golfer",t);var a=e.dataImport.findIndex((function(e){return console.log("item",e),e.user_id===t.user_id&&-1!==e.user_id||-1===e.user_id&&parseInt(e.passport)===parseInt(t.passport)}));-1===a&&i.list_member.push({user_id:t.user_id,user_name:t.user_name,id:t.id,passport:t.passport})})),e.dataImport.forEach((function(t){console.log("golfer",t);var i=e.initListGolfer.findIndex((function(e){return console.log("item",e),e.user_id===t.user_id&&-1!==e.user_id||-1===e.user_id&&parseInt(e.passport)===parseInt(t.passport)}));-1===i&&(t.user_id&&parseInt(t.user_id)>0?a.list_user_add.push({user_id:t.user_id,user_name:t.user_name}):a.list_user_add.push({user_id:-1,user_name:t.user_name,identity_number:parseInt(t.passport)}))})),console.log("data",a),!(a.list_user_add.length>0)){t.next=13;break}return t.next=13,F.addUserMaterial(a).then((function(t){0===t.error_code?e.$message({message:"Cập nhật thành công",type:"success"}):e.$message({message:t.error_msg,type:"error"}),e.loadingSubmit=!1})).catch((function(t){console.log("err",t),e.$message({message:t,type:"error"}),e.loadingSubmit=!1}));case 13:if(!(i.list_member.length>0)){t.next=16;break}return t.next=16,F.removeUserFromOrder(i).then((function(t){0===t.error_code?e.$message({message:"Cập nhật thành công",type:"success"}):e.$message({message:"Cập nhật thất bại",type:"error"}),e.loadingSubmit=!1})).catch((function(t){console.log("err",t),e.$message({message:t,type:"error"})}));case 16:e.loadingSubmit=!1,e.handleClose(!0),e.onGetList();case 19:case"end":return t.stop()}}),t)})))()},handleChangeDatePlayed:function(e){console.log("date--------------------change",e);var t=I()(I()().format("YYYY-MM-DD 10:00:00")).unix();console.log("now",t);var a=I()(e).format("HH");if(console.log("hour",a),!(a<6||a>18)&&!(e/1e3<=t)){var i=I()().unix();if(console.log("timeNow",i),!(e/1e3<=i+14400)){var o=I()(I()().format("YYYY-MM-DD 18:00:00")).unix(),s=(I()(I()().format("YYYY-MM-DD 06:00:00")).unix(),I()(I()().format("YYYY-MM-DD 14:00:00")).unix(),I()(I()().add(1,"days").format("YYYY-MM-DD 06:00:00")).unix()),r=I()(I()().add(1,"days").format("YYYY-MM-DD 10:00:00")).unix();console.log("timeDayBefore6h",s),console.log("timeDay18h",o),i>o&&e/1e3<r||console.log(e/1e3,r,s,i,s-i)}}},validateNumberUser:function(e,t){return console.log("numberUser",e),console.log("optionListUser",t),!(1===t&&e>200||2===t&&e>250&&e<201||3===t&&e>350&&e<250||4===t&&e<350)}}},T=M,P=(a("cb48"),Object(v["a"])(T,i,o,!1,null,null,null));t["a"]=P.exports}}]);