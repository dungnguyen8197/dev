(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e47bbcc"],{"0538":function(e,t,n){"use strict";var a=n("e330"),i=n("59ed"),o=n("861d"),r=n("1a2d"),l=n("f36a"),c=n("40d5"),s=Function,u=a([].concat),d=a([].join),m={},p=function(e,t,n){if(!r(m,t)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";m[t]=s("C,a","return new C("+d(a,",")+")")}return m[t](e,n)};e.exports=c?s.bind:function(e){var t=i(this),n=t.prototype,a=l(arguments,1),r=function(){var n=u(a,l(arguments));return this instanceof r?p(t,n.length,n):t.apply(e,n)};return o(n)&&(r.prototype=n),r}},"0df4":function(e,t,n){"use strict";n("eac1")},"129f":function(e,t,n){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},1576:function(e,t,n){},"17a8":function(e,t,n){"use strict";n("ede0")},"262e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d9e2"),n("131a"),n("1f68");function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("4ae1"),n("d3b7"),n("f8c9"),n("131a"),n("3410"),n("1f68");function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("d9e2");var o=n("53ca");function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(t&&("object"===Object(o["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function c(e){var t=i();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},i=[];n("a9e3");Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function r(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(e,t,n){var a=l(),i=e-a,c=20,s=0;t="undefined"===typeof t?500:t;var u=function e(){s+=c;var l=Math.easeInOutQuad(s,a,i,t);r(l),s<t?o(e):n&&"function"===typeof n&&n()};u()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&c(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},u=s,d=(n("0df4"),n("2877")),m=Object(d["a"])(u,a,i,!1,null,"2f2d1216",null);t["a"]=m.exports},"4ae1":function(e,t,n){"use strict";var a=n("23e7"),i=n("d066"),o=n("2ba4"),r=n("0538"),l=n("5087"),c=n("825a"),s=n("861d"),u=n("7c73"),d=n("d039"),m=i("Reflect","construct"),p=Object.prototype,f=[].push,h=d((function(){function e(){}return!(m((function(){}),[],e)instanceof e)})),b=!d((function(){m((function(){}))})),_=h||b;a({target:"Reflect",stat:!0,forced:_,sham:_},{construct:function(e,t){l(e),c(t);var n=arguments.length<3?e:l(arguments[2]);if(b&&!h)return m(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return o(f,a,t),new(o(r,e,a))}var i=n.prototype,d=u(s(i)?i:p),_=o(e,d,t);return s(_)?_:d}})},5723:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("d4ec"),i=n("bee2"),o=n("262e"),r=n("2caf"),l=(n("99af"),n("6c6e")),c=n("b775"),s=function(e){Object(o["a"])(n,e);var t=Object(r["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"admin")}return Object(i["a"])(n,[{key:"Lists",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/list-admin"),method:"post",data:e})}},{key:"AccountList",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/search?").concat(e),method:"get",data:e})}},{key:"storeAccount",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/create"),method:"post",data:e})}},{key:"updateAccount",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/update-admin-role/").concat(t),method:"post",data:e})}},{key:"ChangePassword",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/change_pass"),method:"post",data:e})}},{key:"changeProfile",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/update_profile"),method:"post",data:e})}},{key:"profileList",value:function(){return Object(c["a"])({url:"/".concat(this.uri,"/get_profile"),method:"get"})}},{key:"forgotPassword",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/forgot_password"),method:"post",data:e})}},{key:"SendEmail",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/get_captcha_verify"),method:"post",data:e})}},{key:"deleteAccount",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/remove/").concat(e),method:"get"})}},{key:"accountTelesale",value:function(){return Object(c["a"])({url:"/".concat(this.uri,"/list_telesale"),method:"get"})}},{key:"searchAdmin",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/search"),method:"get",params:e})}},{key:"getByLevel",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/get-by-level"),method:"post",data:{role_id:e},params:{admin_id:t}})}},{key:"getChildren",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/get-children/").concat(e),method:"get"})}},{key:"storeAccountClub",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/create-admin-club"),method:"post",data:e})}},{key:"updateAccountClub",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/update-admin-club/").concat(t),method:"post",data:e})}},{key:"deleteAccountClub",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/remove-admin-club/").concat(t),method:"post",data:e})}},{key:"updateAdminBoss",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/update-admin-boss/").concat(t),method:"post",data:e})}},{key:"listAccountHIO",value:function(e){return Object(c["a"])({url:"".concat(this.uri,"/list-account-hio"),method:"get",params:e})}},{key:"storeAccountHIO",value:function(e){return Object(c["a"])({url:"/".concat(this.uri,"/create-account-hio"),method:"post",data:e})}},{key:"updateAccountHIO",value:function(e,t){return Object(c["a"])({url:"/".concat(this.uri,"/update-account-hio/").concat(t),method:"post",data:e})}}]),n}(l["a"])},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("d4ec"),i=n("bee2"),o=n("b775"),r=function(){function e(t){Object(a["a"])(this,e),this.uri=t}return Object(i["a"])(e,[{key:"list",value:function(e){return Object(o["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(o["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"72f1":function(e,t,n){"use strict";n("87b5")},7966:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("d4ec"),i=n("bee2"),o=n("262e"),r=n("2caf"),l=n("6c6e"),c=n("b775"),s="https://prod-wap-wghn-beta.vcallid.com",u=function(e){Object(o["a"])(n,e);var t=Object(r["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"facility")}return Object(i["a"])(n,[{key:"search",value:function(e){return Object(c["a"])({url:s+"/".concat(this.uri,"/search"),method:"get",params:e})}},{key:"lists",value:function(e){return Object(c["a"])({url:s+"/".concat(this.uri,"/manager_list"),method:"get",params:e})}},{key:"changeEmail",value:function(e){return Object(c["a"])({url:s+"/".concat(this.uri,"/change_email"),method:"post",data:e})}}]),n}(l["a"])},"7db0":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").find,o=n("44d2"),r="find",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),a({target:"Array",proto:!0,forced:l},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(r)},"841c":function(e,t,n){"use strict";var a=n("c65b"),i=n("d784"),o=n("825a"),r=n("7234"),l=n("1d80"),c=n("129f"),s=n("577e"),u=n("dc4a"),d=n("14c3");i("search",(function(e,t,n){return[function(t){var n=l(this),i=r(t)?void 0:u(t,e);return i?a(i,t,n):new RegExp(t)[e](s(n))},function(e){var a=o(this),i=s(e),r=n(t,a,i);if(r.done)return r.value;var l=a.lastIndex;c(l,0)||(a.lastIndex=0);var u=d(a,i);return c(a.lastIndex,l)||(a.lastIndex=l),null===u?-1:u.index}]}))},"87b5":function(e,t,n){},"8ffd":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="https://prod-wap-wghn-beta.vcallid.com/"},b1ee:function(e,t,n){"use strict";n("b782")},b782:function(e,t,n){},be1f:function(e,t,n){"use strict";n.r(t);n("b0c0"),n("caad");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"reservation_booking"},[t("el-row",{staticClass:"app-container list-account"},[t("el-row",{staticClass:"list-account__header"},[t("el-col",{attrs:{sm:24}},[t("h5",{staticClass:"title"},[e._v("Quản lý đại lý")])]),t("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddAgency}},[e._v("Thêm mới ")])],1),t("div",{staticClass:"filter-container"},[t("el-row",[t("el-col",{staticClass:"mr-10",attrs:{sm:24,md:4,lg:4}},[t("el-input",{staticClass:"w-100",attrs:{clearable:"",placeholder:"Nhập tên đại lý"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}})],1),t("el-col",{staticClass:"mr-10",attrs:{sm:5}},[t("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Tìm kiếm ")])],1)],1)],1),t("el-row",{staticClass:"list-account__data"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{label:"STT",width:"50",align:"center",type:"index",index:e.handleIndexMethod}}),t("el-table-column",{attrs:{prop:"name",label:"Tên đại lý",align:"center"}}),t("el-table-column",{attrs:{prop:"representative_name",label:"Tên đại diện",align:"center"}}),t("el-table-column",{attrs:{prop:"phone",label:"SĐT",align:"center"}}),t("el-table-column",{attrs:{prop:"user_id",label:"VID",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"Địa chỉ",align:"center"}}),t("el-table-column",{attrs:{prop:"tax_code",label:"Mã thuế",align:"center"}}),t("el-table-column",{attrs:{label:"Link PDF",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[a.link_pdf?t("el-link",{attrs:{type:"primary",href:e.convertLink(a.link_pdf),target:"_blank"}},[t("el-button",[e._v("Xem ")])],1):e._e()]}}])}),t("el-table-column",{attrs:{width:"100",prop:"is_approve",label:"TT duyệt",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",disabled:1==a.is_approve,"active-value":1,"inactive-value":0},on:{change:function(t){return e.handleSwitch(a,"approve")}},model:{value:a.is_approve,callback:function(t){e.$set(a,"is_approve",t)},expression:"row.is_approve"}})]}}])}),t("el-table-column",{attrs:{width:"100",prop:"phone",label:"TT HIO",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(t){return e.handleSwitch(a,"insurance")}},model:{value:a.is_sell_insurance,callback:function(t){e.$set(a,"is_sell_insurance",t)},expression:"row.is_sell_insurance"}})]}}])}),t("el-table-column",{attrs:{prop:"phone",label:"Chuyển TT booking khi xác nhận",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[t("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0},on:{change:function(t){return e.handleSwitch(a,"auto_confirm_sale")}},model:{value:a.auto_confirm_sale,callback:function(t){e.$set(a,"auto_confirm_sale",t)},expression:"row.auto_confirm_sale"}})]}}])}),t("el-table-column",{attrs:{prop:"day_debt",label:"Ngày nợ",align:"center"}}),t("el-table-column",{attrs:{label:"Admin giới thiệu",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.admin_introduced?n.admin_introduced.name:"")+" ")]}}])}),t("el-table-column",{attrs:{label:"Admin tạo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.admin_created_id?n.admin_created.name:"")+" ")]}}])}),t("el-table-column",{attrs:{label:"Admin duyệt",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.admin_approve_id?n.admin_approve.name:"")+" ")]}}])}),t("el-table-column",{attrs:{label:"Hành động",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",round:"",size:"mini"},on:{click:function(t){return e.showListFacility(n.row)}}},[e._v("Giá bán ")]),t("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini",round:""},on:{click:function(t){return e.handleEditAgency(n.row)}}},[e._v(" Sửa ")]),["0348048435"].includes(e.getAcountInfo().phone)?t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",round:""},on:{click:function(t){return e.handleDeleteAgency(n.row.id)}}},[e._v(" Xóa ")]):e._e()]}}])})],1),t("el-row",{staticClass:"list-shop__footer"},[t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.query.limit,expression:"total > query.limit"}],attrs:{total:e.total,limit:e.query.limit,page:e.query.page},on:{"update:limit":function(t){return e.$set(e.query,"limit",t)},"update:page":function(t){return e.$set(e.query,"page",t)},pagination:e.onGetList}})],1),t("dialog-add-agency",{attrs:{"show-dialog":e.showDialogAddAgency,"object-data":e.objectData,"is-add":e.isAdd},on:{onCloseDialog:e.handleClose}}),t("dialog-detail-agency",{attrs:{"show-dialog":e.isShowListFacility,"object-data":e.objectDataDetail},on:{onCloseDialog:e.handleCloseDetailAgency}})],1)],1)],1)},i=[],o=(n("d3b7"),n("333d")),r=n("5f87"),l=n("d4ec"),c=n("bee2"),s=n("262e"),u=n("2caf"),d=(n("99af"),n("6c6e")),m=n("b775"),p="https://prod-wap-wghn-beta.vcallid.com",f=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(l["a"])(this,n),t.call(this,"agency")}return Object(c["a"])(n,[{key:"lists",value:function(e){return Object(m["a"])({url:p+"/".concat(this.uri,"/lists"),method:"get",params:e})}},{key:"store",value:function(e){return Object(m["a"])({url:p+"/".concat(this.uri,"/store"),method:"post",data:e})}},{key:"update",value:function(e,t){return Object(m["a"])({url:p+"/".concat(this.uri,"/update/").concat(t),method:"post",data:e})}},{key:"updateStatus",value:function(e,t){return Object(m["a"])({url:p+"/".concat(this.uri,"/update-status/").concat(t),method:"post",data:e})}},{key:"detail",value:function(e){return Object(m["a"])({url:p+"/".concat(this.uri,"/detail/").concat(e),method:"get"})}},{key:"changePriceFacility",value:function(e,t){return Object(m["a"])({url:p+"/".concat(this.uri,"/change-price-facility/").concat(t),method:"post",data:e})}},{key:"remove",value:function(e){return Object(m["a"])({url:"/".concat(this.uri,"/remove/").concat(e),method:"get"})}}]),n}(d["a"]),h=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.dialog.titleName,visible:e.showDialog,"before-close":e.handleClose},on:{"update:visible":function(t){e.showDialog=t}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.objectData}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Tên đại lý",required:""}},[t("el-form-item",{attrs:{prop:"name"}},[t("el-input",{attrs:{clearable:"",prop:"name",placeholder:"Tên đại lý"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.name,callback:function(t){e.$set(e.formRequest,"name",t)},expression:"formRequest.name"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Tên đại diện",required:""}},[t("el-form-item",{attrs:{prop:"representative_name"}},[t("el-input",{attrs:{clearable:"",prop:"representative_name",placeholder:"Tên đại diện"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.representative_name,callback:function(t){e.$set(e.formRequest,"representative_name",t)},expression:"formRequest.representative_name"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"SĐT",required:""}},[t("el-form-item",{attrs:{prop:"phone"}},[t("el-input",{attrs:{clearable:"",prop:"phone",placeholder:"SĐT"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.phone,callback:function(t){e.$set(e.formRequest,"phone",t)},expression:"formRequest.phone"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Địa chỉ",required:""}},[t("el-form-item",{attrs:{prop:"address"}},[t("el-input",{attrs:{clearable:"",prop:"address",placeholder:"Địa chỉ"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.address,callback:function(t){e.$set(e.formRequest,"address",t)},expression:"formRequest.address"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Mã số thuế",required:""}},[t("el-form-item",{attrs:{prop:"tax_code"}},[t("el-input",{attrs:{clearable:"",prop:"tax_code",placeholder:"Mã số thuế"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.tax_code,callback:function(t){e.$set(e.formRequest,"tax_code",t)},expression:"formRequest.tax_code"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Ngày công nợ",required:""}},[t("el-form-item",{attrs:{prop:"day_debt"}},[t("el-input",{attrs:{clearable:"",prop:"day_debt",placeholder:"Ngày công nợ"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.day_debt,callback:function(t){e.$set(e.formRequest,"day_debt",t)},expression:"formRequest.day_debt"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Ngày bắt đầu kỳ đối soát"}},[t("el-form-item",{attrs:{prop:"control_day"}},[t("el-date-picker",{staticClass:"w-100",attrs:{type:"date",format:"dd-MM-yyyy",placeholder:"Ngày đối soát"},model:{value:e.formRequest.control_day,callback:function(t){e.$set(e.formRequest,"control_day",t)},expression:"formRequest.control_day"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Số ngày đối soát"}},[t("el-form-item",{attrs:{prop:"number_control_day"}},[t("el-input",{attrs:{clearable:"",type:"number",prop:"number_control_day",placeholder:"Số ngày đối soát"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.number_control_day,callback:function(t){e.$set(e.formRequest,"number_control_day",t)},expression:"formRequest.number_control_day"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Mã đối tượng Misa"}},[t("el-form-item",{attrs:{prop:"account_object_code_misa"}},[t("el-input",{attrs:{clearable:"",prop:"account_object_code_misa",placeholder:"Nhập mã đối tượng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.account_object_code_misa,callback:function(t){e.$set(e.formRequest,"account_object_code_misa",t)},expression:"formRequest.account_object_code_misa"}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"Upload file",required:""}},[t("el-form-item",{attrs:{prop:"upload"}},[t("el-upload",{ref:"ruleForm",staticClass:"upload-demo",attrs:{"file-list":e.listImage,action:"uploadURL","list-type":"picture",multiple:"","on-change":e.onPickImage,"on-remove":e.removeFile,"on-preview":e.previewFile,"auto-upload":!1,limit:1,"on-exceed":function(t,n){return e.handleExceed(t,n,1)}}},[t("el-button",{attrs:{type:"primary"}},[e._v(" Chọn file PDF để upload")])],1)],1)],1)],1)],1),e.isAdd?e._e():t("el-form-item",{attrs:{label:"Link PDF",required:""}},[t("el-form-item",{attrs:{prop:"link_pdf"}},[t("el-input",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadFileLoading,expression:"uploadFileLoading"}],attrs:{clearable:"",prop:"link_pdf",placeholder:"Link PDF"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.link_pdf,callback:function(t){e.$set(e.formRequest,"link_pdf",t)},expression:"formRequest.link_pdf"}})],1)],1),t("el-form-item",{attrs:{label:"Có bán bảo hiểm không ?"}},[t("el-radio-group",{model:{value:e.formRequest.is_sell_insurance,callback:function(t){e.$set(e.formRequest,"is_sell_insurance",t)},expression:"formRequest.is_sell_insurance"}},[t("el-radio",{attrs:{border:"",value:"0",label:0}},[e._v("Không")]),t("el-radio",{attrs:{border:"",value:"1",label:1}},[e._v("Có ")])],1)],1),t("el-form-item",{attrs:{label:"Chuyển trạng thái booking khi xác nhận"}},[t("el-radio-group",{model:{value:e.formRequest.auto_confirm_sale,callback:function(t){e.$set(e.formRequest,"auto_confirm_sale",t)},expression:"formRequest.auto_confirm_sale"}},[t("el-radio",{attrs:{border:"",value:"0",label:0}},[e._v("Không")]),t("el-radio",{attrs:{border:"",value:"1",label:1}},[e._v("Có ")])],1)],1),t("el-form-item",{attrs:{label:"Admin giới thiệu"}},[t("el-form-item",{attrs:{prop:"admin_introduced_id"}},[t("el-select",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"Nhập mã VID admin","remote-method":e.onSearchAdmin},model:{value:e.formRequest.admin_introduced_id,callback:function(t){e.$set(e.formRequest,"admin_introduced_id",t)},expression:"formRequest.admin_introduced_id"}},e._l(e.adminData1,(function(e){return t("el-option",{key:e.id,attrs:{label:"VID"+e.id+"  "+e.name,value:e.id}})})),1)],1)],1),e.isAdd||1!=e.formRequest.is_approve?e._e():t("el-form-item",{attrs:{label:"Admin duyệt"}},[t("el-form-item",{attrs:{prop:"admin_approve_id"}},[t("el-select",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{disabled:"",filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"Nhập mã VID admin","remote-method":e.onSearchAdmin},model:{value:e.formRequest.admin_approve_id,callback:function(t){e.$set(e.formRequest,"admin_approve_id",t)},expression:"formRequest.admin_approve_id"}},e._l(e.adminData2,(function(e){return t("el-option",{key:e.id,attrs:{label:"VID"+e.id+"  "+e.name,value:e.id}})})),1)],1)],1),e.isAdd?e._e():t("el-form-item",{attrs:{label:"Admin tạo"}},[t("el-form-item",{attrs:{prop:"admin_created_id"}},[t("el-select",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"Nhập mã VID admin","remote-method":e.onSearchAdmin},model:{value:e.formRequest.admin_created_id,callback:function(t){e.$set(e.formRequest,"admin_created_id",t)},expression:"formRequest.admin_created_id"}},e._l(e.adminData3,(function(e){return t("el-option",{key:e.id,attrs:{label:"VID"+e.id+"  "+e.name,value:e.id}})})),1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("Hủy")]),t("el-button",{attrs:{type:"primary",loading:e.loadingSubmit},on:{click:function(t){return e.onSubmitForm("ruleForm")}}},[e._v(e._s(e.dialog.buttonName))])],1)],1)},b=[],_=n("2909"),g=n("c7eb"),y=n("1da1"),v=n("5530"),k=(n("2532"),n("159b"),n("b64b"),n("61f7")),w=n("5c96"),O=n("5723"),j=n("8ffd"),x=new f,q=new O["a"],F={name:"DialogAddAgency",props:{objectData:{type:Object,default:function(){return{}}},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!1}},data:function(){var e=this;return{rules:{name:[{validator:function(t,n,a){return Object(k["q"])(t,e.formRequest.name,a,"Tên đại lý")},trigger:"change"}],representative_name:[{validator:function(t,n,a){return Object(k["q"])(t,e.formRequest.representative_name,a,"Tên đại diện")},trigger:"change"}],phone:[{validator:function(t,n,a){return Object(k["q"])(t,e.formRequest.phone,a,"Số điện thoại")},trigger:"change"}],address:[{validator:function(t,n,a){return Object(k["q"])(t,e.formRequest.address,a,"Địa chỉ")},trigger:"change"}],tax_code:[{validator:function(t,n,a){return Object(k["q"])(t,e.formRequest.tax_code,a,"Mã số thuế")},trigger:"change"}]},loadingSubmit:!1,dialogLoading:!1,loadingSearchAdmin:!1,formRequest:{is_approve:0,is_sell_insurance:1,auto_confirm_sale:0,admin_created_id:Object(r["a"])().id,representative_name:"",phone:"",address:"",tax_code:"",admin_introduced_id:"",admin_approve_id:"",link_pdf:"",day_debt:""},request:{},query:{limit:10,page:1},listImage:[],uploadFileLoading:!1,listRemoveFile:[],adminData1:[],adminData2:[],adminData3:[],file:null,file_remove:null,dialog:{titleName:"Thêm mới đại lý",buttonName:"Thêm mới"}}},watch:{objectData:function(e){if(this.isAdd)this.formRequest.admin_introduced_id="",this.formRequest.admin_approve_id="";else{var t,n,a;if(this.formRequest=Object(v["a"])(Object(v["a"])({},e),{},{id:e.id,name:e.name,admin_introduced_id:e.admin_introduced_id,admin_approve_id:e.admin_approve_id,admin_created_id:e.admin_created_id,link_pdf:e.link_pdf,phone:e.phone,address:e.address,tax_code:e.tax_code,is_approve:e.is_approve,is_sell_insurance:e.is_sell_insurance,representative_name:e.representative_name,auto_confirm_sale:e.auto_confirm_sale,day_debt:e.day_debt,number_control_day:e.number_control_day,control_day:e.control_day?e.control_day:null}),null!==e&&void 0!==e&&e.admin_introduced)this.adminData1=[{id:null===e||void 0===e?void 0:e.admin_introduced_id,name:null===e||void 0===e||null===(t=e.admin_introduced)||void 0===t?void 0:t.name}];if(null!==e&&void 0!==e&&e.admin_approve)this.adminData2=[{id:null===e||void 0===e?void 0:e.admin_approve_id,name:null===e||void 0===e||null===(n=e.admin_approve)||void 0===n?void 0:n.name}];if(null!==e&&void 0!==e&&e.admin_created)this.adminData3=[{id:null===e||void 0===e?void 0:e.admin_created_id,name:null===e||void 0===e||null===(a=e.admin_created)||void 0===a?void 0:a.name}];null!==e&&void 0!==e&&e.link_pdf&&(this.listImage=[{id:1,url:null===e||void 0===e?void 0:e.link_pdf,name:null===e||void 0===e?void 0:e.link_pdf}])}},isAdd:function(e){console.log("isAdd",e),this.dialog=e?Object.assign({},{titleName:"Thêm mới đại lý",buttonName:"Thêm mới"}):Object.assign({},{titleName:"Cập nhật đại lý",buttonName:"Cập nhật"})}},methods:{onSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.appendForm(),t.isAdd?t.handleSubmitAdd():t.handleSubmitUpdate())}))},handleSubmitAdd:function(){var e=this;return Object(y["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingSubmit=!0,x.store(e.request).then((function(t){0===t.error_code?(e.$message.success(t.error_msg),e.$emit("onCloseDialog",{dialog:!1,reload:!0}),e.resetformRequest()):e.$message.error(t.error_msg)})).finally((function(){e.loadingSubmit=!1}));case 2:case"end":return t.stop()}}),t)})))()},handleSubmitUpdate:function(){var e=this;return Object(y["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:x.update(e.request,e.formRequest.id).then((function(t){0===t.error_code?(e.$message.success(t.error_msg),e.$emit("onCloseDialog",{dialog:!1,reload:!0}),e.resetformRequest()):e.$message.error(t.error_msg)})).finally((function(){e.loadingSubmit=!1}));case 1:case"end":return t.stop()}}),t)})))()},onSearchAdmin:function(e){var t=this,n={vID:e};q.searchAdmin(n).then((function(e){if(0===e.error_code){var n=(null===e||void 0===e?void 0:e.data)||[];t.adminData1=Object(_["a"])(n),t.isAdd||(t.adminData2=Object(_["a"])(n),t.adminData3=Object(_["a"])(n))}else t.$message.error(e.error_msg)}))},resetformRequest:function(){var e=this;return Object(y["a"])(Object(g["a"])().mark((function t(){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve((e.formRequest={representative_name:"",phone:"",address:"",tax_code:"",is_approve:0,is_sell_insurance:1,auto_confirm_sale:0,admin_introduced_id:"",admin_approve_id:"",admin_created_id:Object(r["a"])().id,link_pdf:"",day_debt:""},e.listImage=[],e.users=[]));case 2:e.$refs["ruleForm"].clearValidate();case 3:case"end":return t.stop()}}),t)})))()},handleClose:function(){this.$emit("onCloseDialog",{dialog:!1,reload:!1}),this.resetformRequest()},onPickImage:function(e,t){var n=this;return Object(y["a"])(Object(g["a"])().mark((function a(){var i;return Object(g["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:null!==e&&void 0!==e&&e.name.includes("%")||null!==e&&void 0!==e&&e.name.includes("#")||null!==e&&void 0!==e&&e.name.includes("/")?(Object(w["Message"])({message:"Tên file khồng được chứa ký tự %, # và /",type:"warning",duration:5e3}),t.pop(),n.listImage=t):"application/pdf"!==(null===e||void 0===e||null===(i=e.raw)||void 0===i?void 0:i.type)&&"success"!==e.status?(Object(w["Message"])({message:"Yêu cầu định dạng file là PDF",type:"warning",duration:5e3}),t.pop(),n.listImage=t):e.size>1e8?(Object(w["Message"])({message:"Kích thước file tối đa là 100 mb, bạn đang chọn file ".concat(e.name," với kích thước ").concat(e.size," kb"),type:"warning",duration:5e3}),t.pop(),n.listImage=t):(n.file=e.raw,n.file_remove=null);case 1:case"end":return a.stop()}}),a)})))()},removeFile:function(e){this.formRequest.link_pdf="",this.file=null,"success"===e.status&&(this.file_remove=e.url)},previewFile:function(e){this.isAdd?window.open(e.url,"_blank"):window.open(j["a"]+e.url,"_blank")},handleExceed:function(e,t,n){Object(w["Message"])({message:"Tối đa là ".concat(n," file, bạn đang chọn ").concat(e.length+t.length," file"),type:"warning",duration:5e3})},appendForm:function(){var e=new FormData,t=this.formRequest;Object.keys(t).forEach((function(n){t[n]&&e.append(n,t[n])})),null!=this.file&&e.append("file_pdf",this.file),null!=this.file_remove&&e.append("file_remove",this.file_remove),this.request=e}}},S=F,R=(n("17a8"),n("2877")),C=Object(R["a"])(S,h,b,!1,null,"2465e097",null),D=C.exports,A=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{width:"90%","v-loading":e.loadingTable,title:e.dialog.titleName,visible:e.showDialog,"before-close":e.handleClose},on:{"update:visible":function(t){e.showDialog=t}}},[[t("el-row",{staticClass:"reservation_booking_content"},[t("el-row",{staticClass:"mb-20"},[t("el-col",{staticClass:"pr-10",attrs:{sm:6}},[t("el-select",{ref:"searchFacility",staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Nhập tên sân","remote-method":e.searchFacility,loading:e.loadingSearchFacility},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"searchFacility")},"visible-change":function(t){return e.cancelReadOnly(t,"searchFacility")}},model:{value:e.facility,callback:function(t){e.facility=t},expression:"facility"}},e._l(e.optionsFacility,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1)],1)],1),t("div",{staticClass:"clearfix-20"}),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.priceFacility,width:"100%",border:"",fit:"","highlight-current-row":""}},[t("el-table-column",{attrs:{prop:"name",label:"Tên sân"}}),t("el-table-column",{attrs:{prop:"path_id",label:"Đường"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-select",{attrs:{placeholder:"Chọn đường"},on:{change:function(t){return e.handleChangePath(t,n.row)}},model:{value:n.row.path_id,callback:function(t){e.$set(n.row,"path_id",t)},expression:"scope.row.path_id"}},e._l(n.row.paths,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)]}}])}),t("el-table-column",{attrs:{prop:"normal_price",label:"Giá ngày thường"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{type:"number",placeholder:"Nhập giá"},model:{value:n.row.normal_price,callback:function(t){e.$set(n.row,"normal_price",t)},expression:"scope.row.normal_price"}})]}}])}),t("el-table-column",{attrs:{prop:"holiday_price",label:"Giá ngày lễ"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{type:"number",placeholder:"Nhập giá"},model:{value:n.row.holiday_price,callback:function(t){e.$set(n.row,"holiday_price",t)},expression:"scope.row.holiday_price"}})]}}])}),t("el-table-column",{attrs:{prop:"type_discount",label:"Loại giảm giá"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-select",{attrs:{placeholder:"Chọn loại giảm giá"},model:{value:n.row.type_discount,callback:function(t){e.$set(n.row,"type_discount",t)},expression:"scope.row.type_discount"}},e._l(e.typeDiscount,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),t("el-table-column",{attrs:{prop:"discount_amount",label:"Giảm giá"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-input",{attrs:{type:"number",placeholder:"Nhập giảm giá"},model:{value:n.row.discount_amount,callback:function(t){e.$set(n.row,"discount_amount",t)},expression:"scope.row.discount_amount"}})]}}])}),t("el-table-column",{attrs:{prop:"action",label:"Hành động",width:"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.deleteFacility(n.$index,n.row)}}},[e._v(" Xoá ")])]}}])})],1),t("div",{staticClass:"mt-20",staticStyle:{"margin-top":"15px"}},[t("el-button",{on:{click:e.handleClose}},[e._v("Huỷ")]),t("el-button",{attrs:{type:"primary",loading:e.loadingData},on:{click:e.submitChangeFacility}},[e._v("Xác nhận")])],1)]],2)},$=[],T=(n("d81d"),n("4de4"),n("a434"),n("ac1f"),n("841c"),n("7db0"),n("14d9"),n("7966")),L=new f,I=new T["a"],N={name:"DialogAddAgency",props:{objectData:{type:Object,default:function(){return{}}},showDialog:{type:Boolean,default:!1}},data:function(){return{typeDiscount:[{value:0,label:"Tiền mặt"},{value:1,label:"Phần trăm"}],loadingSearchFacility:!1,optionsFacility:[],loadingData:!1,loadingTable:!1,priceFacility:[],agencyId:null,facility:[],loadingSubmit:!1,dialogLoading:!1,request:{},paths:[],dialog:{titleName:"Chi tiết",buttonName:"Thêm mới"}}},watch:{objectData:function(e){e&&(this.agencyId=e.id,this.showListFacility(e.id))},facility:function(e){e&&(this.priceFacility=[].concat(Object(_["a"])(this.priceFacility),[Object(v["a"])({stt:this.priceFacility.length+1},e)]),this.optionsFacility=this.optionsFacility.map((function(t){return t.id===e.id&&(t.disabled=!0),t})))}},methods:{handleChangePath:function(e,t){this.priceFacility.filter((function(t){return t.path_id===e})).length>1&&(this.$message.error("Đường đã tồn tại."),delete t.path_id)},addFacility:function(e){console.log("value",e),this.priceFacility=Object(_["a"])(e)},handleClose:function(){this.$emit("onCloseDialog",{dialog:!0,reload:!1})},showListFacility:function(e){var t=this;this.loadingTable=!0,L.detail(e).then((function(e){if(console.log("res.....................",e),0===e.error_code){var n=null===e||void 0===e?void 0:e.data;console.log("res...........",n),t.priceFacility=null===n||void 0===n?void 0:n.map((function(e,t){var n;return console.log("value",e),{stt:t+1,id:e.facility_id,value:e.facility_id,label:e.facility_name,name:e.facility_name,normal_price:e.normal_price,holiday_price:e.holiday_price,discount_amount:e.discount_amount,type_discount:e.type_discount,path_id:e.path_id,paths:(null===e||void 0===e||null===(n=e.facility)||void 0===n?void 0:n.paths)||[]}}))}console.log(" this.priceFacility",t.priceFacility)})).finally((function(){t.loadingTable=!1}))},deleteFacility:function(e,t){console.log(e,t),this.priceFacility.splice(e,1),this.optionsFacility=this.optionsFacility.map((function(e){return e.id===t.id&&(e.disabled=!1),e}))},submitChangeFacility:function(){var e=this,t=this;this.priceFacility.length<1?this.$message.error("Chưa có bản ghi được thêm."):(this.loadingData=!0,console.log("...................................",this.priceFacility),L.changePriceFacility({facility:t.priceFacility},this.agencyId).then((function(t){console.log("res.....................",t),0===t.error_code?e.$message.success(t.error_msg):e.$message.error(t.error_msg)})).finally((function(){e.loadingData=!1})))},searchFacility:function(e){var t=this;return Object(y["a"])(Object(g["a"])().mark((function n(){var a;return Object(g["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.loadingSearchFacility=!0,a={keyword:e},I.search(a).then((function(e){if(0===e.error_code){var n=e.data;if(n.length>0){var a=[];n.map((function(e){var n=t.priceFacility.find((function(t){return t.id===e.id})),i={value:e.id,id:e.id,name:e.sub_title,label:e.sub_title,normal_price:0,holiday_price:0,disabled:void 0!==n,paths:e.paths||[]};a.push(i)})),t.optionsFacility=[].concat(a)}}else t.$message.error(e.error_msg)})).finally((function(){t.loadingSearchFacility=!1}));case 3:case"end":return n.stop()}}),n)})))()},cancelReadOnly:function(e,t){var n=this;this.$nextTick((function(){if(!e){var a=n.$refs[t],i=a.$el.querySelector(".el-input__inner");i.removeAttribute("readonly")}}))}}},P=N,E=(n("e05e"),Object(R["a"])(P,A,$,!1,null,"5340fbce",null)),z=E.exports,M=new f,G={name:"ListTee",components:{Pagination:o["a"],DialogAddAgency:D,DialogDetailAgency:z},data:function(){var e=Object(r["a"])();return console.log("account....................",e),{is_delete:e.is_delete,is_write:e.is_write,is_edit:e.is_edit,tableData:[],admins:[],loadingTable:!1,total:0,isAdd:!0,onShowDialog:!1,query:{limit:10,page:1},loadingData:!0,from:0,isShowListFacility:!1,optionsFacility:[],agencyId:0,showDialogAddAgency:!1,objectData:{},objectDataDetail:{}}},computed:{},created:function(){this.onGetList()},methods:{handleCloseDetailAgency:function(){this.isShowListFacility=!1},handleClickButtonDialog:function(e){this.onShowDialog=e.dialog,e.reload&&this.onGetList()},onGetList:function(){var e=this;this.loadingTable=!0,M.lists(this.query).then((function(t){var n,a;0===t.error_code?(e.tableData=(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)||[],e.total=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.total)||0):e.$message.error(t.error_msg)})).finally((function(){e.loadingTable=!1}))},handleFilter:function(){this.query.page=1,this.onGetList()},handleSwitch:function(e,t){var n=this,a={};switch(t){case"approve":a={admin_approve_id:Object(r["a"])().id,is_approve:e.is_approve};break;case"insurance":a={is_sell_insurance:e.is_sell_insurance};break;case"auto_confirm_sale":a={auto_confirm_sale:e.auto_confirm_sale};break}M.updateStatus(a,e.id).then((function(e){0===e.error_code?(n.$message.success(e.error_msg),"approve"===t&&n.onGetList()):n.$message.error(e.error_msg)}))},handleIndexMethod:function(e){return 1===this.query.page?this.query.page+e:10*this.query.page+e},onReset:function(){this.query=Object.assign({},{limit:10,page:1}),this.onGetList()},handleClose:function(e){this.showDialogAddAgency=e.dialog,e.reload&&this.onGetList()},showListFacility:function(e){this.isShowListFacility=!0,this.objectDataDetail=Object.assign({},e)},handleAddAgency:function(){this.isAdd=!0,this.showDialogAddAgency=!0,this.objectData={}},handleEditAgency:function(e){this.isAdd=!1,this.showDialogAddAgency=!0,this.objectData=Object.assign({},e)},handleDeleteAgency:function(e){var t=this;this.$confirm("Bạn có chắc chắn xóa đại lý này không ?").then((function(n){M.remove(e).then((function(e){0===e.error_code?(t.onGetList(),t.$message.success(e.error_msg)):t.$message.error(e.error_msg)}))}))},convertLink:function(e){return j["a"]+e},getAcountInfo:r["a"]}},B=G,H=(n("72f1"),n("b1ee"),Object(R["a"])(B,a,i,!1,null,"1d1ff858",null));t["default"]=H.exports},bee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("a38e");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Object(a["a"])(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d9e2");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},e05e:function(e,t,n){"use strict";n("1576")},eac1:function(e,t,n){},ede0:function(e,t,n){},f8c9:function(e,t,n){"use strict";var a=n("23e7"),i=n("da84"),o=n("d44e");a({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)}}]);