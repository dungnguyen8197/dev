(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b1fb5b8"],{"084b":function(e,t,n){},"0df4":function(e,t,n){"use strict";n("eac1")},"2fc3":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("d4ec"),r=n("bee2"),o=n("262e"),i=n("2caf"),l=(n("99af"),n("6c6e")),u=n("b775"),c=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"control-bank")}return Object(r["a"])(n,[{key:"listNamA",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/listNamA"),method:"post",data:e})}},{key:"exportNamA",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/exportNamA"),method:"get",params:e})}},{key:"checkCodeBookingBeforePushNAB",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/checkCodeBookingBeforePushNAB"),method:"post",data:e})}},{key:"sendOrderCardFree",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/send-order-card-free"),method:"post",data:e})}},{key:"listSaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/list-sacom"),method:"post",data:e})}},{key:"totalMoneySaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/total-money-sacom"),method:"post",data:e})}},{key:"exportSaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/exportSacom"),method:"get",params:e})}},{key:"updateSacom",value:function(e,t){return Object(u["a"])({url:"/".concat(this.uri,"/update-sacom/").concat(t),method:"post",data:e})}},{key:"confirmDone",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/confirm-done"),method:"post",data:e})}},{key:"unConfirmDone",value:function(e,t){return Object(u["a"])({url:"/".concat(this.uri,"/un-confirm-done/").concat(t),method:"post",data:e})}}]),n}(l["a"])},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];n("a9e3");Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,n){var a=l(),r=e-a,u=20,c=0;t="undefined"===typeof t?500:t;var s=function e(){c+=u;var l=Math.easeInOutQuad(c,a,r,t);i(l),c<t?o(e):n&&"function"===typeof n&&n()};s()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},s=c,d=(n("0df4"),n("2877")),m=Object(d["a"])(s,a,r,!1,null,"2f2d1216",null);t["a"]=m.exports},"5d7b":function(e,t,n){"use strict";n("084b")},"60fe":function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"g",(function(){return D}));var a=n("3835"),r=(n("d81d"),n("4fadc"),{0:{type:"warning",label:"Chờ"},1:{type:"success",label:"Mở cho phép sử dụng"},2:{type:"primary",label:"Đóng"},3:{type:"danger",label:"Khóa"}}),o=Object.entries(r).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r.label}})),i={0:{type:"danger",label:"Đóng"},1:{type:"success",label:"Mở"}},l=Object.entries(i).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r.label}})),u={1:"Số tiền cố định",2:"Tỉ lệ",3:"Sản phẩm quà tặng"},c=(Object.entries(u).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r}})),{1:"User tự lưu",2:"CMS phân phối",3:"Tự động phân phối theo điều kiện",4:"Bán"}),s=(Object.entries(c).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r}})),{1:"Chiết khấu",2:"Hoàn point",3:"Giảm giá ship",4:"Quà tặng"}),d=(Object.entries(s).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r}})),{0:{type:"info",label:"Chuẩn bị bán"},1:{type:"success",label:"Đang bán"},2:{type:"danger",label:"Hết hàng"}}),m=Object.entries(d).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r.label}})),h={MIEN_BAC:1,MIEN_TRUNG:2,MIEN_NAM:3},f={1:{bank_account_number:888899988,bank_account_name:"CONG TY CO PHAN DICH  VU DAT SAN GOLF VIET NAM",bank_name:"Ngân hàng TMCP Nam Á",bank:970428},2:{bank_account_number:1018888,bank_account_name:"CONG TY CO PHAN DICH VU GOLF VIET NAM CENTRAL",bank_name:"Ngân hàng TMCP Nam Á",bank:970428},3:{bank_account_number:131366888,bank_account_name:"CONG TY CO PHAN DICH VU DAT SAN GOLF VIET NAM",bank_name:"Ngân hàng TMCP Nam Á",bank:970428}},p=["role_boss_club","role_leader_club","role_secretary_club"],g=["0989531411"],b={0:"",1:"Thẻ Infinite - Miễn Phí",2:"Thẻ World MC - Giảm Phí",3:"Thẻ World MC - Miễn Phí",4:"Thẻ VIP - Miễn Phí",5:"Thẻ Infinite FLC - Miễn phí"},y={1:{label:"Miền Bắc"},2:{label:"Miền Nam"},3:{label:"Miền Trung"}},_=["01-09-2023","02-09-2023","03-09-2023","04-09-2023","01-01-2024","18-04-2024","29-04-2024","30-04-2024","01-05-2024"],v={0:"Chưa thanh toán",3:"Chuyển khoản",4:"Thanh toán point",10:"Thanh toán visa",12:"Thanh toán chuyển khoản bằng Code Payment",14:"Đã hủy"},k=Object.entries(v).map((function(e){var t=Object(a["a"])(e,2),n=t[0],r=t[1];return{value:parseInt(n),label:r}})),C={BOOKING:"booking_new",BOOKING_MN:"booking_mn_new",BOOKING_MT:"booking_mt_new",HIO:"buy_hio",BOOKING_OUTSIDE:"booking_outside_new",SHOP:"shop"},D=[{label:"20098849999 - Ngân hàng TMCP Sài Gòn Thương tín",value:"20098849999"},{label:"3066011566666 - Ngân hàng TMCP Hàng hải Việt Nam",value:"3066011566666"},{label:"114002914443 - Ngân hàng TMCP Công Thương Việt Nam",value:"114002914443"},{label:"119002907921 - Ngân hàng TMCP Công Thương Việt Nam",value:"119002907921"},{label:"121366999 - Ngân hàng TMCP NAM Á",value:"121366999"},{label:"122861313 - Ngân hàng TMCP NAM Á",value:"122861313"},{label:"131355468 - Ngân hàng TMCP NAM Á",value:"131355468"},{label:"131355668 - Ngân hàng TMCP NAM Á",value:"131355668"},{label:"131355899 - Ngân hàng TMCP NAM Á",value:"131355899"},{label:"135566888 - Ngân hàng TMCP NAM Á",value:"135566888"},{label:"801114474566688 - Ngân hàng TMCP NAM Á",value:"801114474566688"},{label:"888899988 - Ngân hàng TMCP NAM Á",value:"888899988"},{label:"131366888 - Ngân hàng TMCP NAM Á",value:"131366888"},{label:"668797988888 - Ngân hàng TMCP Á Châu",value:"668797988888"},{label:"9201100133006 - Ngân hàng TMCP Quân đội",value:"9201100133006"},{label:"9201168466666 - Ngân hàng TMCP Quân đội",value:"9201168466666"},{label:"9201184888888 - Ngân hàng TMCP Quân đội",value:"9201184888888"},{label:"1018888 - Ngân hàng TMCP NAM Á",value:"1018888"},{label:"04028327101 - Ngân hàng TPbank",value:"04028327101"},{label:"12110000973510 - Ngân hàng BIDV",value:"12110000973510"},{label:"78868888 - Ngân hàng Techcombank",value:"78868888"}]},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("d4ec"),r=n("bee2"),o=n("b775"),i=function(){function e(t){Object(a["a"])(this,e),this.uri=t}return Object(r["a"])(e,[{key:"list",value:function(e){return Object(o["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(o["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(o["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},b04b:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"p-10"},[t("el-row",{staticClass:"list-device__header"},[t("el-col",{attrs:{sm:24}},[t("h3",{staticStyle:{margin:"0","text-align":"center",width:"100%",padding:"10px"}},[e._v(" DANH SÁCH KHÁCH HÀNG SACOMBANK SỬ DỤNG DỊCH VỤ GOLF ")]),t("h3",{staticStyle:{margin:"0","text-align":"center",width:"100%",padding:"10px",color:"red"}},[e._v(" "+e._s("TỔNG TIỀN: ".concat(e.formatNumber(e.total_money)," VNĐ"))+" ")])])],1),t("div",{staticClass:"clearfix-10"}),t("div",{staticClass:"filter-container"},[t("el-row",[t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập CCCD để tìm kiếm"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.passport,callback:function(t){e.$set(e.query,"passport",t)},expression:"query.passport"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập vid khách hàng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.user_id,callback:function(t){e.$set(e.query,"user_id",t)},expression:"query.user_id"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập tên khách hàng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.user_name,callback:function(t){e.$set(e.query,"user_name",t)},expression:"query.user_name"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập mã CMS để tìm kiếm"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.code_booking,callback:function(t){e.$set(e.query,"code_booking",t)},expression:"query.code_booking"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-select",{ref:"searchAdmin",staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"Nhập tên sale","remote-method":e.onSearchAdmin,loading:e.loadingSearchAdmin},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"searchAdmin")},"visible-change":function(t){return e.cancelReadOnly(t,"searchAdmin")}},model:{value:e.query.sale_id,callback:function(t){e.$set(e.query,"sale_id",t)},expression:"query.sale_id"}},e._l(e.adminData,(function(e){return t("el-option",{key:e.value,attrs:{label:"VID"+e.value+" - "+e.label,value:e.value}})})),1)],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:5,md:5}},[t("el-date-picker",{staticClass:"w-100",attrs:{type:"month",format:"MM-yyyy",placeholder:"Tìm kiếm theo tháng"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("el-col",{staticClass:"mr-10 mt-10 filter-search",staticStyle:{float:"right"},attrs:{sm:12,md:8}},[t("el-button",{attrs:{icon:"el-icon-refresh",round:""},on:{click:e.onReset}},[e._v("Reset")]),t("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Tìm kiếm ")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-download",loading:e.loadingExportExcel},on:{click:e.handleDownload}},[e._v(" Export excel ")])],1)],1)],1),t("div",{staticClass:"clearfix-10"}),t("el-row",{staticClass:"list-device__data"},[t("div",{staticClass:"clearfix-20"}),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"STT",width:"100",align:"center",type:"index",index:e.handleIndexMethod}}),t("el-table-column",{attrs:{align:"center",width:"150",label:"TÊN KHÁCH HÀNG"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.real_name?e.upperCase(n.real_name):n.golfer?e.upperCase(n.golfer.fullname):e.upperCase(n.name_out_system))+" ")]}}])}),t("el-table-column",{attrs:{align:"center",width:"180",label:"SỐ CCCD/CMND"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.passport)+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"DÒNG THẺ"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.type_card?e.listTypeCard[n.type_card].split("-")[0]:"")+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"LƯỢT SỬ DỤNG"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.type_card?e.listTypeCard[n.type_card].split("-")[1]:"")+" ")]}}])}),t("el-table-column",{attrs:{label:"SÂN GOLF",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.facility.sub_title)+" ")]}}])}),t("el-table-column",{attrs:{label:"MIỀN",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.facility.regions_id>0?e.regions[n.facility.regions_id].label:"")+" ")]}}])}),t("el-table-column",{attrs:{width:"100",label:"CHỦ THẺ",align:"center"}},[[e._v(" 1 ")]],2),t("el-table-column",{attrs:{width:"100",label:"NGƯỜI CHƠI CÙNG",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[t("span",[e._v(e._s(a.partner_number))])]}}])}),t("el-table-column",{attrs:{label:"TỔNG",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.partner_number?+n.partner_number+1:1)+" ")]}}])}),t("el-table-column",{attrs:{label:"NGÀY CHƠI",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.date_played?e.convertDate(n.date_played):"")+" ")]}}])}),t("el-table-column",{attrs:{label:"ĐƠN GIÁ",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.price_sacom?e.isWeekend(new Date(n.date_played))?e.formatNumber(n.price_sacom.holiday_price):e.formatNumber(n.price_sacom.normal_price):"")+" ")]}}])}),t("el-table-column",{attrs:{label:"THÀNH TIỀN",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.price_sacom?e.isWeekend(new Date(n.date_played))?e.formatNumber((n.partner_number?+n.partner_number+1:1)*n.price_sacom.holiday_price):e.formatNumber((n.partner_number?+n.partner_number+1:1)*n.price_sacom.normal_price):"")+" ")]}}])}),t("el-table-column",{attrs:{label:"GHI CHÚ: TÊN NGƯỜI CHƠI CÙNG"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.note)+" ")]}}])}),t("el-table-column",{attrs:{label:"SALE",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.admin)+" ")]}}])}),t("el-table-column",{attrs:{label:"MÃ CMS",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.code_booking)+" ")]}}])}),t("el-table-column",{attrs:{label:"TT XÁC NHẬN",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[t("el-tag",{attrs:{type:e.renderClassStatus(a.reservation_status)}},[e._v(e._s(e.convertStatusString(a.reservation_status))+" ")])]}}])}),t("el-table-column",{attrs:{label:"Trạng thái Bank",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[1==a.is_bank_confirm?t("el-tag",{attrs:{type:"success"}},[e._v(" Đã xác nhận ")]):t("el-tag",{attrs:{type:"danger"}},[e._v(" Chưa xác nhận ")])]}}])}),t("el-table-column",{attrs:{label:"Hành động",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return t("section",{staticStyle:{display:"flex","align-items":"center","flex-direction":"column"}},[t("el-button",{staticClass:"mb-10",attrs:{type:"primary"},on:{click:function(t){return e.handleEdit(n.row)}}},[e._v("Edit ")]),t("section",[1==n.row.is_admin_confirm?[t("el-tag",{attrs:{type:"success"}},[e._v(" Đã xác nhận ")]),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.unConfirmDone(n.row)}}},[e._v("Bỏ xác nhận ")])]:t("el-tag",{attrs:{type:"danger"}},[e._v(" Chưa xác nhận ")])],2)],1)}}])})],1),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",{attrs:{sm:2}},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.loadingTable,expression:"!loadingTable"}],attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.confirmDone}},[e._v("Xác nhận")])],1),t("el-col",[t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.query.limit,expression:"total > query.limit"}],attrs:{total:e.total,limit:e.query.limit,page:e.query.page},on:{"update:limit":function(t){return e.$set(e.query,"limit",t)},"update:page":function(t){return e.$set(e.query,"page",t)},pagination:e.onGetList}}),t("DialogEditSacom",{attrs:{"show-dialog":e.showDialog,"is-add":e.isAdd,"object-data":e.objectData},on:{onCloseDialog:e.handleClose}})],1)],1)],1)],1)},r=[],o=(n("d3b7"),n("c73d"),n("25f0"),n("3ca3"),n("ddb0"),n("9861"),n("88a7"),n("271a"),n("5494"),n("99af"),n("a15b"),n("caad"),n("2532"),n("d81d"),n("498a"),n("b0c0"),n("14d9"),n("333d")),i=n("c1df"),l=n.n(i),u=n("bcc2"),c=n("2fc3"),s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.dialog.titleName,visible:e.showDialog,"before-close":e.handleClose},on:{"update:visible":function(t){e.showDialog=t}}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{rules:e.rules,model:e.objectData}},[t("el-form-item",{attrs:{label:"Tên khách hàng"}},[t("el-form-item",{attrs:{prop:"name"}},[t("el-input",{attrs:{prop:"name",placeholder:"Tên khách hàng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.name,callback:function(t){e.$set(e.formRequest,"name",t)},expression:"formRequest.name"}})],1)],1),t("el-form-item",{attrs:{label:"CCCD/Passport",required:""}},[t("el-form-item",{attrs:{prop:"passport"}},[t("el-input",{attrs:{prop:"passport",placeholder:"CCCD/Passport"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.passport,callback:function(t){e.$set(e.formRequest,"passport",t)},expression:"formRequest.passport"}})],1)],1),t("el-form-item",{attrs:{label:"Loại thẻ"}},[t("el-form-item",{attrs:{prop:"type_card"}},[t("el-select",{staticClass:"w-100",attrs:{prop:"type_card",placeholder:"Chọn loại thẻ"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.type_card,callback:function(t){e.$set(e.formRequest,"type_card",t)},expression:"formRequest.type_card"}},e._l(e.listTypeCard,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-form-item",{attrs:{label:"Chủ thẻ"}},[t("el-form-item",{attrs:{prop:"owner_number"}},[t("el-input",{attrs:{prop:"owner_number",disabled:!0,placeholder:"Chủ thẻ"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.owner_number,callback:function(t){e.$set(e.formRequest,"owner_number",t)},expression:"formRequest.owner_number"}})],1)],1),t("el-form-item",{attrs:{label:"Người đi cùng"}},[t("el-form-item",{attrs:{prop:"partner_number"}},[t("el-input",{attrs:{prop:"partner_number",placeholder:"Người đi cùng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.partner_number,callback:function(t){e.$set(e.formRequest,"partner_number",t)},expression:"formRequest.partner_number"}})],1)],1),t("el-form-item",{attrs:{label:"Ghi chú: Người đi cùng"}},[t("el-form-item",{attrs:{prop:"note"}},[t("el-input",{attrs:{prop:"note",placeholder:"Ghi chú: Người đi cùng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.note,callback:function(t){e.$set(e.formRequest,"note",t)},expression:"formRequest.note"}})],1)],1),t("el-form-item",{attrs:{label:"Tổng"}},[t("el-form-item",{attrs:{prop:"total_number"}},[t("el-input",{attrs:{prop:"total_number",placeholder:"Tổng",disabled:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.total_number,callback:function(t){e.$set(e.formRequest,"total_number",t)},expression:"formRequest.total_number"}})],1)],1),t("el-form-item",{attrs:{label:"Ngày chơi"}},[t("el-form-item",{attrs:{prop:"date_played"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"dd-MM-yyyy","value-format":"yyyy-MM-dd",disabled:!0,placeholder:"Ngày chơi"},model:{value:e.formRequest.date_played,callback:function(t){e.$set(e.formRequest,"date_played",t)},expression:"formRequest.date_played"}})],1)],1),t("el-form-item",{attrs:{label:"Đơn giá"}},[t("el-form-item",{attrs:{prop:"unit_amount"}},[t("el-input",{attrs:{prop:"unit_amount",placeholder:"Đơn giá",disabled:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.unit_amount,callback:function(t){e.$set(e.formRequest,"unit_amount",t)},expression:"formRequest.unit_amount"}})],1)],1),t("el-form-item",{attrs:{label:"Thành tiền"}},[t("el-form-item",{attrs:{prop:"total_amount"}},[t("el-input",{attrs:{prop:"total_amount",placeholder:"Thành tiền",disabled:!0},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitForm("ruleForm")}},model:{value:e.formRequest.total_amount,callback:function(t){e.$set(e.formRequest,"total_amount",t)},expression:"formRequest.total_amount"}})],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleClose}},[e._v("Hủy")]),t("el-button",{attrs:{type:"primary",loading:e.loadingSubmit},on:{click:function(t){return e.onSubmitForm("ruleForm")}}},[e._v(e._s(e.dialog.buttonName))])],1)],1)},d=[],m=n("c7eb"),h=n("1da1"),f=(n("159b"),n("b64b"),n("61f7")),p=new c["a"],g={name:"DialogEditSacom",props:{objectData:{type:Object,default:function(){return{}}},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!1}},data:function(){var e=this;return{rules:{passport:[{validator:function(t,n,a){return Object(f["q"])(t,e.formRequest.passport,a,"CCCD/Passport")},trigger:"change"}]},loadingSubmit:!1,dialogLoading:!1,formRequest:{name:"",passport:"",note:"",unit_amount:"",partner_number:"",type_card:""},request:{},dialog:{titleName:"THÊM MỚI LƯỢT CHƠI",buttonName:"Thêm mới"},formLabelWidth:"200px",listTypeCard:[{label:"Thẻ Infinite - Miễn Phí",value:1},{label:"Thẻ World MC - Giảm Phí",value:2},{label:"Thẻ World MC - Miễn Phí",value:3},{label:"Thẻ VIP - Miễn Phí",value:4},{label:"Thẻ Infinite FLC - Miễn phí",value:5}]}},watch:{objectData:function(e){console.log("value",e),this.formRequest.name=e.real_name?e.real_name:e.golfer?e.golfer.fullname:e.name_out_system,this.formRequest.passport=null===e||void 0===e?void 0:e.passport,this.formRequest.type_card=e.type_card?e.type_card:"",this.formRequest.owner_number=1,this.formRequest.date_played=e.date_played,this.formRequest.partner_number=e.partner_number,this.formRequest.unit_amount=e.price_sacom?this.isWeekend(new Date(e.date_played))?e.price_sacom.holiday_price:e.price_sacom.normal_price:"",this.formRequest.note=e.note,this.formRequest.id=e.id},"formRequest.unit_amount":function(e){e&&(this.formRequest.total_amount=e*+this.formRequest.total_number)},"formRequest.partner_number":function(e){this.formRequest.total_number=+e+1,this.formRequest.total_amount=this.formRequest.total_number*this.formRequest.unit_amount},isAdd:function(e){console.log("isAdd",e),this.dialog=e?Object.assign({},{titleName:"THÊM MỚI LƯỢT CHƠI",buttonName:"Thêm mới"}):Object.assign({},{titleName:"CẬP NHẬT LƯỢT CHƠI",buttonName:"Cập nhật"})},codeBookings:function(e){this.arrayUser=[],this.check_list=[],console.log("check_list...........................",this.check_list),this.onGetBookedByCodeBooking(e)}},created:function(){console.log("objectData...............",this.objectData)},methods:{isWeekend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getDay()%6===0},onSubmitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.appendForm(),t.handleSubmitUpdate())}))},handleSubmitUpdate:function(){var e=this;return Object(h["a"])(Object(m["a"])().mark((function t(){return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("this.request",e.request),console.log("this.formRequest",e.formRequest),e.loadingSubmit=!0,p.updateSacom(e.request,e.formRequest.id).then((function(t){0===t.error_code?(e.$message({message:"Cập nhật thành công",type:"success"}),e.$emit("onCloseDialog",{dialog:!0,reload:!0}),e.resetFormRequest()):e.$message({message:t.data.message,type:"error"})})).catch((function(e){console.log("error",e)})).finally((function(){e.loadingSubmit=!1}));case 4:case"end":return t.stop()}}),t)})))()},resetFormRequest:function(){var e=this;return Object(h["a"])(Object(m["a"])().mark((function t(){return Object(m["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formRequest={name:"",passport:"",note:"",unit_amount:"",partner_number:""},e.$refs["ruleForm"].clearValidate();case 2:case"end":return t.stop()}}),t)})))()},handleClose:function(){this.$emit("onCloseDialog",{dialog:!0,reload:!1}),this.resetFormRequest()},appendForm:function(){var e=new FormData,t=this.formRequest;Object.keys(t).forEach((function(n){e.append(n,t[n])})),this.request=e},formatNumber:u["k"]}},b=g,y=(n("5d7b"),n("2877")),_=Object(y["a"])(b,s,d,!1,null,"1c727586",null),v=_.exports,k=n("60fe"),C=n("e0cb"),D=new c["a"],M="https://prod-wap-wghn-beta.vcallid.com",N=new C["a"],O={name:"ControlBankSacomStatistic",components:{Pagination:o["a"],DialogEditSacom:v},props:["admin"],data:function(){return{tableData:[],loadingTable:!1,total:0,query:{limit:10,page:1},dateRange:"",title:"",loadingExportExcel:!1,regions:k["k"],listTypeCard:k["i"],dialogEditNote:!1,noteEdit:"",body:{},showDialog:!1,isAdd:!0,objectData:{},multipleSelection:[],dialogConfirmDone:!1,total_money:0,loadingSearchAdmin:!1,adminData:[],LIST_HOLIDAY:k["h"],timer:""}},computed:{datePickerOptions:function(){var e=this;return{disabledDate:function(t){var n=new Date(e.query.start_time);return n.setDate(n.getDate()+1),t.getTime()<n.getTime()}}}},watch:{dateRange:function(e){e?(console.log("value",e),this.query.start_time=l()(e).startOf("month").unix(),this.query.end_time=l()(e).endOf("month").unix()):(this.query.start_time="",this.query.end_time="")}},created:function(){this.onGetList()},beforeUnmount:function(){clearInterval(this.timer)},methods:{checkAdmin:function(e){var t;return(null===e||void 0===e?void 0:e.admin)===(null===(t=this.admin)||void 0===t?void 0:t.id)},onGetList:function(){var e=this;e.loadingTable=!0,D.listSaCom(this.query).then((function(t){if(0===t.error_code){var n=t.data.data;console.log("data----------------------",n),e.tableData=n,console.log("self.tableData----------------------",e.tableData),e.total=t.data.total,e.from+=e.query.limit*(e.query.page-1)}else e.$message.error(t.error_msg)})).finally((function(){e.loadingTable=!1}))},onGetTotalMoney:function(){var e=this;D.totalMoneySaCom(this.query).then((function(t){console.log("response total____________",t),0===t.error_code?e.total_money=t.data:self.$message.error(t.error_msg)}))},handleFilter:function(){this.query.page=1,this.loadingTable=!0,this.onGetList()},onReset:function(){this.query=Object.assign({},{page:1,limit:10}),this.dateRange="",this.onGetList()},handleIndexMethod:function(e){return 1===this.query.page?this.query.page+e:(this.query.page-1)*this.query.limit+e+1},handleDownload:function(){var e=this;this.loadingExportExcel=!0,D.exportSaCom(this.query).then((function(t){var n=document.createElement("a"),a=new URLSearchParams(e.query).toString();n.href="".concat(M,"/control-bank/exportSaCom?").concat(a),document.body.appendChild(n),n.click(),e.$message({message:"Export thành công",type:"success",duration:5e3})})).finally((function(){e.loadingExportExcel=!1}))},isWeekend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;function t(e){return e<10?"0"+e:e}var n=[t(e.getDate()),t(e.getMonth()+1),t(e.getFullYear())].join("-");return!!this.LIST_HOLIDAY.includes(n)||e.getDay()%6===0},handleSelectionChange:function(e){this.multipleSelection=e.map((function(e){return e.id}))},confirmDone:function(){var e=this,t=this;t.multipleSelection.length<1?t.$message.warning("Chọn bản ghi trước khi xác nhận."):(console.log("self.multipleSelection",t.multipleSelection),this.dialogConfirmDone=!0,this.query.list_id=this.multipleSelection,this.$confirm("Bạn có chắc chắn xác nhận không ?").then((function(t){D.confirmDone(e.query).then((function(t){console.log(t),0===t.error_code?(e.$message({type:"success",message:"Xác nhận thành công!"}),e.dialogConfirmDone=!1,e.onGetList()):e.$message({type:"error",message:t.error_msg})}))})))},handleEdit:function(e){this.showDialog=!0,this.isAdd=!1,this.objectData=Object.assign({},e)},handleClose:function(e){this.showDialog=!1,e.reload&&this.onGetList()},unConfirmDone:function(e){var t=this;console.log("row..................",e),this.dialogConfirmDone=!0,this.$confirm("Bạn có chắc chắn bỏ xác nhận không ?").then((function(n){D.unConfirmDone(t.query,e.id).then((function(e){console.log(e),0===e.error_code?(t.$message({type:"success",message:"Xác nhận thành công!"}),t.dialogConfirmDone=!1,t.onGetList()):t.$message({type:"error",message:e.error_msg})})).finally((function(){t.dialogConfirmDone=!1}))}))},onSearchAdmin:function(e){var t=this,n=this;n.loadingSearchAdmin=!0,N.searchAdmin({keyword_admin:e.trim()}).then((function(e){var n=e.error_code,a=e.data;if(0===n&&a.length>0){var r=[];a.map((function(e){var t={value:e.id,label:e.name};r.push(t)})),t.adminData=[].concat(r)}})).finally((function(){n.loadingSearchAdmin=!1}))},cancelReadOnly:function(e,t){var n=this;this.$nextTick((function(){if(!e){var a=n.$refs[t],r=a.$el.querySelector(".el-input__inner");r.removeAttribute("readonly")}}))},formatNumber:u["k"],convertDate:u["a"],convertStatusString:u["g"],renderClassStatus:u["m"],upperCase:u["o"]}},S=O,w=(n("c1dc"),Object(y["a"])(S,a,r,!1,null,null,null));t["default"]=w.exports},bcc2:function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return _}));n("2af1"),n("b680"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("99af"),n("fb6a"),n("a15b"),n("d81d"),n("14d9");var a=n("c1df"),r=n.n(a);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=(e/1).toFixed().replace(".",",");return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e);return"DD/MM/YYYY"===t?[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t?[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-"):void 0}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes())].join(":"),o="";return"DD/MM/YYYY"===t?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(o)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),o="";return"DD/MM/YYYY"===t?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(o)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss DD-MM-YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),o="";return"HH:mm:ss DD-MM-YYYY"===t?o=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(o=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(o)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(e){return e<10?"0"+e:e}var r=new Date(e),o=n?r.getUTCHours():r.getHours(),i=n?r.getUTCMinutes():r.getMinutes(),l=[a(o),a(i),a(r.getSeconds())].join(":"),u="";return"DD/MM/YYYY"===t?u=[a(r.getDate()),a(r.getMonth()+1),r.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(u=[a(r.getFullYear()),a(r.getMonth()+1),a(r.getDate())].join("-")),"".concat(l," ").concat(u)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";function n(e){return e<10?"0"+e:e}var a=new Date(e),r="";return"DD/MM/YYYY"===t?r=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(r=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r)}function m(e){if(null==e)return null;var t=(e/1).toFixed().replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(e)return r()(e).format(t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm DD/MM/YYYY";return r()(e).format(t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm:ss";if(e)return r()(e).format(t)}function g(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\Đ]/g,"D");return t.toUpperCase()}function b(e){switch(e){case 1:return"Tạo flight";case 2:return"Đã xác nhận";case 4:return"Hủy đúng hạn";case 5:return"Hủy sai hạn";case 6:return"Xác nhận booking";default:return"Đã hoàn thành"}}function y(e){switch(e){case 2:return"success";case 3:return"success";case 4:return"warning";case 5:return"danger";default:return"info"}}function _(e){var t=[];return e.length>0&&e.map((function(e){var n=e.id_display?e.id_display:e.id,a="vID".concat(n," - ").concat(e.fullname," (").concat(e.nickname,")"),r={value:e.id,label:a};t.push(r)})),t}},c1dc:function(e,t,n){"use strict";n("e487")},e0cb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("d4ec"),r=n("bee2"),o=n("262e"),i=n("2caf"),l=(n("99af"),n("6c6e")),u=n("b775"),c="https://prod-wap-wghn-beta.vcallid.com",s=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"search")}return Object(r["a"])(n,[{key:"searchFacility",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-facility"),method:"post",data:e})}},{key:"searchAdmin",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-admin"),method:"post",data:e})}},{key:"searchAgency",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-agency"),method:"post",data:e})}},{key:"getAllAgency",value:function(e){return Object(u["a"])({url:c+"/agency/search",method:"get",params:e})}},{key:"searchSupplier",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-supplier"),method:"post",data:e})}},{key:"searchBooking",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-code-booking"),method:"post",data:e})}},{key:"searchByBooking",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-booked-by-code-booking"),method:"post",data:e})}},{key:"searchUserByBooked",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-user-by-booked"),method:"post",data:e})}},{key:"searchGolfer",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/search-golfer"),method:"post",data:e})}},{key:"listSupplier",value:function(e){return Object(u["a"])({url:"".concat(c,"/").concat(this.uri,"/list-supplier"),method:"get",params:e})}}]),n}(l["a"])},e487:function(e,t,n){},eac1:function(e,t,n){}}]);