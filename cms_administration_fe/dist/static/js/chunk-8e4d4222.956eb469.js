(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e4d4222"],{"0419":function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a("d4ec"),r=a("bee2"),i=a("262e"),o=a("2caf"),c=(a("99af"),a("6c6e")),s=a("b775"),l="https://prod-wap-wghn-beta.vcallid.com",u="https://parter_dev.vcallid.com/api/v1/cms-stb",d="https://api-payment-prod.vcallid.com/api/v1/paymenthub";console.log("URL_API_PAYMENT_HUB_________",d);var h=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),t.call(this,"booking-pax")}return Object(r["a"])(a,[{key:"listBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/list-bill"),method:"post",data:e})}},{key:"detailBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/detail-bill"),method:"post",data:e})}},{key:"searchTeeTime",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/search-tee"),method:"post",data:e})}},{key:"listTeeTime",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/list-tee"),method:"post",data:e})}},{key:"createBooking",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/create-booking"),method:"post",data:e})}},{key:"updateBooking",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-bill"),method:"post",data:e})}},{key:"removeBooking",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/remove-bill"),method:"post",data:e})}},{key:"updateLockPax",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-lock-pax"),method:"post",data:e})}},{key:"updateLockPaxMultiple",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/updateLockPaxMultiple"),method:"post",data:e})}},{key:"searchOtherService",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/search-product"),method:"get",params:e})}},{key:"detailProduct",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/detail-product"),method:"get",params:e})}},{key:"searchInsurance",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/get-list-insurance"),method:"get",params:e})}},{key:"checkTimeMoneyInsurance",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/check-time-money-insurance"),method:"post",data:e})}},{key:"billConfirm",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/confirm-bill"),method:"post",data:e})}},{key:"mapUserByPhone",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/map-user-by-phone"),method:"post",data:e})}},{key:"createMiSaVoucher",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/create-misa-voucher"),method:"post",data:e})}},{key:"confirmPaymentBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/comfirm-payment-general-bill"),method:"post",data:e})}},{key:"updatePricePax",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/sale-pax"),method:"post",data:e})}},{key:"getCardByUser",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/get-card-by-user"),method:"post",data:e})}},{key:"getBookingDayDebt",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/check-day-debt-by-admin"),method:"post",data:e})}},{key:"getWarningBookingDayDebt",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/warning-day-debt-by-admin"),method:"post",data:e})}},{key:"updateAccountant",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-accountant"),method:"post",data:e})}},{key:"sendMailFacility",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/send-mail-facility"),method:"post",data:e})}},{key:"sendMailSacombank",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/send-mail-sacombank"),method:"post",data:e})}},{key:"exportBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/export-bill"),method:"post",data:e})}},{key:"getDetailCodePaymentBooking",value:function(e){return Object(s["a"])({url:"https://api-other-services.vcallid.com/api/v1/other_services/list_transaction_booking_by_pax",method:"post",data:e})}},{key:"createCodePaymentBooking",value:function(e,t){return Object(s["a"])({url:"https://api-booking-v2.vcallid.com/api/v1/payment_booking/create_payment_booking_for_cms?"+t,method:"post",data:e})}},{key:"listCategory",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-category"),method:"get",params:e})}},{key:"updateCategory",value:function(e,t){return Object(s["a"])({url:"".concat(this.uri,"/update-category/").concat(t),method:"post",data:e})}},{key:"createCategory",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/create-category"),method:"post",data:e})}},{key:"listDataUser",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-data-user"),method:"get",params:e})}},{key:"listRequestOrder",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-request-order"),method:"get",params:e})}},{key:"updateStatusConfirmRequest",value:function(e,t){return Object(s["a"])({url:"".concat(this.uri,"/update-status-confirm-request/").concat(t),method:"post",data:e})}},{key:"listHistoryLog",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-history-log"),method:"get",params:e})}},{key:"detailHistoryLog",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/detail-history-log"),method:"get",params:e})}},{key:"listPaymentPoint",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-payment-point"),method:"post",data:e})}},{key:"updateStatisticBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-statistic-bill"),method:"post",data:e})}},{key:"updateBookedSurchargeEntryPrice",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-booked-surcharge-entry-price"),method:"post",data:e})}},{key:"updateSuplierBill",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-supplier-bill"),method:"post",data:e})}},{key:"confirmExpense",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/confirm-expense"),method:"post",data:e})}},{key:"updatePaymentServiceChildStatistic",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-payment-service-child-statistic"),method:"post",data:e})}},{key:"updatePaymentBillCodePaymnet",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-payment-bill-code-payment"),method:"post",data:e})}},{key:"updateDataJson",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update-data-json"),method:"post",data:e})}},{key:"searchAgentNew",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/search-agent"),method:"get",params:e})}},{key:"createInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/create-insurance"),method:"post",data:e})}},{key:"getFacilityCanBuyInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-facility-can-buy-insurance"),method:"get",params:e})}},{key:"getListsPriceByHoleInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-list-price-by-hole-insurance"),method:"get",params:e})}},{key:"getGolferByIdInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-golfer-by-id-insurance"),method:"get",params:e})}},{key:"onCheckGolferId",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/check-golfer-id-cms"),method:"post",data:e})}},{key:"onCheckGolferPassport",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/check-golfer-passport-cms"),method:"post",data:e})}},{key:"onCheckGolferSoldInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/check-golfer-sold-insurance"),method:"post",data:e})}},{key:"getListsOptionsMember",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-list-option-member"),method:"get",params:e})}},{key:"getDetailInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-detail-insurance-cms"),method:"get",params:e})}},{key:"onGetHoleSelectInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-hole-insurance-cms"),method:"get",params:e})}},{key:"onUpdateOrCreateMember",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/create-member-insurance-cms"),method:"post",data:e})}},{key:"onDeleteMemberInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/delete-member-insurance-cms"),method:"post",data:e})}},{key:"onCreateUserNameInsuranceOut",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/create-member-insurance-out-cms"),method:"post",data:e})}},{key:"onGetMemberInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-member-insurance-cms"),method:"get",params:e})}},{key:"updateInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/update-insurance"),method:"post",data:e})}},{key:"viewCertificateInsurance",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-certificate-cms"),method:"get",params:e})}},{key:"getDetailBillCore",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/get-detail-bill-core"),method:"get",params:e})}},{key:"getCardByUserSTB",value:function(e){return Object(s["a"])({url:"".concat(u,"/get_list_free_golf"),method:"get",params:e})}},{key:"createCodePaymentGeneralBill",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/create-code-payment-general-bill"),method:"post",data:e})}},{key:"getDetailCodePaymentGeneralBill",value:function(e){return Object(s["a"])({url:"https://api-payment-prod.vcallid.com/api/v1/paymenthub/get_code_payment_by_bill",method:"post",data:e})}},{key:"getFacilitySTB",value:function(e){return Object(s["a"])({url:"".concat(u,"/get_location_id"),method:"get",params:e})}},{key:"listBillSearchArrayGB",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/list-bill-search-array-GB"),method:"post",data:e})}},{key:"addProviderToTransactionMoneyIn",value:function(e){return Object(s["a"])({url:"".concat(this.uri,"/add-provider-to-transaction-money-in"),method:"post",data:e})}},{key:"clearCodePaymentStatus",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/clear-code-payment-status"),method:"post",data:e})}},{key:"getRevenueBillBySale",value:function(e){return Object(s["a"])({url:d+"/get_revenue_bill",method:"post",data:e})}},{key:"getDataCompanyByTaxCode",value:function(e){return Object(s["a"])({url:"https://api-payment-prod.vcallid.com/api/v1/misa/get_data_company_by_tax_code",method:"post",data:e})}},{key:"get_account_object",value:function(e){return Object(s["a"])({url:"https://api-payment-prod.vcallid.com/api/v1/misa/get_account_object",method:"post",data:e})}},{key:"warningTeetimeByAdmin",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/warning-teetime-by-admin"),method:"post",data:e})}},{key:"updateDateDebt",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/update_date_debt"),method:"post",data:e})}}]),a}(c["a"])},"0538":function(e,t,a){"use strict";var n=a("e330"),r=a("59ed"),i=a("861d"),o=a("1a2d"),c=a("f36a"),s=a("40d5"),l=Function,u=n([].concat),d=n([].join),h={},p=function(e,t,a){if(!o(h,t)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";h[t]=l("C,a","return new C("+d(n,",")+")")}return h[t](e,a)};e.exports=s?l.bind:function(e){var t=r(this),a=t.prototype,n=c(arguments,1),o=function(){var a=u(n,c(arguments));return this instanceof o?p(t,a.length,a):t.apply(e,a)};return i(a)&&(o.prototype=a),o}},"0df4":function(e,t,a){"use strict";a("eac1")},"12e4":function(e,t,a){"use strict";a("7699")},"262e":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("d9e2"),a("131a"),a("1f68");function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}},"2af1":function(e,t,a){"use strict";var n=a("23e7"),r=a("f748");n({target:"Math",stat:!0},{sign:r})},"2caf":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("4ae1"),a("d3b7"),a("f8c9"),a("131a"),a("3410"),a("1f68");function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}a("d9e2");var i=a("53ca");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function s(e){var t=r();return function(){var a,r=n(e);if(t){var i=n(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return c(this,a)}}},"333d":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,a){var n=c(),r=e-n,s=20,l=0;t="undefined"===typeof t?500:t;var u=function e(){l+=s;var c=Math.easeInOutQuad(l,n,r,t);o(c),l<t?i(e):a&&"function"===typeof a&&a()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},u=l,d=(a("0df4"),a("2877")),h=Object(d["a"])(u,n,r,!1,null,"2f2d1216",null);t["a"]=h.exports},"3e29":function(e,t,a){"use strict";a("bc6b")},"4ae1":function(e,t,a){"use strict";var n=a("23e7"),r=a("d066"),i=a("2ba4"),o=a("0538"),c=a("5087"),s=a("825a"),l=a("861d"),u=a("7c73"),d=a("d039"),h=r("Reflect","construct"),p=Object.prototype,m=[].push,b=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),f=!d((function(){h((function(){}))})),g=b||f;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){c(e),s(t);var a=arguments.length<3?e:c(arguments[2]);if(f&&!b)return h(e,t,a);if(e===a){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return i(m,n,t),new(i(o,e,n))}var r=a.prototype,d=u(l(r)?r:p),g=i(e,d,t);return l(g)?g:d}})},"5cc9":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("99af"),a("b64b");var n=function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"app-container list-expense"},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"grid-content bg-purple-dark"},[t("el-row",{staticClass:"list-expense__header"},[t("el-col",{attrs:{span:24}},[t("div",{staticClass:"grid-content bg-purple-dark"},[t("el-row",{staticClass:"title-header"},[t("el-col",{attrs:{span:12}},[t("h4",[e._v("Quản lý chi")])]),t("el-col",{attrs:{span:12,align:"right"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateCode}},[e._v("Tạo code chi")])],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Mã booking")]),t("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Nhập mã booking"},model:{value:e.listQuery.code_booking,callback:function(t){e.$set(e.listQuery,"code_booking",t)},expression:"listQuery.code_booking"}})],1)]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Mã Bill tổng")]),t("el-select",{ref:"SearchBill",staticClass:"w-100",attrs:{filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"Tìm kiếm mã Bill","remote-method":e.onSearchBill},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"SearchBill")},"visible-change":function(t){return e.cancelReadOnly(t,"SearchBill")}},model:{value:e.listQuery.id_general_bill_detail,callback:function(t){e.$set(e.listQuery,"id_general_bill_detail",t)},expression:"listQuery.id_general_bill_detail"}},e._l(e.billSearch,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("vID Khách hàng")]),t("search-user",{attrs:{size:"small"},on:{"selection-changed-user":e.changeUser}})],1)]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Code chi")]),t("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Nhập code chi"},model:{value:e.listQuery.code_payment,callback:function(t){e.$set(e.listQuery,"code_payment",t)},expression:"listQuery.code_payment"}})],1)]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Tên NCC")]),t("el-select",{ref:"SearchSupplier",staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"Tìm kiếm NCC","remote-method":e.onSearchSupplier,loading:e.loadingSearchSupplier},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"SearchSupplier")},"visible-change":function(t){return e.cancelReadOnly(t,"SearchSupplier")}},model:{value:e.listQuery.supplier_id,callback:function(t){e.$set(e.listQuery,"supplier_id",t)},expression:"listQuery.supplier_id"}},e._l(e.suppliers,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),t("el-col",{attrs:{span:4}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Thanh toán NCC")]),t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"Chọn thanh toán NCC"},model:{value:e.listQuery.type_purchase,callback:function(t){e.$set(e.listQuery,"type_purchase",t)},expression:"listQuery.type_purchase"}},e._l(e.purchaseSupplier,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1)])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Thời gian đánh")]),t("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",label:"Thời gian đánh",size:"small",type:"daterange","range-separator":"To",format:"dd-MM-yyyy HH:mm:ss","start-placeholder":"Start date","end-placeholder":"End date","default-time":["00:00:00","23:59:00"]},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Hình thức thanh toán NCC")]),t("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",clearable:"",placeholder:"Chọn thanh toán NCC"},model:{value:e.listQuery.type_purchase_supplier,callback:function(t){e.$set(e.listQuery,"type_purchase_supplier",t)},expression:"listQuery.type_purchase_supplier"}},e._l(e.purchases,(function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",[e._v("Admin")]),t("el-select",{ref:"SearchAdmin",staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",multiple:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"Chọn admin","remote-method":e.onSearchAdmin,loading:e.loadingSearchAdmin},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"SearchAdmin")},"visible-change":function(t){return e.cancelReadOnly(t,"SearchAdmin")}},model:{value:e.listQuery.admin,callback:function(t){e.$set(e.listQuery,"admin",t)},expression:"listQuery.admin"}},e._l(e.admins,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"grid-content bg-purple"},[t("label",{staticStyle:{width:"100%","margin-bottom":"1.6rem"}}),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.requestExpenseList}},[e._v("Tìm kiếm")]),t("el-button",{attrs:{size:"small"},on:{click:e.onRefresh}},[e._v("Refresh")]),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-download",loading:e.loadingExportExcel},on:{click:e.handleDownload}},[e._v(" Export excel ")])],1)])],1),t("el-row",{staticClass:"p-10",staticStyle:{"border-bottom":"1px solid #dddddd","border-top":"1px solid #dddddd"}},[t("div",{staticClass:"text-center"},[t("h4",[e._v(e._s("Tổng giá trị booking NCC: ".concat(e.formatNumber(e.total_money))))])]),t("el-col",{staticClass:"text-center",attrs:{span:12}},[t("h6",[e._v(e._s("Tổng giá trị booking đã thanh toán: ".concat(e.formatNumber(e.total_money_purchase))))])]),t("el-col",{staticClass:"text-center",attrs:{span:12}},[t("h6",[e._v(e._s("Tổng giá trị booking chưa thanh toán: ".concat(e.formatNumber(e.total_money_no_purchase))))])])],1)],1)])],1),t("el-row",{staticClass:"list-expense__data",staticStyle:{"overflow-x":"auto"}},[t("el-col",{attrs:{span:24}},[t("table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}]},[t("thead",[t("th",{staticClass:"th-table-expense",staticStyle:{width:"50px"}},[e._v("STT")]),t("th",{staticClass:"th-table-expense"},[e._v("Sân")]),t("th",{staticClass:"th-table-expense"},[e._v("Golfer")]),t("th",{staticClass:"th-table-expense"},[e._v("Code booking")]),t("th",{staticClass:"th-table-expense"},[e._v("Mã giảm giá")]),t("th",{staticClass:"th-table-expense"},[e._v("Người đặt")]),t("th",{staticClass:"th-table-expense"},[e._v("Nguồn")]),t("th",{staticClass:"th-table-expense"},[e._v("Admin")]),t("th",{staticClass:"th-table-expense"},[e._v("Giá(VND)")]),t("th",{staticClass:"th-table-expense"},[e._v("Giá doanh thu(VND)")]),t("th",{staticClass:"th-table-expense"},[e._v("Phụ thu cố định")]),t("th",{staticClass:"th-table-expense"},[e._v("Giá gốc(VND)")]),t("th",{staticClass:"th-table-expense"},[e._v("Ngày đánh")]),t("th",{staticClass:"th-table-expense"},[e._v("Ngày đặt")]),t("th",{staticClass:"th-table-expense"},[e._v("HIO")]),t("th",{staticClass:"th-table-expense"},[e._v("Trạng thái")]),t("th",{staticClass:"th-table-expense",staticStyle:{width:"7%"}},[e._v("Nhà cung cấp")]),t("th",{staticClass:"th-table-expense"},[e._v("Note")]),t("th",{staticClass:"th-table-expense"},[e._v("Giá nhập phụ phí")]),t("th",{staticClass:"th-table-expense"},[e._v("Doanh Thu Phụ Phí")]),t("th",{staticClass:"th-table-expense"},[e._v("Hạng mục")]),t("th",{staticClass:"th-table-expense"},[e._v("Đại lý")]),t("th",{staticClass:"th-table-expense"},[e._v("Số lượng khách")]),t("th",{staticClass:"th-table-expense"},[e._v("CCCD / Passport")]),t("th",{staticClass:"th-table-expense"},[e._v("Code Payment")]),t("th",{staticClass:"th-table-expense"},[e._v("Đối chiếu")]),t("th",{staticClass:"th-table-expense"},[e._v("Xác nhận TT")]),t("th",{staticClass:"th-table-expense"},[e._v("Code chi")]),t("th",{staticClass:"th-table-expense"},[e._v("TT Xác nhận Booking")])]),t("tbody",[e._l(e.tableData,(function(a,n){return[e._l(a.booked,(function(r,i){return[t("tr",{key:r.id,class:{delay:0!=a.delay_date}},[0===i?t("td",{staticClass:"td-table-expense",staticStyle:{width:"50px"},attrs:{rowspan:0===i&&a.billOutsidePayment.length>0?a.booked.length+a.billOutsidePayment.length:0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[e._v(" "+e._s(n+1)+" ")]):e._e(),0===i?t("td",{staticClass:"td-table-expense",attrs:{rowspan:0===i&&a.billOutsidePayment.length>0?a.booked.length+a.billOutsidePayment.length:0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[e._v(" "+e._s(a.facility?a.facility.sub_title:"")+" ")]):e._e(),t("td",{staticClass:"td-table-expense"},[t("p",[e._v(e._s(r.user_id>0&&null!==r.golfer?"VID".concat(r.user_id," - ").concat(r.golfer.fullname):r.name_out_system))])]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(r.code_booking))]),t("td",{staticClass:"td-table-expense"},[r.promotion_code_id?t("p",[e._v(e._s(r.promotional?r.promotional.code:""))]):e._e()]),t("td",{staticClass:"td-table-expense"},[e._v(" "+e._s(null!==r.host_user_id?"VID"+r.host_user_id:"")+" ")]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(1===r.source?"APP":"CMS"))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(r.cms_admin?r.cms_admin.name:""))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(r.price_booking)))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(a.revenue_price)))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(e.sourcePrice(a))))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.convertDateTimeString(r.date_played)))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.convertDateTimeString(r.created_at)))]),t("td",{staticClass:"td-table-expense"},[a.insurance&&1!=r.user_id?t("p",[e._v(" "+e._s("".concat(1===a.insurance.options_money_id?"D100":"D200"," - BH").concat(a.insurance.id)))]):e._e(),a.insurance20&&1!=r.user_id?t("p",[e._v(e._s("D20 - BH".concat(a.insurance20.id)))]):e._e()]),t("td",{staticClass:"td-table-expense"},[t("el-tag",{attrs:{type:0!==r.type_purchase?"success":"danger"}},[e._v(" "+e._s(0!==r.type_purchase?e.typePurchase(r.type_purchase):"Chưa thanh toán")+" ")])],1),t("td",{staticClass:"td-table-expense"},[e._v(" "+e._s(a.supplier?a.supplier.name:"")+" ")]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(a.note))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(r.surcharge_entry_price)))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(r.surcharge_revenue))]),[t("td",{staticClass:"td-table-expense"},[e._v(e._s(a.category_name))])],t("td",{staticClass:"td-table-expense"},[e._v(e._s(r.agency_name?r.agency_name:"Khách lẻ"))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(r.quantity_guest))]),t("td",{staticClass:"td-table-expense"},e._l(r.user_passport,(function(a){return t("div",{key:a.id},[e._v(e._s(a?a.passport:""))])})),0),[0===i?t("td",{staticClass:"td-table-expense",attrs:{rowspan:0===i&&a.billOutsidePayment.length>0||0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},e._l(a.code_payment,(function(a){return t("div",{key:a.code_payment},[e._v(" "+e._s(a.code_payment)+" ")])})),0):e._e()],[0===i?t("td",{staticClass:"td-table-expense",attrs:{rowspan:0===i&&a.billOutsidePayment.length>0?a.booked.length+a.billOutsidePayment.length:0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[0===a.is_inventory?t("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleInventory(a)}}},[e._v(" Đối chiếu ")]):e._e(),0!==a.is_inventory?t("el-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"success"}},[e._v(" Đã đối chiếu")]):e._e(),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleInputPrice(a)}}},[e._v("Giá nhập phụ phí")])],1):e._e()],0===i?t("td",{staticClass:"td-table-expense",attrs:{rowspan:0===i&&a.billOutsidePayment.length>0||0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[0===a.is_purchase_supplier?t("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.comfirmTT(a)}}},[e._v("XNTT ")]):e._e(),0!==a.is_purchase_supplier?t("el-tag",{attrs:{type:"success"}},[e._v("Hoàn thành")]):e._e()],1):e._e(),[0===i?t("td",{staticClass:"td-table-expense",staticStyle:{width:"150px"},attrs:{rowspan:0===i&&a.billOutsidePayment.length>0?a.booked.length+a.billOutsidePayment.length:0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[e._v(" "+e._s(a.code_expense)+" ")]):e._e()],0===i?t("td",{staticClass:"td-table-expense",attrs:{rowspan:0===i&&a.billOutsidePayment.length>0?a.booked.length+a.billOutsidePayment.length:0===i&&0==a.billOutsidePayment.length?a.booked.length:""}},[t("el-tag",{attrs:{type:6===a.status?"success":"danger"}},[e._v(" "+e._s(6===a.status?"Đã xác nhận":"Chưa xác nhận")+" ")])],1):e._e()],2)]})),a.billOutsidePayment.length>0?[e._l(a.billOutsidePayment,(function(n){var r,i;return[t("tr",{key:n.code_booking},[t("td",{staticClass:"td-table-expense"},[e._v("Phụ phí ngoài")]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(n.code_booking))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(JSON.parse(n.product_info).product_name))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(a.booked[0].cms_admin?a.booked[0].cms_admin.name:""))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(n.real_payment)))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(n.real_payment)))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatNumber(n.original_amount)))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(e.formatDate(null===n||void 0===n?void 0:n.created_at)))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[t("el-tag",{attrs:{type:1===n.status?"success":"danger"}},[e._v(" "+e._s(e.typePurchaseBill(n.status))+" ")])],1),t("td",{staticClass:"td-table-expense"},[e._v(e._s(null===(r=JSON.parse(n.product_info))||void 0===r?void 0:r.supplier_name))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(n.note))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(null===(i=JSON.parse(n.product_info))||void 0===i?void 0:i.quantity))]),t("td",{staticClass:"td-table-expense"}),t("td",{staticClass:"td-table-expense"},[e._v(e._s(n.code_payment))]),t("td",{staticClass:"td-table-expense"},[e._v(e._s(1===+n.confirm_payment_supplier?"Xác nhận thanh toán NCC":"Chưa xác nhận thanh toán NCC"))])])]}))]:e._e()]}))],2)])])],1),t("el-row",{staticClass:"list-shop__footer"},[t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.listQuery.limit,expression:"total > listQuery.limit"}],attrs:{total:e.total,limit:e.listQuery.limit,page:e.listQuery.page},on:{"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},"update:page":function(t){return e.$set(e.listQuery,"page",t)},pagination:e.requestExpenseList}})],1),t("dialog-create-code",{attrs:{"show-dialog":e.showDialogCreate},on:{clickButtonDialog:e.handleButtonDialogCreate}}),t("dialog-input-price",{attrs:{"show-dialog":e.showPriceInput,"object-data":e.objectData},on:{clickButtonDialogInput:e.handleButtonDialogInput}})],1)])],1)},r=[],i=a("c7eb"),o=a("1da1"),c=(a("a15b"),a("d81d"),a("caad"),a("2532"),a("9911"),a("498a"),a("d3b7"),a("bcc2")),s=a("333d"),l=function(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"dialog-code-create",attrs:{title:!1===e.showPopup?"Tạo code chi":"Mã thanh toán",visible:e.showDialog,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.showDialog=t}}},[t("el-row",[t("el-col",[e.showPopup?e._e():t("el-form",[t("el-form-item",{attrs:{label:"Thời gian đánh"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date",format:"dd-MM-yyyy HH:mm:ss","default-time":["00:00:00","23:59:00"]},model:{value:e.date_select,callback:function(t){e.date_select=t},expression:"date_select"}})],1),t("el-form-item",{attrs:{label:"NCC"}},[t("el-select",{ref:"SearchSupplier",staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"Tìm kiếm NCC","remote-method":e.onSearchSupplier,loading:e.loadingSearchSupplier},on:{"hook:mounted":function(t){return e.cancelReadOnly(t,"SearchSupplier")},"visible-change":function(t){return e.cancelReadOnly(t,"SearchSupplier")}},model:{value:e.supplierModel,callback:function(t){e.supplierModel=t},expression:"supplierModel"}},e._l(e.suppliers,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("span",{staticStyle:{"font-size":"14px !important","font-weight":"550"},attrs:{contenteditable:"true"}},[e._v("Tổng tiền: "+e._s(e.formatNumber(e.bodyCreateCodePayment.amount_money))+" VNĐ")]),t("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" Check all ")])],1)]),e.loadingTable?t("div",[e._v("Đang load dữ liệu ...")]):t("div",{staticClass:"booked_list"},[t("el-checkbox-group",{staticStyle:{display:"flex","flex-wrap":"wrap"},model:{value:e.check_list,callback:function(t){e.check_list=t},expression:"check_list"}},[e._l(e.expenses,(function(a){return[t("el-checkbox",{key:a.id,staticStyle:{width:"50%"},attrs:{label:a.id,checked:""},on:{change:function(t){return e.checkBooked(t,a)}}},[e._v(e._s(a.booked[0].code_booking)+" - "+e._s(e.formatNumber(e.totalMoney(a)))+" VNĐ ")])]}))],2)],1),t("el-form-item",{staticStyle:{"text-align":"right"}},[t("el-button",{on:{click:e.handleClose}},[e._v("Hủy bỏ")]),t("el-button",{attrs:{type:"primary",loading:e.loadingSubmit},on:{click:function(t){return e.handleCreate()}}},[e._v("Lưu")])],1)],1),e.showPopup?t("el-row",{staticClass:"popup-row"},[t("el-col",[t("h3",[e._v("Đây là mã thanh toán của bạn")]),t("p",[t("span",[e._v("Code thanh toán:")]),t("span",{staticStyle:{color:"red","padding-left":"10px"}},[e._v(e._s(e.code_payment))])]),t("el-button",{on:{click:e.handleClose}},[e._v("Đóng")])],1)],1):e._e()],1)],1)],1)},u=[],d=(a("a434"),a("14d9"),a("e0cb")),h=a("d4ec"),p=a("bee2"),m=a("262e"),b=a("2caf"),f=a("6c6e"),g=a("b775"),y="https://prod-wap-wghn-beta.vcallid.com",_=function(e){Object(m["a"])(a,e);var t=Object(b["a"])(a);function a(){return Object(h["a"])(this,a),t.call(this,"expense")}return Object(p["a"])(a,[{key:"expenseList",value:function(e){return Object(g["a"])({url:"".concat(y,"/").concat(this.uri,"/search"),method:"get",params:e})}},{key:"get_list_booking_create_code",value:function(e){return Object(g["a"])({url:"".concat(y,"/").concat(this.uri,"/get_list_booking_create_code"),method:"get",params:e})}},{key:"createCodePayment",value:function(e){return Object(g["a"])({url:"".concat(y,"/").concat(this.uri,"/create-code-payment"),method:"post",data:e})}},{key:"inputPrice",value:function(e){return Object(g["a"])({url:"".concat(y,"/").concat(this.uri,"/update-booked"),method:"post",data:e})}},{key:"confirmExpense",value:function(e){return Object(g["a"])({url:"".concat(y,"/").concat(this.uri,"/update-purchase-supplier"),method:"post",data:e})}},{key:"downloadExcel",value:function(e){return Object(g["a"])({url:"/".concat(this.uri,"/export-excel?").concat(e),method:"GET"})}}]),a}(f["a"]),v=new d["a"],k=new _,C={name:"DialogCreateCode",props:{showDialog:{type:Boolean,default:!1}},data:function(){return{date_select:[new Date,new Date],loadingSearchSupplier:!1,suppliers:[],listQuery:Object.assign({}),expenses:[],supplierModel:"",loadingTable:!1,checked:!1,booked:[],ids:[],total_money:0,loadingSubmit:!1,showEditPrice:!1,showPopup:!1,code_payment:"",bodyCreateCodePayment:{list_pax_id:[],supplier_id:0,amount_money:0},checkAll:!0,check_list:[],isIndeterminate:!1}},watch:{supplierModel:function(e){e&&(this.listQuery.supplier_id=e,this.bodyCreateCodePayment.supplier_id=e,this.requestExpenseList())},date_select:function(e){var t=e[0],a=e[1];t=new Date(t).getTime(),a=new Date(a).getTime(),this.from_date=t,this.to_date=a,this.listQuery.start_date=this.from_date/1e3,this.listQuery.end_date=this.to_date/1e3}},methods:{EditPrice:function(){this.showEditPrice=!0},handleCreate:function(){var e=this;k.createCodePayment(this.bodyCreateCodePayment).then((function(t){var a=t.error_code,n=t.error_msg,r=t.data;0===a?(e.code_payment=r,e.showPopup=!0,e.supplierModel=""):e.$message.error(n)})).catch((function(t){e.loadingSubmit=!1}))},totalMoney:function(e){if(e){var t=0;return e.booked.map((function(a){var n=e["source_price_".concat(e.number_hole)]?e["source_price_".concat(e.number_hole)]:0;t+=+n+ +a.surcharge_entry_price})),e.billOutsidePayment.length>0&&e.billOutsidePayment.map((function(e){t+=+e.original_amount})),t}},checkBooked:function(e,t){if(console.log(e,t),e)this.check_list.push(t.id),this.bodyCreateCodePayment.list_pax_id.push(t.id),this.bodyCreateCodePayment.amount_money+=parseInt(this.totalMoney(t));else for(var a=0;a<this.bodyCreateCodePayment.list_pax_id.length;a++)this.bodyCreateCodePayment.list_pax_id[a]===t.id&&(this.bodyCreateCodePayment.list_pax_id.splice(a,1),this.bodyCreateCodePayment.amount_money-=parseInt(this.totalMoney(t)));this.checkAll=this.check_list.length===this.expenses.length,this.isIndeterminate=this.check_list.length===this.expenses.length},onSearchSupplier:function(e){var t=this;this.loadingSearchSupplier=!0,v.searchSupplier({keyword_supplier:e.trim()}).then((function(e){t.loadingSearchSupplier=!1;var a=e.error_code,n=e.data;0===a&&(t.suppliers=n)}))},requestExpenseList:function(){var e=this;this.loadingTable=!0,k.get_list_booking_create_code(this.listQuery).then((function(t){e.loadingTable=!1;var a=t.error_code,n=t.data;0===a&&(e.expenses=n.data,e.expenses.map((function(t){e.bodyCreateCodePayment.amount_money+=e.totalMoney(t)})),e.bodyCreateCodePayment.list_pax_id=e.expenses.map((function(e){return e.id})))}))},handleCheckAllChange:function(e){var t=this;console.log("value..........",e);var a=[];e?(this.expenses.map((function(e){a.push(e.id)})),this.expenses.map((function(e){t.bodyCreateCodePayment.amount_money+=t.totalMoney(e)})),this.bodyCreateCodePayment.list_pax_id=this.expenses.map((function(e){return e.id}))):(this.bodyCreateCodePayment.amount_money=0,this.bodyCreateCodePayment.list_pax_id=[]),this.check_list=[].concat(a),console.log("...........check_list",this.check_list),this.isIndeterminate=!1},handleClose:function(){this.showPopup=!1,this.supplierModel="",this.bodyCreateCodePayment={list_pax_id:[],supplier_id:0,amount_money:0},this.checkAll=!0,this.check_list=[],this.isIndeterminate=!1,this.expenses=[],this.$emit("clickButtonDialog",{dialog:!1,reload:!1})},cancelReadOnly:function(e,t){var a=this;this.$nextTick((function(){if(!e){var n=a.$refs[t],r=n.$el.querySelector(".el-input__inner");r.removeAttribute("readonly")}}))},formatNumber:c["k"]}},x=C,O=(a("6b8c"),a("2877")),j=Object(O["a"])(x,l,u,!1,null,"737ad85c",null),w=j.exports,S=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{visible:e.showDialog,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.showDialog=t}}},[t("table",{staticStyle:{width:"100%","text-align":"center"}},[t("thead",[t("th",{staticStyle:{width:"50px"}},[e._v("#")]),t("th",[e._v("Tên")]),t("th",[e._v("Phụ phí")]),t("th",[e._v("Giá nhập phụ phí")])]),t("tbody",e._l(e.booked,(function(a,n){return t("tr",{key:n},[t("td",{staticStyle:{width:"50px"}},[e._v(e._s(n+1))]),t("td",[e._v(e._s(a.golfer?a.golfer.fullname:a.name_out_system))]),t("td"),t("td",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.body.surcharge_entry_price[n].surcharge_entry_price,expression:"body.surcharge_entry_price[index].surcharge_entry_price"}],staticClass:"surcharge-revenue",attrs:{type:"number",placeholder:"Nhập giá phụ phí"},domProps:{value:e.body.surcharge_entry_price[n].surcharge_entry_price},on:{input:function(t){t.target.composing||e.$set(e.body.surcharge_entry_price[n],"surcharge_entry_price",t.target.value)}}})])])})),0)]),t("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[t("el-button",{on:{click:e.handleClose}},[e._v("Đóng")]),t("el-button",{attrs:{type:"primary",loading:e.loadingSubmit},on:{click:e.onsubmitInput}},[e._v("Lưu")])],1)])},D=[],P=new _,M={name:"DialogInputPrice",props:{showDialog:{type:Boolean,default:!1},objectData:{type:Object,default:function(){return{}}}},data:function(){return{booked:[],loadingSubmit:!1,body:{pax_id:"",surcharge_entry_price:[]}}},watch:{objectData:function(e){if(e){this.body.pax_id=e.id,this.booked=e.booked;var t=[];this.booked.map((function(e){console.log(e,"--surcharge_entry_price");var a={booked_id:e.id,surcharge_entry_price:e.surcharge_entry_price};t.push(a)})),this.body.surcharge_entry_price=t}}},methods:{onsubmitInput:function(){var e=this;this.loadingSubmit=!0,P.inputPrice(this.body).then((function(t){console.log("--------------------"),e.loadingSubmit=!1;var a=t.error_code,n=t.error_msg;0===a?(e.$message.success(n),e.$emit("clickButtonDialogInput",{dialog:!1,reload:!0})):e.$message.error(n)})).catch((function(t){e.loadingSubmit=!1}))},handleClose:function(){this.$emit("clickButtonDialogInput",{dialog:!1,reload:!1})}}},Y=M,T=(a("3e29"),Object(O["a"])(Y,S,D,!1,null,"c39448e0",null)),B=T.exports,N=a("5408"),I=a("5f87"),Q=a("81fe"),E=a("0419"),$=a("8975"),A=new E["a"],z=new _,R=new d["a"],H={name:"List",components:{SearchUser:Q["a"],Pagination:s["a"],DialogCreateCode:w,DialogInputPrice:B},data:function(){return{listQuery:{page:1,limit:10},loadingTable:!1,tableData:[],admins:[],suppliers:[],loadingSearchAdmin:!1,from:0,source_price:0,loadingSearchSupplier:!1,value1:"",purchaseSupplier:[{key:0,name:"Chưa thanh toán NCC"},{key:1,name:"Đã thanh toán NCC"}],purchases:[{key:0,name:"TT theo ngày"},{key:1,name:"TT theo tuần"},{key:2,name:"TT theo tháng"}],total:0,total_money:0,total_money_no_purchase:0,total_money_purchase:0,showDialogCreate:!1,showPriceInput:!1,objectData:{},loadingExportExcel:!1,billSearch:[]}},watch:{value1:function(e){if(e){console.log("val...................",e);var t=e[0],a=e[1];t=new Date(t).getTime(),a=new Date(a).getTime(),console.log("....................thoi gian",t,a),this.from_date=t,this.to_date=a,this.listQuery.page=1,this.listQuery.start_date=this.from_date/1e3,this.listQuery.end_date=this.to_date/1e3,this.requestExpenseList()}}},created:function(){console.log("admin.......................",Object(I["a"])()),this.requestExpenseList()},methods:{formatDate:c["j"],numberFormatter:$["numberFormatter"],handleDownload:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var a,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listQuery.agency_name=null!==(a=null===(n=e.agencySelect)||void 0===n?void 0:n.id)&&void 0!==a?a:"",e.loadingExportExcel=!0,r=Object.keys(e.listQuery).map((function(t){return"".concat(t,"=").concat(e.listQuery[t])})).join("&"),t.next=5,z.downloadExcel(r).then((function(t){console.log("res...............",t),e.loadingTable=!1;var a=document.createElement("a");a.href=t.data.link.includes("http")?t.data.link:"http://"+t.data.link,a.download="expense.xlsx",document.body.appendChild(a),a.click(),document.body.removeChild(a),e.loadingExportExcel=!1})).catch((function(t){e.$message.error((null===t||void 0===t?void 0:t.error_code)||"Có lỗi xảy ra")}));case 5:e.loadingExportExcel=!1;case 6:case"end":return t.stop()}}),t)})))()},onRefresh:function(){this.listQuery=Object.assign({},{page:1,limit:10}),this.requestExpenseList()},handleCreateCode:function(){this.showDialogCreate=!0},handleButtonDialogCreate:function(e){var t=e.dialog,a=e.reload;this.showDialogCreate=t,a&&this.requestExpenseList()},handleInventory:function(e){var t=this,a={pax_id:e.id,type:1};this.$confirm("Bạn có chắc muốn xác nhận đối chiếu cho teetime này?").then((function(e){z.confirmExpense(a).then((function(e){var a=e.error_code,n=e.error_msg;0===a?(t.$message.success(n),t.requestExpenseList()):t.$message.error(n)}))}))},comfirmTT:function(e){var t=this,a={pax_id:e.id,type:0};this.$confirm("Bạn có chắc muốn xác nhận thanh toán cho teetime này?").then((function(e){z.confirmExpense(a).then((function(e){var a=e.error_code,n=e.error_msg;0===a?(t.$message.success(n),t.requestExpenseList()):t.$message.error(n)}))}))},handleInputPrice:function(e){this.objectData=e,this.showPriceInput=!0},handleButtonDialogInput:function(e){var t=e.dialog,a=e.reload;this.showPriceInput=t,a&&this.requestExpenseList()},sourcePrice:function(e){return 9===e.number_hole?e.source_price_9:18===e.number_hole?e.source_price_18:27===e.number_hole?e.source_price_27:e.source_price_18},onSearchSupplier:function(e){var t=this;this.loadingSearchSupplier=!0,R.searchSupplier({keyword_supplier:e.trim()}).then((function(e){t.loadingSearchSupplier=!1;var a=e.error_code,n=e.data;0===a&&(t.suppliers=n)}))},onSearchAdmin:function(e){var t=this;this.loadingSearchAdmin=!0,R.searchAdmin({keyword_admin:e.trim()}).then((function(e){t.loadingSearchAdmin=!1;var a=e.error_code,n=e.data;0===a&&(t.admins=n)}))},requestExpenseList:function(){var e=this;this.loadingTable=!0,console.log(this.listQuery),console.log("listQuery...........................",this.listQuery),z.expenseList(this.listQuery).then((function(t){e.loadingTable=!1;var a=t.error_code,n=t.data;0===a&&(e.tableData=n.data,e.total=n.total,e.total_money=n.total_money,e.total_money_purchase=n.total_money_purchase,e.total_money_no_purchase=n.total_money_no_purchase)}))},changeUser:function(e){console.log("val",e),this.listQuery.user_id=e.value},onSearchBill:function(e){var t=this;this.loadingSearchUser=!0,this.billSearch=[],A.listBill({limit:10,page:1,code_key:e}).then((function(e){var a;(console.log("res.............................bookingPaxResource",e),0===e.error_code)?(t.billSearch=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(a=a.bill)||void 0===a?void 0:a.bill_list.map((function(e){return{value:e.general_bill_id,label:e.code}})),console.log("this.bills.............................",t.billSearch)):t.$message.error(e.error_msg)})).finally((function(){t.loadingSearchUser=!1}))},cancelReadOnly:function(e,t){var a=this;this.$nextTick((function(){if(!e){var n=a.$refs[t],r=n.$el.querySelector(".el-input__inner");r.removeAttribute("readonly")}}))},formatNumber:c["k"],convertDateTimeString:c["e"],typePurchase:N["H"],typePurchaseBill:N["I"]}},G=H,q=(a("12e4"),Object(O["a"])(G,n,r,!1,null,"11a27d21",null));t["default"]=q.exports},"6b8c":function(e,t,a){"use strict";a("ff3a")},"6c6e":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("d4ec"),r=a("bee2"),i=a("b775"),o=function(){function e(t){Object(n["a"])(this,e),this.uri=t}return Object(r["a"])(e,[{key:"list",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},7699:function(e,t,a){},"81fe":function(e,t,a){"use strict";var n=function(){var e=this,t=e._self._c;return t("section",[t("el-select",{ref:"searchGolfer",staticClass:"w-100",attrs:{filterable:"",remote:"",size:e.size,clearable:"","reserve-keyword":"",placeholder:"Tìm kiếm mã VID","remote-method":e.onSearchGolfer,loading:e.loadingSearchUser},on:{change:e.handleSelectionChange,"hook:mounted":function(t){return e.cancalReadOnly(t,"searchGolfer")},"visible-change":function(t){return e.cancalReadOnly(t,"searchGolfer")}},model:{value:e.golferModel,callback:function(t){e.golferModel=t},expression:"golferModel"}},e._l(e.users,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1)},r=[],i=a("2909"),o=(a("99af"),a("d81d"),a("8ce5")),c=a("61f7"),s=new o["a"],l={name:"SearchUser",props:{clearData:{type:Boolean,default:!1},object:{type:Object,default:function(){return{}}},size:{type:String,default:"medium"},dataModel:{type:Object,default:function(){return{}}},dataDefault:{type:Array,default:function(){return[]}}},data:function(){return{golferModel:{},users:[],loadingSearchUser:!1}},watch:{clearData:function(e){console.log("val.....................clear                vào đây",e),e&&(this.golferModel={},this.users=[])},dataModel:function(e){console.log("val.....................dataModel",Object(c["b"])(e),e),Object(c["b"])(e)?(this.golferModel={},this.users=[]):(console.log("tại sao lại vào đây..............................",!Object(c["b"])(e)),this.golferModel={value:e._id,label:"VID".concat(e._id," - ").concat(e.fullname)},this.users=[this.golferModel],console.log("this.golferModel",this.golferModel))},dataDefault:function(e){Object(c["b"])(e)||(this.users=Object(i["a"])(e),console.log("this.users........",this.users))}},methods:{cancalReadOnly:function(e,t){var a=this;this.$nextTick((function(){if(!e){var n=a.$refs[t],r=n.$el.querySelector(".el-input__inner");r.removeAttribute("readonly")}}))},onSearchGolfer:function(e){var t=this;s.searchGolfer({keyword:e}).then((function(e){var a=e.data;0===e.error_code?(a.length>0?t.users=a.map((function(e){var t="VID".concat(e.id," - ").concat(e.fullname);return{value:e.id,label:t}})):t.users=[],t.loadingSearchUser=!1):t.$message.error(e.error_msg)}))},handleSelectionChange:function(e){console.log(this.golferModel),this.$emit("selection-changed-user",this.golferModel)}}},u=l,d=a("2877"),h=Object(d["a"])(u,n,r,!1,null,null,null);t["a"]=h.exports},"857a":function(e,t,a){"use strict";var n=a("e330"),r=a("1d80"),i=a("577e"),o=/"/g,c=n("".replace);e.exports=function(e,t,a,n){var s=i(r(e)),l="<"+t;return""!==a&&(l+=" "+a+'="'+c(i(n),o,"&quot;")+'"'),l+">"+s+"</"+t+">"}},"8ce5":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("d4ec"),r=a("bee2"),i=a("262e"),o=a("2caf"),c=a("6c6e"),s=a("b775"),l="https://prod-wap-wghn-beta.vcallid.com",u=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),t.call(this,"golfer")}return Object(r["a"])(a,[{key:"searchGolfer",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/search"),method:"get",params:e})}},{key:"getInGolfer",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/get-in-golfer"),method:"post",data:e})}},{key:"checkGolferExists",value:function(e){return Object(s["a"])({url:l+"/".concat(this.uri,"/check-golfer-exists"),method:"post",data:e})}}]),a}(c["a"])},9911:function(e,t,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("link")},{link:function(e){return r(this,"a","href",e)}})},af03:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},bc6b:function(e,t,a){},bcc2:function(e,t,a){"use strict";a.d(t,"k",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"l",(function(){return h})),a.d(t,"h",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return b})),a.d(t,"o",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"m",(function(){return y})),a.d(t,"n",(function(){return _}));a("2af1"),a("b680"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("99af"),a("fb6a"),a("a15b"),a("d81d"),a("14d9");var n=a("c1df"),r=a.n(n);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=(e/1).toFixed().replace(".",",");return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function a(e){return e<10?"0"+e:e}var n=new Date(e);return"DD/MM/YYYY"===t?[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("/"):"YYYY-MM-DD"===t?[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-"):void 0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function a(e){return e<10?"0"+e:e}var n=new Date(e),r=[a(n.getHours()),a(n.getMinutes())].join(":"),i="";return"DD/MM/YYYY"===t?i=[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(i=[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-")),"".concat(r," ").concat(i)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function a(e){return e<10?"0"+e:e}var n=new Date(e),r=[a(n.getHours()),a(n.getMinutes()),a(n.getSeconds())].join(":"),i="";return"DD/MM/YYYY"===t?i=[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-")),"".concat(r," ").concat(i)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss DD-MM-YYYY";function a(e){return e<10?"0"+e:e}var n=new Date(e),r=[a(n.getHours()),a(n.getMinutes()),a(n.getSeconds())].join(":"),i="";return"HH:mm:ss DD-MM-YYYY"===t?i=[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-")),"".concat(r," ").concat(i)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function n(e){return e<10?"0"+e:e}var r=new Date(e),i=a?r.getUTCHours():r.getHours(),o=a?r.getUTCMinutes():r.getMinutes(),c=[n(i),n(o),n(r.getSeconds())].join(":"),s="";return"DD/MM/YYYY"===t?s=[n(r.getDate()),n(r.getMonth()+1),r.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(s=[n(r.getFullYear()),n(r.getMonth()+1),n(r.getDate())].join("-")),"".concat(c," ").concat(s)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";function a(e){return e<10?"0"+e:e}var n=new Date(e),r="";return"DD/MM/YYYY"===t?r=[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(r=[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-")),"".concat(r)}function h(e){if(null==e)return null;var t=(e/1).toFixed().replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(e)return r()(e).format(t)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm DD/MM/YYYY";return r()(e).format(t)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm:ss";if(e)return r()(e).format(t)}function f(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\Đ]/g,"D");return t.toUpperCase()}function g(e){switch(e){case 1:return"Tạo flight";case 2:return"Đã xác nhận";case 4:return"Hủy đúng hạn";case 5:return"Hủy sai hạn";case 6:return"Xác nhận booking";default:return"Đã hoàn thành"}}function y(e){switch(e){case 2:return"success";case 3:return"success";case 4:return"warning";case 5:return"danger";default:return"info"}}function _(e){var t=[];return e.length>0&&e.map((function(e){var a=e.id_display?e.id_display:e.id,n="vID".concat(a," - ").concat(e.fullname," (").concat(e.nickname,")"),r={value:e.id,label:n};t.push(r)})),t}},bee2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("a38e");function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Object(n["a"])(r.key),r)}}function i(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}},d4ec:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d9e2");function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},e0cb:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("d4ec"),r=a("bee2"),i=a("262e"),o=a("2caf"),c=(a("99af"),a("6c6e")),s=a("b775"),l="https://prod-wap-wghn-beta.vcallid.com",u=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),t.call(this,"search")}return Object(r["a"])(a,[{key:"searchFacility",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-facility"),method:"post",data:e})}},{key:"searchAdmin",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-admin"),method:"post",data:e})}},{key:"searchAgency",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-agency"),method:"post",data:e})}},{key:"getAllAgency",value:function(e){return Object(s["a"])({url:l+"/agency/search",method:"get",params:e})}},{key:"searchSupplier",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-supplier"),method:"post",data:e})}},{key:"searchBooking",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-code-booking"),method:"post",data:e})}},{key:"searchByBooking",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-booked-by-code-booking"),method:"post",data:e})}},{key:"searchUserByBooked",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-user-by-booked"),method:"post",data:e})}},{key:"searchGolfer",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/search-golfer"),method:"post",data:e})}},{key:"listSupplier",value:function(e){return Object(s["a"])({url:"".concat(l,"/").concat(this.uri,"/list-supplier"),method:"get",params:e})}}]),a}(c["a"])},eac1:function(e,t,a){},f748:function(e,t,a){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},f8c9:function(e,t,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("d44e");n({global:!0},{Reflect:{}}),i(r.Reflect,"Reflect",!0)},ff3a:function(e,t,a){}}]);