(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c4317d96"],{"0538":function(e,t,n){"use strict";var r=n("e330"),a=n("59ed"),i=n("861d"),o=n("1a2d"),c=n("f36a"),u=n("40d5"),s=Function,l=r([].concat),d=r([].join),f={},p=function(e,t,n){if(!o(f,t)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";f[t]=s("C,a","return new C("+d(r,",")+")")}return f[t](e,n)};e.exports=u?s.bind:function(e){var t=a(this),n=t.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return i(n)&&(o.prototype=n),o}},"0df4":function(e,t,n){"use strict";n("eac1")},"262e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d9e2"),n("131a"),n("1f68");function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4ae1"),n("d3b7"),n("f8c9"),n("131a"),n("3410"),n("1f68");function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("d9e2");var i=n("53ca");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function u(e){var t=a();return function(){var n,a=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return c(this,n)}}},"333d":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},a=[];n("a9e3");Math.easeInOutQuad=function(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,n){var r=c(),a=e-r,u=20,s=0;t="undefined"===typeof t?500:t;var l=function e(){s+=u;var c=Math.easeInOutQuad(s,r,a,t);o(c),s<t?i(e):n&&"function"===typeof n&&n()};l()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},l=s,d=(n("0df4"),n("2877")),f=Object(d["a"])(l,r,a,!1,null,"2f2d1216",null);t["a"]=f.exports},4181:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"tag-page"}},[t("div",{staticStyle:{display:"flex","margin-top":"10px"}},[t("p",{staticStyle:{"margin-right":"15px"},on:{click:e.onBack}},[t("i",{staticClass:"el-icon-back"})]),t("h3",{staticStyle:{"font-size":"20px",color:"black"}},[e._v("Danh sách tài khoản")])]),t("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t("div",{staticStyle:{display:"flex","justify-content":"left","align-items":"center","margin-right":"10px"}},[t("el-input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{type:"text",rows:2,placeholder:"Nhập để tìm kiếm"},model:{value:e.searchUser,callback:function(t){e.searchUser=t},expression:"searchUser"}},[t("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),t("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"Tìm kiếm theo"},model:{value:e.searchFilter,callback:function(t){e.searchFilter=t},expression:"searchFilter"}},e._l(e.searchOption,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearchUser}},[e._v("Tìm kiếm")])],1),t("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"Trạng thái"},model:{value:e.stateFilter,callback:function(t){e.stateFilter=t},expression:"stateFilter"}},e._l(e.stateOption,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-refresh",loading:e.loading},on:{click:e.onRefreshPress}},[e._v("Làm mới")])],1),t("div",{staticStyle:{display:"flex","margin-top":"10px"},attrs:{id:"user-table-id"}},[t("div",{staticStyle:{width:"100%"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,align:"center",border:""}},[t("el-table-column",{attrs:{prop:"id",label:"Id",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"Tên tài khoản",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-link",{staticStyle:{color:"#4CA1D5"},attrs:{underline:!1},on:{click:function(t){return e.onSelectUser(n.row)}}},[e._v(e._s(n.row.name))])]}}])}),t("el-table-column",{attrs:{prop:"phone",label:"Số điện thoại",align:"center",width:"150px"}}),t("el-table-column",{attrs:{prop:"email",label:"Email",align:"center"}}),t("el-table-column",{attrs:{prop:"acount_type_name",label:"Loại tài khoản",align:"center"}}),t("el-table-column",{attrs:{label:"Trạng thái",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(t){return e.onChangeActiveAccount(n.row)}},model:{value:n.row.active,callback:function(t){e.$set(n.row,"active",t)},expression:"scope.row.active"}})]}}])}),t("el-table-column",{attrs:{prop:"created",label:"Ngày tạo",align:"center"}})],1),t("el-row",[t("pagination",{attrs:{total:e.total,limit:e.listQuery.limit,page:e.listQuery.page},on:{"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},"update:page":function(t){return e.$set(e.listQuery,"page",t)},pagination:e.getAllUser}})],1)],1)])])},a=[],i=(n("d3b7"),n("159b"),n("14d9"),n("333d")),o=n("a4be"),c=n("c1df"),u=n.n(c),s=new o["a"],l={name:"PermissionPage",components:{Pagination:i["a"]},data:function(){return{searchUser:"",tableData:[],loading:!1,total:0,listQuery:{page:1,limit:10},groupPermission:null,permissionsOption:[],accountSelect:{},tablePermission:[],showGroupPermission:!1,formRequest:{},loadingSubmit:!1,subPermissionList:[],stateFilter:0,stateOption:[{id:0,name:"Theo trạng thái(Tất cả)"},{id:1,name:"Tài khoản đã off"},{id:2,name:"Đang hoạt động"}],searchFilter:0,searchOption:[{id:0,name:"Tìm theo tên tài khoản"},{id:1,name:"Tìm theo số điện thoại"},{id:2,name:"Tìm theo email"}]}},watch:{stateFilter:function(e){this.listQuery.active=e,this.getAllUser()}},mounted:function(){this.getAllUser()},methods:{onBack:function(){window.history.back()},moment:u.a,onRefreshPress:function(){this.listQuery.active=0,this.listQuery.q="",this.searchFilter=0,this.stateFilter=0,this.searchUser="",this.getAllUser()},getAllUser:function(){var e=this;this.loading=!0,s.listAccount(this.listQuery).then((function(t){1===e.listQuery.page&&(e.total=t.total),e.tableData=t.data,e.tableData.forEach((function(e,t){e.created=e.createdAt?u()(e.createdAt).format("HH:mm DD/MM/YYYY"):e.updatedAt?u()(e.updatedAt).format("Hh:mm DD/MM/YYYY"):""})),e.loading=!1}))},onSelectUser:function(e){"super_admin"!==e.prefix_domain?this.$router.push({name:"Permission Info",params:e}):this.$message.error("Không thể cấu hình quyền cho tài khoản super admin")},handleSearchUser:function(){console.log("searchUser",this.searchUser),this.listQuery.q=this.searchUser,this.listQuery.searchFilter=this.searchFilter,this.getAllUser()},onChangeActiveAccount:function(e){var t=this;console.log("row",e),s.changeActiveAccount({id:e.id,active:e.active}).then((function(e){console.log(e,"update state"),0===e.error?t.$message.success(e.msg):t.$message.error(e.msg)})).catch((function(e){console.log(e),t.$message.error("Cập nhật trạng thái thất bại")}))}}},d=l,f=(n("caf9"),n("2877")),p=Object(f["a"])(d,r,a,!1,null,"d045d2f0",null);t["default"]=p.exports},"4ae1":function(e,t,n){"use strict";var r=n("23e7"),a=n("d066"),i=n("2ba4"),o=n("0538"),c=n("5087"),u=n("825a"),s=n("861d"),l=n("7c73"),d=n("d039"),f=a("Reflect","construct"),p=Object.prototype,h=[].push,m=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),g=!d((function(){f((function(){}))})),b=m||g;r({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){c(e),u(t);var n=arguments.length<3?e:c(arguments[2]);if(g&&!m)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return i(h,r,t),new(i(o,e,r))}var a=n.prototype,d=l(s(a)?a:p),b=i(e,d,t);return s(b)?b:d}})},"5db2":function(e,t,n){},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=n("b775"),o=function(){function e(t){Object(r["a"])(this,e),this.uri=t}return Object(a["a"])(e,[{key:"list",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},a27e:function(e,t,n){"use strict";var r=n("c7eb"),a=n("1da1"),i=(n("d3b7"),n("bc3a")),o=n.n(i),c=n("5c96"),u=n("4360"),s=n("5f87"),l="https://prod-wap-wghn-beta.vcallid.com",d=o.a.create({baseURL:l,headers:{Authorization:Object(s["f"])(),auththor:Object(s["d"])(),"X-Token":Object(s["d"])(),"Access-Control-Allow-Origin":"*"},timeout:18e4});d.interceptors.request.use((function(e){e.headers.Authorization=Object(s["f"])(),e.headers["X-Token"]=Object(s["d"])();var t="eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaWF0IjoxNjc4MzMzNDY4fQ.d5WWQAGWF_TCPkvWa0ieclauQAlLierkNKGDCDfbDk5Cd-X98bLV7usneU2jXEu_cqjbJFerDRCky255aLElQLpxHmn_66tcgbTZqa5GRumTDqO4JOmgWd5vE0zRPx3xdfFPG0fILPEAA2_5bIGc4Mzd_FHMr9hqTKOn4TKxgBsCW0z9KNfO-2xevEP_gFi7xauUkdG5KUbG3UAr4sEr1s9Kfhz7H5F_lyIR99TfqV-45E4x4Av0tao2nxt5Nc16z201zjpd9OaHibpIGI1pcCkwORYQpH5pqoanO9alsYkNwyEPZbMCfenY95pD16GTswQwNlCGVmGHnSkkXF1SkBV4_rWt-J6fX1VGjq61nqr6yGm_JXvK3R_DMUN5GIZ_xC4BE6WOZQcF1SseMJalbBJKdFlRz0DpW4rsblr5Ge7KVI4ugPQFRV5PaEL6y_wx65-K8DyFYWwbFVG_YZJqzt7mVgSVZftx1yTaSYoUoAeD8FJ-zVPupv93ZM3y7Q3ybwvwZBj6KI-R9VuXlsLFWAqt7bWcUMXExhDeENGWMbgwF3YdJzG947_KzSkRsEsXK7ZOUKp7ihE3wLxQIueIyITQfmgvuG-AvtDqiffFfjbTP5e8DOLvloP2keIS1v252nZyr3i9pEBqm10KEmCx0krhQHjz5sdJStIenVtKospeB8tBjSbyCW5t0-RRo8vQOg40Jn-ySKnnBGW_jYMTy3hadbAxAQc4IprphQmvuFuVaO4YK4wNB_dEtbzAYSLpfm9vTk9eX0f95tleguH6QjEG8siA4znsMUf2SLdQNKcTniOEHp5hGcKV0gRX63zIC7X9dClOINwg3wYh6ecyXg";return e.headers.token=t,u["a"].getters.token,e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use(function(){var e=Object(a["a"])(Object(r["a"])().mark((function e(t){var n,a,i,u;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.data,0===n.error_code){e.next=26;break}if(console.log(n.error_code),403!==n.error_code){e.next=6;break}return c["Message"].error(n.error_msg||"Có lỗi xảy ra vui lòng thử lại sau"),e.abrupt("return");case 6:if(498!==n.error_code){e.next=9;break}return f(),e.abrupt("return");case 9:if(401!==n.error_code){e.next=23;break}return a=Object(s["d"])(),e.next=13,d.post("/admin/token",{refresh_token:a});case 13:if(i=e.sent,0!==i.error_code){e.next=22;break}return u=t.config,u._retry=!0,o.a.defaults.headers.common["Authorization"]="Bearer "+i.data.token,Object(s["q"])(i.data.token),e.abrupt("return",d(u));case 22:f();case 23:return e.abrupt("return",n);case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return c["Message"].error(e.message||"Có lỗi xảy ra vui lòng thử lại sau"),Promise.reject(e)}));var f=function(){c["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){return u["a"].dispatch("user/resetToken").then((function(){return location.reload()}))}))};t["a"]=d},a4be:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),c=n("6c6e"),u=n("a27e"),s="https://shop.vcallid.com/api/public",l=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this,"")}return Object(a["a"])(n,[{key:"listAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1,limit:10};return Object(u["a"])({url:s+"/permission/list_account_cms",method:"get",params:e})}},{key:"listPermissionOfAccount",value:function(e){return Object(u["a"])({url:s+"/permission/list_menu",method:"get",params:e})}},{key:"listMenuForAdd",value:function(e){return Object(u["a"])({url:s+"/permission/list_menu_for_add",method:"get",params:e})}},{key:"addMenuToAccount",value:function(e){return Object(u["a"])({url:s+"/permission/add_menu_to_account",method:"post",data:e})}},{key:"changeActiveAccount",value:function(e){return Object(u["a"])({url:s+"/permission/change_active",method:"post",data:e})}},{key:"changeActiveMenu",value:function(e){return Object(u["a"])({url:s+"/permission/change_active_menu",method:"post",data:e})}},{key:"updateSubPermission",value:function(e){return Object(u["a"])({url:s+"/permission/update_permission_menu",method:"post",data:e})}}]),n}(c["a"])},bee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a38e");function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Object(r["a"])(a.key),a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},caf9:function(e,t,n){"use strict";n("5db2")},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d9e2");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},eac1:function(e,t,n){},f8c9:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("d44e");r({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)}}]);