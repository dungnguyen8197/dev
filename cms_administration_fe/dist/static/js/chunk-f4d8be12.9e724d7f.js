(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4d8be12"],{"57a6":function(t,e,i){"use strict";i("f9a0")},"8ff5":function(t,e,i){"use strict";i.r(e);i("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"warehouse-info"}},[e("el-row",{staticClass:"list-shop__header"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",{staticStyle:{display:"flex"}},[e("p",{staticStyle:{"margin-right":"15px"},on:{click:t.onBack}},[e("i",{staticClass:"el-icon-back"})]),e("h3",{staticStyle:{color:"#3c3d40","font-size":"20px"}},[t._v(" Thông tin xuất nhập hàng ")])])])]),e("el-row",{staticStyle:{"border-radius":"10px","border-width":"1px","background-color":"#d9d9d9","min-height":"150px",height:"auto","padding-left":"10px","padding-right":"10px","padding-top":"10px","padding-bottom":"10px"}},[e("div",[e("el-col",{staticStyle:{"border-right":"1px solid #8E8E8E"},attrs:{span:8,xs:24}},[e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center",padding:"20px"}},[e("div",[e("el-image",{staticStyle:{width:"130px",height:"147px",border:"1px solid #3c3d40"},attrs:{src:t.infostatistics.image}})],1),e("div",{staticStyle:{"padding-left":"80px"}},[e("div",[e("label",{staticStyle:{"margin-bottom":"5px",display:"block"},attrs:{for:"idSupplier"}},[e("span",{staticStyle:{color:"#000","font-weight":"normal"}},[t._v("Mã sản phẩm")])]),e("el-input",{staticClass:"custom-input",attrs:{id:"idSupplier",placeholder:"Please input",readonly:""},model:{value:t.infostatistics.id,callback:function(e){t.$set(t.infostatistics,"id",e)},expression:"infostatistics.id"}})],1),e("div",{staticStyle:{"padding-top":"20px"}},[e("label",{staticStyle:{"margin-bottom":"5px",display:"block"},attrs:{for:"nameSupplier"}},[e("span",{staticStyle:{color:"#000","font-weight":"normal"}},[t._v("Tên sản phẩm")])]),e("el-input",{staticClass:"custom-input",attrs:{id:"nameSupplier",placeholder:"Please input",readonly:""},model:{value:t.infostatistics.name,callback:function(e){t.$set(t.infostatistics,"name",e)},expression:"infostatistics.name"}})],1)])]),e("div",[e("label",{staticStyle:{"margin-left":"25px","margin-top":"8px",display:"block"},attrs:{for:"nameSupplier"}},[e("span",{staticStyle:{color:"#000","font-weight":"normal"}},[t._v("ẢNH SẢN PHẨM")])])])]),e("el-col",{attrs:{span:16,xs:24}},[e("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center",height:"150px","justify-content":"space-around"}},[e("div",[e("h4",{staticStyle:{"text-align":"center"}},[t._v("Số lượng trong kho")]),e("h4",{staticClass:"h4"},[t._v(t._s(t.infostatistics.total_inventory))])]),e("div",[e("h4",{staticStyle:{"text-align":"center"}},[t._v("Tổng số lượng đã nhập")]),e("h4",{staticClass:"h4"},[t._v(t._s(t.infostatistics.total_number_import))])]),e("div",[e("h4",{staticStyle:{"text-align":"center"}},[t._v("Tổng số lượng đã xuất")]),e("h4",{staticClass:"h4"},[t._v(t._s(t.infostatistics.total_number_export))])])])])],1)]),e("div",{staticStyle:{"border-bottom":"2px solid #E3E3E3","padding-top":"30px"}}),e("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap","margin-top":"40px","margin-bottom":"20px"}},[e("div",[e("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",rows:2,placeholder:"Nhập để tìm kiếm"},model:{value:t.listQuery.q,callback:function(e){t.$set(t.listQuery,"q",e)},expression:"listQuery.q"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"Tìm kiếm"},model:{value:t.filterSearch,callback:function(e){t.filterSearch=e},expression:"filterSearch"}},t._l(t.searchOption,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearch}},[t._v("Tìm kiếm")])],1),e("div",{staticStyle:{display:"flex"}},[e("el-date-picker",{staticStyle:{width:"300px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"Đến","start-placeholder":"Ngày bắt đầu","end-placeholder":"Ngày kết thúc"},on:{change:t.handleChangeDateRange},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),e("el-select",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{placeholder:"Nhà cung cấp"},on:{change:t.onSelectShop},model:{value:t.listQuery.shop_id,callback:function(e){t.$set(t.listQuery,"shop_id",e)},expression:"listQuery.shop_id"}},t._l(t.optionShop,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{loading:t.loadingHome,icon:"el-icon-refresh"},on:{click:t.resetFilter}},[t._v(t._s("Refresh"))])],1)]),e("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"Nhập kho",name:"first"}}),e("el-tab-pane",{attrs:{label:"Xuất kho",name:"second"}}),e("el-row",{staticClass:"list-product__data"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{label:"first"===t.activeName?"Ngày nhập":"Ngày xuất",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((t.activeName,e.row.import_time))+" ")]}}])}),e("el-table-column",{attrs:{label:"first"===t.activeName?"Mã phiếu nhập":"Mã phiếu xuất",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s((t.activeName,e.row.id))+" ")]}}])}),e("el-table-column",{attrs:{label:"first"===t.activeName?"Tên phiếu nhập":"ID bill",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s("first"===t.activeName?e.row.name:e.row.delivery_id?"DL"+e.row.delivery_id:"")+" ")]}}])}),e("el-table-column",{attrs:{label:"first"===t.activeName?"Mã hàng NCC":"Tên phiếu xuất",align:"center",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s("first"===t.activeName?t.infostatistics.shopIdCode:e.row.name)+" ")]}}])}),e("el-table-column",{attrs:{label:"Thuộc tính 1",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.param_first)+" ")]}}])}),e("el-table-column",{attrs:{label:"Thuộc tính 2",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.param_second))]}}])}),"first"===t.activeName?e("el-table-column",{attrs:{label:"Nhà cung cấp",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.shop_name?e.row.shop_name:""))]}}],null,!1,2749472056)}):t._e(),e("el-table-column",{attrs:{label:"Số lượng",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.origin_number))]}}])}),e("el-table-column",{attrs:{label:"Đơn giá",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatNumber(e.row.cost))+"đ")]}}])}),e("el-table-column",{attrs:{label:"Thành tiền",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatNumber(e.row.price))+"đ")]}}])}),e("el-table-column",{attrs:{label:"first"===t.activeName?"Người nhập":"Người xuất",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i,a;return[t._v(" "+t._s("first"===t.activeName?null===(i=e.row)||void 0===i||null===(i=i.account)||void 0===i?void 0:i.name:null===(a=e.row)||void 0===a||null===(a=a.account)||void 0===a?void 0:a.name)+" ")]}}])})],1)],1),e("el-row",{staticClass:"list-shop__footer"},[e("pagination",{attrs:{total:t.total,limit:t.listQuery.limit,page:t.listQuery.page},on:{"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},"update:page":function(e){return t.$set(t.listQuery,"page",e)},pagination:t.getListWareHouseProduct}})],1)],1)],1)},s=[],l=i("5530"),n=(i("d3b7"),i("d81d"),i("d9e2"),i("333d")),o=i("8c54"),r=i("bcc2"),c=new o["a"],u={components:{Pagination:n["a"]},data:function(){return{f:"",dateRange:"",listQuery:{page:1,limit:10,q:"",type:0},filterSearch:1,searchOption:[{id:1,name:"Tìm theo mã phiếu"},{id:2,name:"Tìm theo tên phiếu"}],loading:!1,tableData:[],total:0,showDialogAddReceivedNote:!1,loadingHome:!1,shopIdCode:null,idSupplier:"",nameSupplier:"",options:[{value:"Option1",label:"Option1"},{value:"Option2",label:"Option2"}],value:"",activeName:"first",loadingTable:!1,infostatistics:{total_inventory:0,total_number_import:0,total_number_export:0,name:"",image:"",id:null,shopIdCode:null},optionShop:[]}},created:function(){this.infostatistics.id=this.$route.params.data,console.log(this.infostatistics.id,"this.infostatistics.id")},mounted:function(){this.listAllShop(),this.getListWareHouseProduct(),this.getListWareHouseStatistics(),console.log(this.infostatistics.id=this.$route.params.data,"this.infostatistics.id")},methods:{onBack:function(){window.history.back()},formatNumber:r["k"],handleTabClick:function(t){this.listQuery.type="first"===t.name?0:1,this.getListWareHouseProduct()},getListWareHouseProduct:function(){var t=this;this.loadingTable=!0;var e={product_id:this.infostatistics.id,type:this.listQuery.type,page:this.listQuery.page,limit:this.listQuery.limit,type_search:this.listQuery.type_search,q:this.listQuery.q,shop_id:this.listQuery.shop_id,date_from:this.listQuery.date_from,date_to:this.listQuery.date_to};c.detail_warehouse_list_product(e).then((function(e){0===e.error?(1===t.listQuery.page&&(t.total=e.total),t.tableData=e.data,console.log(t.tableData,"11111111111111111111111")):t.tableData=[]})).catch((function(e){t.loadingTable=!1,t.$message.error("Có lỗi xảy ra : ".concat(e))})).finally((function(){t.loadingTable=!1}))},getListWareHouseStatistics:function(){var t=this,e={product_id:this.infostatistics.id};c.detail_warehouse_product_statistical(e).then((function(e){0===e.error?(console.log(e,"hihihihihih"),t.infostatistics=Object(l["a"])(Object(l["a"])({},t.infostatistics),{},{total_inventory:e.data.total_inventory,total_number_import:e.data.total_number_import,total_number_export:e.data.total_number_export,name:e.data.name,image:e.data.thumb,id:e.data.id,shopIdCode:e.data.product_code_shop})):t.infostatistics={}})).catch((function(e){t.$message.error("Có lỗi xảy ra : ".concat(e))}))},onSearch:function(){this.listQuery.page=1,this.listQuery.type_search=this.filterSearch,this.getListWareHouseProduct()},onSelectShop:function(){this.listQuery.page=1,this.getListWareHouseProduct()},handleChangeDateRange:function(t){var e=new Date(t[0]),i=new Date(t[1]);this.listQuery.page=1,this.listQuery.date_from=e.getTime(),this.listQuery.date_to=i.getTime(),this.getListWareHouseProduct()},resetFilter:function(){this.dateRange="",this.searchString="",this.listQuery.page=1,this.listQuery.date_from="",this.listQuery.date_to="",this.listQuery.shop_id="",this.filterSearch=2,this.listQuery.q="",this.listQuery.type_search=2,this.getListWareHouseProduct()},listAllShop:function(){var t=this;c.list_shop_all().then((function(e){var i=e.error,a=e.list;if(0!==i)throw new Error("Không lấy được danh sách cửa hàng");t.optionShop=a.map((function(t){return{value:t.id,label:t.name}}))})).catch((function(e){console.log("..........listShopAll ",e),t.$message.error(e.message)}))}}},d=u,p=(i("57a6"),i("2877")),h=Object(p["a"])(d,a,s,!1,null,"dfd92c5a",null);e["default"]=h.exports},f9a0:function(t,e,i){}}]);