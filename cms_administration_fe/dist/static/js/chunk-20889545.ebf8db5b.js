(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20889545"],{"0538":function(e,t,n){"use strict";var o=n("e330"),a=n("59ed"),i=n("861d"),r=n("1a2d"),l=n("f36a"),s=n("40d5"),c=Function,u=o([].concat),f=o([].join),d={},g=function(e,t,n){if(!r(d,t)){for(var o=[],a=0;a<t;a++)o[a]="a["+a+"]";d[t]=c("C,a","return new C("+f(o,",")+")")}return d[t](e,n)};e.exports=s?c.bind:function(e){var t=a(this),n=t.prototype,o=l(arguments,1),r=function(){var n=u(o,l(arguments));return this instanceof r?g(t,n.length,n):t.apply(e,n)};return i(n)&&(r.prototype=n),r}},"262e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d9e2"),n("131a"),n("1f68");function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("4ae1"),n("d3b7"),n("f8c9"),n("131a"),n("3410"),n("1f68");function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("d9e2");var i=n("53ca");function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function s(e){var t=a();return function(){var n,a=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return l(this,n)}}},"4ae1":function(e,t,n){"use strict";var o=n("23e7"),a=n("d066"),i=n("2ba4"),r=n("0538"),l=n("5087"),s=n("825a"),c=n("861d"),u=n("7c73"),f=n("d039"),d=a("Reflect","construct"),g=Object.prototype,p=[].push,b=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!f((function(){d((function(){}))})),h=b||m;o({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){l(e),s(t);var n=arguments.length<3?e:l(arguments[2]);if(m&&!b)return d(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return i(p,o,t),new(i(r,e,o))}var a=n.prototype,f=u(c(a)?a:g),h=i(e,f,t);return c(h)?h:f}})},"525d":function(e,t,n){"use strict";n.r(t);n("b0c0");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-10"},[t("el-row",{staticClass:"mb-10"},[t("el-col",{attrs:{span:12}},[t("h4",[e._v("DS ORDER GIẢI THƯỞNG NGOÀI HỆ THỐNG NHÉ")]),t("el-button",{attrs:{round:"",icon:"el-icon-refresh",size:"mini"},on:{click:e.onGetList}},[e._v("Tải lại")])],1)],1),t("el-row",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.dataTable,border:""}},[t("el-table-column",{attrs:{type:"index",label:"STT",index:e.handleIndexMethod,width:"50",align:"center"}}),t("el-table-column",{attrs:{prop:"id",label:"Mã BH",align:"center"}}),t("el-table-column",{attrs:{prop:"agent_id",label:"Đại lý",align:"center"}}),t("el-table-column",{attrs:{prop:"name_tour",label:"Tên giải đấu",align:"center"}}),t("el-table-column",{attrs:{prop:"course_name",label:"Tên sân",align:"center"}}),t("el-table-column",{attrs:{prop:"hole_select",label:"Hố",align:"center"}}),t("el-table-column",{attrs:{prop:"user_id",label:"Mã ID",align:"center"}}),t("el-table-column",{attrs:{label:"Tên sản phẩm",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.row;return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(o.ProductInfo?o.ProductInfo.name:""))])]}}])}),t("el-table-column",{attrs:{prop:"total_pay",label:"Order giải thưởng ",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.total_pay)+" (VND) ")]}}])}),t("el-table-column",{attrs:{prop:"date_played",label:"Ngày chơi",align:"center"}}),t("el-table-column",{attrs:{prop:"created_at",label:"Ngày tạo",align:"center"}}),t("el-table-column",{attrs:{label:"Trạng thái đơn hàng",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.row;return[t("p",[e._v(e._s(e.status[o.status]))]),t("el-tag",[e._v(" "+e._s(e.statusSendPVI[o.is_send_pvi])+" ")])]}}])}),t("el-table-column",{attrs:{prop:"name",label:"Trạng thái gạch nợ",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.row;return[1==o.is_pay?t("el-tag",{attrs:{type:"success"}},[e._v("Đã gạch nợ")]):t("el-tag",{attrs:{type:"danger"}},[e._v("Chưa gạch nợ")])]}}])}),t("el-table-column",{attrs:{prop:"sale_name",label:" Người xử lý",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.row;return[t("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v(e._s(o.sale_name))])]}}])}),t("el-table-column",{attrs:{prop:"name",label:"Hành động",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var o=n.row;return[0===o.is_done?[t("el-button",{staticClass:"mg-5",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.confirmSale(o)}}},[e._v(" Xác nhận bán ")])]:[t("el-tag",{attrs:{type:"success"}},[e._v("Đã nhận xử lý")])],void 0]}}])})],1)],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>=e.listQuery.limit,expression:"total >= listQuery.limit"}],attrs:{total:e.total,limit:e.listQuery.limit,page:e.listQuery.page},on:{"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},"update:page":function(t){return e.$set(e.listQuery,"page",t)},pagination:e.onGetList}}),t("dialog-insurance-bill-form",{attrs:{"dialog-form-visible":e.dialogBillFormVisible},on:{closeDialog:e.closeDialogBillForm}}),t("dialog-show-image",{attrs:{"object-bill":e.objectBill,"dialog-visible":e.dialogShowImageVisible},on:{closeDialog:e.closeDialogShowImage}})],1)},a=[],i=n("c7eb"),r=n("1da1"),l=(n("d3b7"),n("159b"),n("333d")),s=n("ff72"),c=n("e936"),u=n("b8ca"),f=n("5408"),d=n("5f87"),g=new c["a"],p={name:"InsuranceBillIndex",components:{DialogShowImage:u["a"],DialogInsuranceBillForm:s["a"],Pagination:l["a"]},data:function(){return console.log("getAdmin()...................................",Object(d["b"])()),{listQuery:{page:1,limit:10},total:10,dataTable:[],loadingTable:!1,dialogBillFormVisible:!1,listCategory:[],listImage:[],dialogShowImageVisible:!1,objectBill:{},loadingSendMail:!1,statusSendPVI:f["n"],status:f["x"],statusInit:f["z"],statusSuccess:f["B"],statusCMSConfirm:f["y"],statusPVI:f["A"]}},created:function(){this.onGetList()},methods:{onGetList:function(){var e=this;this.loadingTable=!0,g.listMaterialOutsystem(this.listQuery).then((function(t){console.log("response................",t),0===t.error_code&&(e.dataTable=t.data.data,e.total=t.data.total,e.dataTable.forEach((function(e){var t;e.is_confirm_supervisor=!0,null===e||void 0===e||null===(t=e.ListHoleInspector)||void 0===t||t.forEach((function(t){1!==t.request_confirm&&(e.is_confirm_supervisor=!1)}))})),console.log("this.dataTable................",e.dataTable)),e.loadingTable=!1}))},handleIndexMethod:function(e){return 1===this.listQuery.page?this.listQuery.page+e:(this.listQuery.page-1)*this.listQuery.limit+e+1},closeDialogBillForm:function(){this.dialogBillFormVisible=!1},onShowDialogImage:function(e){this.dialogShowImageVisible=!0,this.objectBill=e,console.log("this.objectBill................",this.objectBill)},closeDialogShowImage:function(){console.log("closeDialogShowImage................"),this.dialogShowImageVisible=!1,this.objectBill={}},sendMailPVI:function(e){var t=this;return Object(r["a"])(Object(i["a"])().mark((function n(){return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm("Đã xác nhận bán. Bạn muốn tiếp tục gửi mail xác nhận bán đơn bảo hiểm sang PVI?","Cảnh báo",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.loadingSendMail=!0,console.log("sendMailPVI................",e);var n={id_material_covered:e.id,status:t.statusPVI,is_send_email:2};g.confirmSaleHIO(n).then((function(e){console.log("response.....................",e),0===e.error_code?t.$message({type:"success",message:"Xác nhận bán thành công"}):t.$message({type:"error",message:"Xác nhận bán thất bại"}),t.onGetList()})).catch((function(e){console.log("error.....................",e),t.$message({type:"error",message:"Xác nhận bán thất bại"})}));var o="https://booking.vcallid.com/api/v1/send-mail-pvi";g.sendMailConfirmSaleToPVI(e,o).then((function(e){console.log("response.....................",e),0===e.error_code?t.$message({type:"success",message:"Gửi mail thành công"}):t.$message({type:"error",message:"Gửi mail thất bại"}),t.loadingSendMail=!1})).catch((function(e){console.log("error.....................",e),t.$message({type:"error",message:"Gửi mail thất bại"}),t.loadingSendMail=!1}))})).catch((function(){t.$message({type:"info",message:"Send mail canceled"})}));case 1:case"end":return n.stop()}}),n)})))()},sendConfirmPVI:function(){var e=this;this.$confirm("Đã xác nhận được tiền. Bạn muốn tiếp tục gửi xác nhận bán đơn bảo hiểm sang PVI?","Cảnh báo",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.$message({type:"success",message:"Delete completed"})})).catch((function(){e.$message({type:"info",message:"Delete canceled"})}))},confirmSale:function(e){var t=this;this.$confirm("Bạn muốn xác nhận bán đơn bảo hiểm này?","Cảnh báo",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){console.log("confirmSale................",e);var n={id_outsystem:e.id,is_done:1,cms_id:Object(d["b"])().id};g.confirmSaleHIOOutSystem(n).then((function(e){console.log("response.....................",e),0===e.error_code?t.$message({type:"success",message:"Xác nhận bán thành công"}):t.$message({type:"error",message:"Xác nhận bán thất bại"}),t.onGetList()})).catch((function(e){console.log("error.....................",e),t.$message({type:"error",message:"Xác nhận bán thất bại"})}))})).catch((function(){t.$message({type:"info",message:"Xác nhận bán canceled"})}))}}},b=p,m=n("2877"),h=Object(m["a"])(b,o,a,!1,null,"013611ae",null);t["default"]=h.exports},"7db0":function(e,t,n){"use strict";var o=n("23e7"),a=n("b727").find,i=n("44d2"),r="find",l=!0;r in[]&&Array(1)[r]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},bee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("a38e");function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Object(o["a"])(a.key),a)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d9e2");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},f8c9:function(e,t,n){"use strict";var o=n("23e7"),a=n("da84"),i=n("d44e");o({global:!0},{Reflect:{}}),i(a.Reflect,"Reflect",!0)}}]);