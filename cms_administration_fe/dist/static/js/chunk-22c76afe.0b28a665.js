(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22c76afe"],{"00c5":function(t,e,a){},"49bd":function(t,e,a){},ad6b:function(t,e,a){"use strict";a("00c5")},bdf6:function(t,e,a){"use strict";a.r(e);a("99af"),a("14d9"),a("b0c0");var o=function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"app-container list-shop"},[e("dialog-order-products-vue",{ref:"refDialogOrderProducts",attrs:{"offset-top":t.currentY}}),e("el-row",{staticClass:"list-shop__header"},[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div",{staticStyle:{display:"flex"}},[e("p",{staticStyle:{"margin-right":"15px"},on:{click:t.onBack}},[e("i",{staticClass:"el-icon-back"})]),e("h3",{staticStyle:{color:"#3C3D40","font-size":"20px"}},[t._v(t._s(t.shop_name.length?"Thống kê doanh thu nhà cung cấp - ".concat(t.shop_name):"Thống kê doanh thu"))])]),e("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{loading:t.loadingHome,icon:"el-icon-refresh"},on:{click:t.onRefreshHomePress}},[t._v(t._s("Refresh"))])],1)]),e("el-row",[e("div",{staticStyle:{"border-radius":"10px","border-width":"1px","background-color":"#5F6368","min-height":"100px","padding-left":"10px","padding-right":"10px","padding-top":"10px","padding-bottom":"10px"}},[e("span",{staticStyle:{"font-size":"16px",color:"white"}},[t._v(t._s("Tổng đơn hàng ước tính"))]),e("el-row",{attrs:{sm:24}},[e("el-col",{attrs:{sm:6}},[e("span",{staticClass:"label_text"},[t._v(t._s("Đầu ngày tới giờ"))]),e("span",{staticClass:"value_text"},[t._v(t._s(" ".concat(t.doashboard.today_count_delivery?t.doashboard.today_count_delivery:0," đơn : ").concat(t.formatNumber(t.doashboard.today_total_price?t.doashboard.today_total_price:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng giá nhập: ".concat(t.formatNumber(t.doashboard.today_total_cost?t.doashboard.today_total_cost:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Lợi nhuận: ".concat(t.formatNumber(t.doashboard.today_gross_profit?t.doashboard.today_gross_profit:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng point hoàn: ".concat(t.formatNumber(t.doashboard.today_point_refund?t.doashboard.today_point_refund:0)," đ")))])]),e("el-col",{attrs:{sm:6}},[e("span",{staticClass:"label_text"},[t._v(t._s("Hôm qua"))]),e("span",{staticClass:"value_text"},[t._v(t._s(" ".concat(t.doashboard.yesterday_count_delivery?t.doashboard.yesterday_count_delivery:0," đơn : ").concat(t.formatNumber(t.doashboard.yesterday_total_price?t.doashboard.yesterday_total_price:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng giá nhập: ".concat(t.formatNumber(t.doashboard.yesterday_total_cost?t.doashboard.yesterday_total_cost:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Lợi nhuận: ".concat(t.formatNumber(t.doashboard.yesterday_gross_profit?t.doashboard.yesterday_gross_profit:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng point hoàn: ".concat(t.formatNumber(t.doashboard.yesterday_point_refund?t.doashboard.yesterday_point_refund:0)," đ")))])]),e("el-col",{attrs:{sm:6}},[e("span",{staticClass:"label_text"},[t._v(t._s("Đầu tháng tới giờ"))]),e("span",{staticClass:"value_text"},[t._v(t._s(" ".concat(t.doashboard.month_count_delivery?t.doashboard.month_count_delivery:0," đơn : ").concat(t.formatNumber(t.doashboard.month_total_price?t.doashboard.month_total_price:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng giá nhập: ".concat(t.formatNumber(t.doashboard.month_total_cost?t.doashboard.month_total_cost:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Lợi nhuận: ".concat(t.formatNumber(t.doashboard.month_gross_profit?t.doashboard.month_gross_profit:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng point hoàn: ".concat(t.formatNumber(t.doashboard.month_point_refund?t.doashboard.month_point_refund:0)," đ")))])]),e("el-col",{attrs:{sm:6}},[e("span",{staticClass:"label_text"},[t._v(t._s("Tháng trước"))]),e("span",{staticClass:"value_text"},[t._v(t._s("".concat(t.doashboard.last_month_count_delivery?t.doashboard.last_month_count_delivery:0," đơn: ").concat(t.formatNumber(t.doashboard.last_month_total_price?t.doashboard.last_month_total_price:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng giá nhập: ".concat(t.formatNumber(t.doashboard.last_month_total_cost?t.doashboard.last_month_total_cost:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Lợi nhuận: ".concat(t.formatNumber(t.doashboard.last_month_gross_profit?t.doashboard.last_month_gross_profit:0)," đ")))]),e("span",{staticClass:"value_text_2"},[t._v(t._s("Tổng point hoàn: ".concat(t.formatNumber(t.doashboard.last_month_point_refund?t.doashboard.last_month_point_refund:0)," đ")))])])],1)],1)]),e("el-row",[e("el-col",{staticStyle:{"margin-top":"30px",display:"flex","justify-content":"space-between"},attrs:{sm:24}},[e("span",[t._v(t._s(t.dateRangeText))]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(e){return t.$router.push({path:"/statistic-supplier-all"})}}},[t._v(t._s("Xem thêm"))])],1),e("div",[e("el-button",{attrs:{loading:t.loadingTable,icon:"el-icon-refresh"},on:{click:t.onResetSearch}},[t._v(t._s("Refresh"))])],1)])])],1),e("el-row",{staticStyle:{"margin-top":"10px"}},[e("el-row",{staticClass:"list-shop__data",staticStyle:{"margin-top":"10px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[1===t.source_id?e("el-table-column",{attrs:{label:"Mã NCC",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(" NCC ".concat(a.row.shop_info.id?a.row.shop_info.id:a.row.source)))])]}}],null,!1,1044594738)}):t._e(),1===t.source_id?e("el-table-column",{attrs:{prop:"shop_info.name",label:"Tên NCC",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(a.row.shop_info.name))])])]}}],null,!1,2302981254)}):t._e(),2===t.source_id?e("el-table-column",{attrs:{prop:"chanel_name",label:"Kênh bán hàng",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(a.row.shop_info.name))])])]}}],null,!1,2302981254)}):t._e(),e("el-table-column",{attrs:{prop:"total_delivery",label:"Tổng đơn tính doanh thu",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(a.row.total_delivery))])]),e("el-row",[a.row.count_delivered_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("Tăng".concat(": +",a.row.count_delivered_compare)))]):t._e()]),e("el-row",[a.row.count_delivered_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("Tỷ lệ".concat(": +",a.row.count_delivered_percen,"%")))]):t._e()]),e("el-row",[a.row.count_delivered_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("Giảm".concat(": ",a.row.count_delivered_compare)))]):t._e()]),e("el-row",[a.row.count_delivered_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("Tỷ lệ".concat(": -",a.row.count_delivered_percen,"%")))]):t._e()])]}}])}),t._v("> "),e("el-table-column",{attrs:{prop:"all_products",label:"Tổng sản phẩm",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.onShowAllProductPress(a.row)}}},[t._v(t._s(a.row.all_products))])],1),e("el-row",[a.row.total_product_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("giam".concat(": ",a.row.total_product_compare)))]):t._e()]),e("el-row",[a.row.total_product_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("ty_le".concat(": -",a.row.total_product_percen,"%")))]):t._e()]),e("el-row",[a.row.total_product_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("tang".concat(": +",a.row.total_product_compare)))]):t._e()]),e("el-row",[a.row.total_product_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("ty_le".concat(": +",a.row.total_product_percen,"%")))]):t._e()])]}}])}),e("el-table-column",{attrs:{prop:"all_revenue",label:"Doanh thu",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(t.formatNumber(a.row.all_revenue))+" đ")])]),e("el-row",[a.row.total_price_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("giam: ".concat(t.formatNumber(a.row.total_price_compare))))]):t._e()]),e("el-row",[a.row.total_price_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("ty_le".concat(": -",a.row.total_price_percen,"%")))]):t._e()]),e("el-row",[a.row.total_price_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("tang: +".concat(t.formatNumber(a.row.total_price_compare))))]):t._e()]),e("el-row",[a.row.total_price_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("ty_le".concat(": +",a.row.total_price_percen,"%")))]):t._e()])]}}])}),e("el-table-column",{attrs:{prop:"all_cost",label:"Tổng giá nhập",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(t.formatNumber(a.row.all_cost))+" đ")])])]}}])}),e("el-table-column",{attrs:{prop:"all_refund_point",label:"Tổng hoàn point",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(a.row.all_refund_point))])])]}}])}),e("el-table-column",{attrs:{prop:"all_profit",label:"Lợi nhuận gộp",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-row",[e("span",{staticClass:"text_nomal"},[t._v(t._s(t.formatNumber(a.row.all_profit))+" đ")])]),e("el-row",[a.row.loi_nhuan_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("giam: ".concat(t.formatNumber(a.row.loi_nhuan_compare))))]):t._e()]),e("el-row",[a.row.loi_nhuan_compare<0?e("span",{staticClass:"text_sub"},[t._v(t._s("ty_le".concat(": -",a.row.loi_nhuan_percen,"%")))]):t._e()]),e("el-row",[a.row.loi_nhuan_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("tang: +".concat(t.formatNumber(a.row.loi_nhuan_compare))))]):t._e()]),e("el-row",[a.row.loi_nhuan_compare>0?e("span",{staticClass:"text_add"},[t._v(t._s("ty_le".concat(": +",a.row.loi_nhuan_percen,"%")))]):t._e()])]}}])})],1)],1)],1),e("el-row",[e("el-col",{staticStyle:{"margin-top":"50px",display:"flex","justify-content":"space-between"},attrs:{sm:24}},[e("span",[t._v("Top sản phẩm bán chạy nhất từ đầu tháng đến giờ")]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticStyle:{"margin-right":"10px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-document"},on:{click:function(e){return t.$router.push({path:"/top-sale-info"})}}},[t._v(t._s("Xem thêm"))])],1),e("div",[e("el-button",{attrs:{loading:t.loadingTableProduct,icon:"el-icon-refresh"},on:{click:t.onRefreshTopSale}},[t._v(t._s("Refresh"))])],1)])])],1),e("el-row",{staticStyle:{"margin-top":"10px"}},[e("el-row",{staticClass:"list-shop__data",staticStyle:{"margin-top":"10px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTableProduct,expression:"loadingTableProduct"}],staticStyle:{width:"100%"},attrs:{data:t.tableDataProduct,border:""}},[e("el-table-column",{attrs:{prop:"product_code",label:"Mã sản phẩm",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"Tên sản phẩm",align:"center"}}),e("el-table-column",{attrs:{label:"Logo",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{type:"primary"}},[a.row.thumb?e("el-image",{attrs:{src:a.row.thumb?a.row.thumb:"",fit:t.contain}}):t._e()],1)]}}])}),e("el-table-column",{attrs:{prop:"category.name",label:"Hạng mục",align:"center"}}),e("el-table-column",{attrs:{prop:"number",label:"Số lượng đã bán",align:"center"}}),e("el-table-column",{attrs:{label:"Doanh thu",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.formatNumber(a.row.total_price))+" đ")])]}}])}),e("el-table-column",{attrs:{label:"Tổng giá nhập",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.formatNumber(a.row.total_cost))+" đ")])]}}])}),e("el-table-column",{attrs:{label:"Lợi nhuận",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.formatNumber(a.row.total_profit))+" đ")])]}}])}),e("el-table-column",{attrs:{prop:"shop.name",label:"Nhà cung cấp",align:"center"}})],1)],1)],1)],1)},r=[],s=a("c7eb"),n=a("1da1"),i=a("b85c"),l=(a("ac1f"),a("5319"),a("e9c4"),a("13d5"),a("d3b7"),a("d81d"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),a("9911"),a("d9e2"),a("cf43")),c=a("5f87"),u=a("bcc2"),_=a("fa7d"),d=a("c1df"),p=a.n(d),h=a("f966"),m=new l["a"],g={name:"SupplierContractList",components:{DialogOrderProductsVue:h["a"]},data:function(){return{totalProduct:0,loadingTableProduct:!1,showInfoDetail:!1,is_delete:0,is_write:0,is_edit:0,is_view:0,is_export:0,dateRangeDebt:"",dateRangeText:"Thống kê từ đầu tháng tới giờ",searchSupplier:"",filters:[{id:1,name:"Tìm theo mã NCC"},{id:2,name:"Tìm theo tên NCC"}],filter_id:1,value1:"",sources:[{id:1,name:"Theo nhà cung cấp"},{id:2,name:"Theo kênh bán hàng"}],source_id:1,tableData:[],exportData:"",listQuery:{},listQueryProduct:{page:1,limit:5},doashboard:"",chart_data:[],shop_id:0,shop_name:"",loadingTable:!1,loadingHome:!1,currentY:0}},watch:{value1:function(t){var e=t[0],a=t[1];e=new Date(e).getTime(),a=new Date(a).getTime(),this.listQuery.date_create_from=e,this.listQuery.date_create_to=a,this.onGetListShop()},source_id:function(t){this.listQuery.type_statistical=t,console.log(".............. goi vao day lan ",t),this.requestStatisticalSupplierList()},getCurrentY:function(){this.currentY=window.scrollY},filter_id:function(t){1===t?(console.log("hehehehe`"),this.listQuery.q=this.listQuery.shop_id):(console.log("22222`"),this.listQuery.q="")}},beforeDestroy:function(){window.removeEventListener("scroll",this.getCurrentY)},created:function(){var t=this.$route.query;t&&(this.shop_id=parseInt(t.shop_id)||0,this.shop_id&&this.requestShopDetail());var e=Object(_["b"])(),a=e[0],o=e[1];this.listQuery.date_from=e[0],this.listQuery.date_to=e[1],this.dateRangeDebt=[p()(a).format("YYYY-MM-DD"),p()(o).format("YYYY-MM-DD")],this.listQueryProduct.date_from=e[0],this.listQueryProduct.date_to=e[1],this.requestListPermissionMenu(),this.getListTopProduct()},mounted:function(){window.addEventListener("scroll",this.getCurrentY)},methods:{onBack:function(){window.history.back()},getCurrentY:function(){this.currentY=window.scrollY},onShowAllProductPress:function(t){this.$refs.refDialogOrderProducts&&this.$refs.refDialogOrderProducts.show(!0,this.currentY,t.shop_info,this.listQuery,this.source_id)},requestListPermissionMenu:function(){var t=this,e=this.$router.history.current.meta.roles,a=e&&e.length?e[0]:0;a=parseInt(a.replace("NCC",""));var o=Object(c["a"])(),r=o.email;Object(_["a"])(r,a,(function(e){if(console.log("............list data 1",JSON.stringify(e)),e){var a=e.is_supper_admin,o=e.is_add,r=e.is_view,s=e.is_edit,n=e.is_delete,i=e.is_export;a=parseInt(a)||0,o=parseInt(o)||1,r=parseInt(r)||1,s=parseInt(s)||1,n=parseInt(n)||1,i=parseInt(i)||1,t.is_delete=a?1:n-1,t.is_write=a?1:o-1,t.is_edit=a?1:s-1,t.is_export=a?1:i-1,t.is_view=a?1:r-1,t.requestStatisticalSupplierList(),t.requestStatisticalHome()}}))},onRefreshHomePress:function(){this.requestStatisticalHome()},onRevenuePress:function(){this.$router.push({path:"/statistical_revenue"})},onSearchPress:function(){this.loadingTable=!0,this.listQuery.type_search=this.filter_id,this.requestStatisticalSupplierList()},onResetSearch:function(){var t=Object(_["b"])(),e=t[0],a=t[1];this.listQuery={date_from:t[0],date_to:t[1],q:"",type_search:1},this.dateRangeText="Thống kê từ đầu tháng tới giờ",this.dateRangeDebt=[p()(e).format("YYYY-MM-DD"),p()(a).format("YYYY-MM-DD")],this.requestStatisticalSupplierList()},onRefreshTopSale:function(){var t=Object(_["b"])(),e=t[0],a=t[1];this.listQuery={date_from:t[0],date_to:t[1],q:"",type_search:1},this.dateRangeText="Thống kê từ đầu tháng tới giờ",this.dateRangeDebt=[p()(e).format("YYYY-MM-DD"),p()(a).format("YYYY-MM-DD")],this.getListTopProduct()},requestShopDetail:function(){var t=this;m.get_name_shop(this.shop_id).then((function(e){console.log("........... detail shop ",JSON.stringify(e));var a=e.error,o=e.data;0===a&&(t.shop_name=o.name)}))},onDetailPress:function(t){t.shop_id&&this.$router.push({path:"/detail_statistical?shop_id=".concat(t.shop_id)})},drawChart:function(t){console.log("........... draw chart ",JSON.stringify(t))},requestStatisticalHome:function(){var t=this;this.is_view&&(this.loadingHome=!0,m.statistical_home(this.shop_id).then((function(e){var a=e.error,o=e.data;t.loadingHome=!1,0===a&&(t.doashboard=o,console.log(".......... doash board ",JSON.stringify(o)))})).catch((function(e){t.loadingHome=!1})))},requestStatisticalSupplierList:function(){var t=this;this.is_view&&(this.loadingTable=!0,this.listQuery.type_statistical=this.source_id,m.list_statistical_supplier(this.listQuery).then((function(e){var a=e.error,o=e.data,r=e.msg;if(t.loadingTable=!1,console.log(".................. thong ke ",JSON.stringify(e)),0===a){t.tableData=o;var s,n=o.map((function(t){return t.count_delivered})).reduce((function(t,e){return t+e}),0),l=[],c=Object(i["a"])(o);try{for(c.s();!(s=c.n()).done;){var u=s.value,_={};u.count_delivered&&(_.total=u.count_delivered,_.percent=Math.round(u.count_delivered/n*100),_.user_name=u.shop_name?u.shop_name:u.chanel_name,l.push(_))}}catch(d){c.e(d)}finally{c.f()}t.drawChart(l)}else t.$message.error(r)})).catch((function(e){t.loadingTable=!1,console.log("........... error",e)})))},confirmDowload:function(t){this.getFileFromServer(t)},getFileFromServer:function(t){var e=this;return Object(n["a"])(Object(s["a"])().mark((function a(){var o,r;return Object(s["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:o=t.substring(t.lastIndexOf("/")+1),r=document.createElement("a"),r.href=t,r.download=o,r.click(),setTimeout((function(){window.URL.revokeObjectURL(t),e.$message.success("Xuất file thành công, vui lòng vào thư mục donwload để xem")}),250);case 6:case"end":return a.stop()}}),a)})))()},requestStatisticalSupplierListExport:function(){var t=this;this.listQuery.type_statistical=this.source_id,m.export_statistical(this.listQuery).then((function(e){var a=e.error,o=e.link;console.log(".................. thong ke ",JSON.stringify(e),t.loadingTable),0===a?t.confirmDowload(o):t.$message.error("Lỗi khi xuất file excel")})).catch((function(e){t.loadingTable=!1,console.log("........... error",e)}))},handleExportExcel:function(){this.requestStatisticalSupplierListExport(),console.log("xuaast execel")},handleChangeDateRange:function(t){if(t&&2===t.length){var e=t[0],a=t[1];this.dateRangeText="Thống kê từ ".concat(p()(e).format("DD/MM/YYYY")," đến ").concat(p()(a).format("DD/MM/YYYY"))}var o=new Date(t[0]),r=new Date(t[1]);this.listQuery.page=1,this.listQuery.date_from=o.getTime(),this.listQuery.date_to=r.getTime(),this.requestStatisticalSupplierList()},getListTopProduct:function(){var t=this;this.loadingTableProduct=!0,m.list_product_order(this.listQueryProduct).then((function(e){var a=e.error,o=e.data;if(1===t.listQueryProduct.page&&(t.totalProduct=e.total),0!==a)throw new Error("Lỗi lấy danh sách sản phẩm");t.tableDataProduct=o})).catch((function(e){console.log("........... error",e),t.$message.error(e.message)})).finally((function(){t.loadingTableProduct=!1}))},formatNumber:u["k"],get_ranger_time_today:_["d"],get_ranger_time_yesterday:_["f"],get_ranger_time_week:_["e"],get_ranger_time_month:_["b"],get_ranger_time_same_date_last_week:_["c"]}},f=g,b=(a("ad6b"),a("2877")),y=Object(b["a"])(f,o,r,!1,null,"6001465a",null);e["default"]=y.exports},cf43:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var o=a("d4ec"),r=a("bee2"),s=a("262e"),n=a("2caf"),i=(a("99af"),a("6c6e")),l=a("a27e"),c="https://shop.vcallid.com/api/public",u=function(t){Object(s["a"])(a,t);var e=Object(n["a"])(a);function a(){return Object(o["a"])(this,a),e.call(this,"")}return Object(r["a"])(a,[{key:"get_name_shop",value:function(t){return Object(l["a"])({url:c+"/shop/get_name_shop?shop_id=".concat(t),method:"get"})}},{key:"statistical_supplier_list",value:function(t){return Object(l["a"])({url:c+"/supplier/statistical_supplier_list",method:"get",params:t})}},{key:"list_statistical_supplier",value:function(t){return Object(l["a"])({url:c+"/statistical/list_statistical_supplier",method:"get",params:t})}},{key:"list_statistical_supplier_for_all",value:function(t){return Object(l["a"])({url:c+"/statistical/list_statistical_supplier_for_all",method:"get",params:t})}},{key:"list_product_order",value:function(t){return Object(l["a"])({url:c+"/statistical/get_list_products_order",method:"get",params:t})}},{key:"export_statistical",value:function(t){return Object(l["a"])({url:c+"/statistical/export_statistial",method:"get",params:t})}},{key:"statistical_home",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(l["a"])({url:c+"/supplier/statistical_home?shop_id=".concat(t),method:"get"})}},{key:"statistical_line_chart_week",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(l["a"])({url:c+"/supplier/statistical_line_chart?shop_id=".concat(t,"&chanel=").concat(e),method:"get"})}},{key:"statistical_revenue",value:function(t){return Object(l["a"])({url:c+"/supplier/statistical_revenue",method:"get",params:t})}},{key:"shopList",value:function(t){return Object(l["a"])({url:c+"/shop/list",method:"get",params:t})}}]),a}(i["a"])},ee1c:function(t,e,a){"use strict";a("49bd")},f966:function(t,e,a){"use strict";a("b0c0");var o=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"dialog-show-info",staticStyle:{right:"0px"},attrs:{visible:t.showDetail,width:"100%","before-close":t.handleClose,"close-on-click-modal":!1,"lock-scroll":!1},on:{"update:visible":function(e){t.showDetail=e}}},[e("h3",{staticStyle:{color:"black"}},[t._v(t._s(1===t.listQuery.type_statistical?t.name.length?"Danh sách sản phẩm trong đơn thống kê nhà cung cấp(".concat(t.name,")"):"Danh sách sản phẩm trong đơn thống kê":t.name.length?"Danh sách sản phẩm trong đơn thống kê kênh(".concat(t.name,")"):"Danh sách sản phẩm trong đơn thống kê"))]),e("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"brand-table-id"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center",border:""}},[e("el-table-column",{attrs:{prop:"code",label:"Mã SP",align:"center",width:"80px"}}),e("el-table-column",{attrs:{prop:"logo",label:"Logo",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("img",{staticStyle:{width:"100px"},attrs:{src:a.row.logo?a.row.logo:""},on:{error:function(e){return t.handleImageError(a.row)}}})]}}])}),e("el-table-column",{attrs:{prop:"name",label:"Tên sản phẩm",align:"center"}}),e("el-table-column",{attrs:{prop:"category_name",label:"Hạng mục",align:"center"}}),e("el-table-column",{attrs:{prop:"number",label:"Số lượng",align:"center",width:"90px"}}),e("el-table-column",{attrs:{prop:"size",label:"Thuộc tính 1",align:"center"}}),e("el-table-column",{attrs:{prop:"color",label:"Thuộc tính 2",align:"center"}}),e("el-table-column",{attrs:{prop:"priceFormat",label:"Giá niêm yết",align:"center"}}),e("el-table-column",{attrs:{prop:"priceSaleFormat",label:"Giá bán",align:"center"}}),e("el-table-column",{attrs:{prop:"costFormat",label:"Giá nhập",align:"center"}})],1),e("el-row",[e("pagination",{attrs:{total:t.total,limit:t.listQuery.limit,page:t.listQuery.page},on:{"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},"update:page":function(e){return t.$set(t.listQuery,"page",e)},pagination:t.getListOrder}})],1)],1)])},r=[],s=(a("a9e3"),a("e9c4"),a("d3b7"),a("159b"),a("ac1f"),a("5319"),a("0d87")),n=a("333d"),i=a("bcc2"),l=new s["a"],c={name:"DialogOrderProducts",components:{Pagination:n["a"]},props:{objectData:{type:Object,default:function(){return{}}},offsetTop:{type:Number,default:0}},data:function(){return{dialog:{titleName:"Thông tin doanh thu đơn hàng"},tableData:[],loading:!1,listQuery:{page:1,limit:10},total:0,showDetail:!1,shop_id:0,name:""}},mounted:function(){this.listQuery.delivery_bill_id=this.objectData.id,this.getListOrder(),console.log("objectData",this.objectData)},methods:{formatNumber:i["k"],handleClose:function(){this.showDetail=!1},handleImageError:function(t){t.showImage=!1},show:function(t,e,a,o){this.showDetail=t,this.tableData=[],this.shop_id=a.id,console.log(".........thong tin san pham ",JSON.stringify(o)),this.listQuery.limit=8,this.listQuery.page=1,this.listQuery.date_from=o.date_from,this.listQuery.date_to=o.date_to,this.listQuery.type_statistical=o.type_statistical,this.listQuery.id=this.shop_id,this.name=a.name,this.getListOrder()},getListOrder:function(){var t=this;this.loading=!0,l.listStatisticalOrder(this.listQuery).then((function(e){console.log("Danh sach san pham thong ke: ",JSON.stringify(e));var a=e.error,o=e.data,r=e.total;0===a&&(1===t.listQuery.page&&(t.total=r),t.tableData=o,t.tableData.forEach((function(e,a){e.stt=(t.listQuery.page-1)*t.listQuery.limit+a+1,e.code=e.product_code,e.logo=e.thumb,e.size=e.size?e.size.replace("null",""):"",e.color=e.color?e.color.replace("null",""):"",e.priceFormat=t.formatNumber(e.price)+"đ",e.priceSaleFormat=t.formatNumber(e.price_sale)+"đ",e.costFormat=t.formatNumber(e.cost)+"đ",e.profit=t.formatNumber(e.profit)+"đ",e.category_name=e.category?e.category.name:""})))})).catch((function(e){console.log(e),t.$message.error("Lỗi khi lấy dữ liệu đơn hàng")})).finally((function(){t.loading=!1}))}}},u=c,_=(a("ee1c"),a("2877")),d=Object(_["a"])(u,o,r,!1,null,"6884f14b",null);e["a"]=d.exports}}]);