(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95214e12"],{"0538":function(e,t,n){"use strict";var a=n("e330"),r=n("59ed"),i=n("861d"),o=n("1a2d"),c=n("f36a"),u=n("40d5"),s=Function,l=a([].concat),d=a([].join),h={},f=function(e,t,n){if(!o(h,t)){for(var a=[],r=0;r<t;r++)a[r]="a["+r+"]";h[t]=s("C,a","return new C("+d(a,",")+")")}return h[t](e,n)};e.exports=u?s.bind:function(e){var t=r(this),n=t.prototype,a=c(arguments,1),o=function(){var n=l(a,c(arguments));return this instanceof o?f(t,n.length,n):t.apply(e,n)};return i(n)&&(o.prototype=n),o}},"0df4":function(e,t,n){"use strict";n("eac1")},"262e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d9e2"),n("131a"),n("1f68");function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}},"271a":function(e,t,n){"use strict";var a=n("cb2d"),r=n("e330"),i=n("577e"),o=n("d6d6"),c=URLSearchParams,u=c.prototype,s=r(u.getAll),l=r(u.has),d=new c("a=1");!d.has("a",2)&&d.has("a",void 0)||a(u,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var a=s(this,e);o(t,1);var r=i(n),c=0;while(c<a.length)if(a[c++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},"2af1":function(e,t,n){"use strict";var a=n("23e7"),r=n("f748");a({target:"Math",stat:!0},{sign:r})},"2caf":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4ae1"),n("d3b7"),n("f8c9"),n("131a"),n("3410"),n("1f68");function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("d9e2");var i=n("53ca");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function u(e){var t=r();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}},"2fc3":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),o=n("2caf"),c=(n("99af"),n("6c6e")),u=n("b775"),s=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this,"control-bank")}return Object(r["a"])(n,[{key:"listNamA",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/listNamA"),method:"post",data:e})}},{key:"exportNamA",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/exportNamA"),method:"get",params:e})}},{key:"checkCodeBookingBeforePushNAB",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/checkCodeBookingBeforePushNAB"),method:"post",data:e})}},{key:"sendOrderCardFree",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/send-order-card-free"),method:"post",data:e})}},{key:"listSaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/list-sacom"),method:"post",data:e})}},{key:"totalMoneySaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/total-money-sacom"),method:"post",data:e})}},{key:"exportSaCom",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/exportSacom"),method:"get",params:e})}},{key:"updateSacom",value:function(e,t){return Object(u["a"])({url:"/".concat(this.uri,"/update-sacom/").concat(t),method:"post",data:e})}},{key:"confirmDone",value:function(e){return Object(u["a"])({url:"/".concat(this.uri,"/confirm-done"),method:"post",data:e})}},{key:"unConfirmDone",value:function(e,t){return Object(u["a"])({url:"/".concat(this.uri,"/un-confirm-done/").concat(t),method:"post",data:e})}}]),n}(c["a"])},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},r=[];n("a9e3");Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function u(e,t,n){var a=c(),r=e-a,u=20,s=0;t="undefined"===typeof t?500:t;var l=function e(){s+=u;var c=Math.easeInOutQuad(s,a,r,t);o(c),s<t?i(e):n&&"function"===typeof n&&n()};l()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&u(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&u(0,800)}}},l=s,d=(n("0df4"),n("2877")),h=Object(d["a"])(l,a,r,!1,null,"2f2d1216",null);t["a"]=h.exports},"4ae1":function(e,t,n){"use strict";var a=n("23e7"),r=n("d066"),i=n("2ba4"),o=n("0538"),c=n("5087"),u=n("825a"),s=n("861d"),l=n("7c73"),d=n("d039"),h=r("Reflect","construct"),f=Object.prototype,p=[].push,g=d((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),m=!d((function(){h((function(){}))})),y=g||m;a({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(e,t){c(e),u(t);var n=arguments.length<3?e:c(arguments[2]);if(m&&!g)return h(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return i(p,a,t),new(i(o,e,a))}var r=n.prototype,d=l(s(r)?r:f),y=i(e,d,t);return s(y)?y:d}})},5352:function(e,t,n){"use strict";n("e260");var a=n("23e7"),r=n("da84"),i=n("c65b"),o=n("e330"),c=n("83ab"),u=n("f354"),s=n("cb2d"),l=n("edd0"),d=n("6964"),h=n("d44e"),f=n("dcc3"),p=n("69f3"),g=n("19aa"),m=n("1626"),y=n("1a2d"),v=n("0366"),b=n("f5df"),k=n("825a"),w=n("861d"),_=n("577e"),D=n("7c73"),Y=n("5c6c"),S=n("9a1f"),C=n("35a1"),M=n("d6d6"),x=n("b622"),j=n("addb"),O=x("iterator"),q="URLSearchParams",R=q+"Iterator",N=p.set,T=p.getterFor(q),U=p.getterFor(R),P=Object.getOwnPropertyDescriptor,B=function(e){if(!c)return r[e];var t=P(r,e);return t&&t.value},L=B("fetch"),H=B("Request"),A=B("Headers"),F=H&&H.prototype,E=A&&A.prototype,z=r.RegExp,$=r.TypeError,G=r.decodeURIComponent,I=r.encodeURIComponent,Q=o("".charAt),K=o([].join),J=o([].push),X=o("".replace),V=o([].shift),W=o([].splice),Z=o("".split),ee=o("".slice),te=/\+/g,ne=Array(4),ae=function(e){return ne[e-1]||(ne[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return G(e)}catch(t){return e}},ie=function(e){var t=X(e,te," "),n=4;try{return G(t)}catch(a){while(n)t=X(t,ae(n--),re);return t}},oe=/[!'()~]|%20/g,ce={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return ce[e]},se=function(e){return X(I(e),oe,ue)},le=f((function(e,t){N(this,{type:R,iterator:S(T(e).entries),kind:t})}),"Iterator",(function(){var e=U(this),t=e.kind,n=e.iterator.next(),a=n.value;return n.done||(n.value="keys"===t?a.key:"values"===t?a.value:[a.key,a.value]),n}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Q(e,0)?ee(e,1):e:_(e)))};de.prototype={type:q,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,a,r,o,c,u,s=C(e);if(s){t=S(e,s),n=t.next;while(!(a=i(n,t)).done){if(r=S(k(a.value)),o=r.next,(c=i(o,r)).done||(u=i(o,r)).done||!i(o,r).done)throw new $("Expected sequence with length 2");J(this.entries,{key:_(c.value),value:_(u.value)})}}else for(var l in e)y(e,l)&&J(this.entries,{key:l,value:_(e[l])})},parseQuery:function(e){if(e){var t,n,a=Z(e,"&"),r=0;while(r<a.length)t=a[r++],t.length&&(n=Z(t,"="),J(this.entries,{key:ie(V(n)),value:ie(K(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],a=0;while(a<t.length)e=t[a++],J(n,se(e.key)+"="+se(e.value));return K(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){g(this,fe);var e=arguments.length>0?arguments[0]:void 0,t=N(this,new de(e));c||(this.size=t.entries.length)},fe=he.prototype;if(d(fe,{append:function(e,t){var n=T(this);M(arguments.length,2),J(n.entries,{key:_(e),value:_(t)}),c||this.length++,n.updateURL()},delete:function(e){var t=T(this),n=M(arguments.length,1),a=t.entries,r=_(e),i=n<2?void 0:arguments[1],o=void 0===i?i:_(i),u=0;while(u<a.length){var s=a[u];if(s.key!==r||void 0!==o&&s.value!==o)u++;else if(W(a,u,1),void 0!==o)break}c||(this.size=a.length),t.updateURL()},get:function(e){var t=T(this).entries;M(arguments.length,1);for(var n=_(e),a=0;a<t.length;a++)if(t[a].key===n)return t[a].value;return null},getAll:function(e){var t=T(this).entries;M(arguments.length,1);for(var n=_(e),a=[],r=0;r<t.length;r++)t[r].key===n&&J(a,t[r].value);return a},has:function(e){var t=T(this).entries,n=M(arguments.length,1),a=_(e),r=n<2?void 0:arguments[1],i=void 0===r?r:_(r),o=0;while(o<t.length){var c=t[o++];if(c.key===a&&(void 0===i||c.value===i))return!0}return!1},set:function(e,t){var n=T(this);M(arguments.length,1);for(var a,r=n.entries,i=!1,o=_(e),u=_(t),s=0;s<r.length;s++)a=r[s],a.key===o&&(i?W(r,s--,1):(i=!0,a.value=u));i||J(r,{key:o,value:u}),c||(this.size=r.length),n.updateURL()},sort:function(){var e=T(this);j(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=T(this).entries,a=v(e,arguments.length>1?arguments[1]:void 0),r=0;while(r<n.length)t=n[r++],a(t.value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),s(fe,O,fe.entries,{name:"entries"}),s(fe,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),c&&l(fe,"size",{get:function(){return T(this).entries.length},configurable:!0,enumerable:!0}),h(he,q),a({global:!0,constructor:!0,forced:!u},{URLSearchParams:he}),!u&&m(A)){var pe=o(E.has),ge=o(E.set),me=function(e){if(w(e)){var t,n=e.body;if(b(n)===q)return t=e.headers?new A(e.headers):new A,pe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(e,{body:Y(0,_(n)),headers:Y(0,t)})}return e};if(m(L)&&a({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return L(e,arguments.length>1?me(arguments[1]):{})}}),m(H)){var ye=function(e){return g(this,F),new H(e,arguments.length>1?me(arguments[1]):{})};F.constructor=ye,ye.prototype=F,a({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}e.exports={URLSearchParams:he,getState:T}},5494:function(e,t,n){"use strict";var a=n("83ab"),r=n("e330"),i=n("edd0"),o=URLSearchParams.prototype,c=r(o.forEach);a&&!("size"in o)&&i(o,"size",{get:function(){var e=0;return c(this,(function(){e++})),e},configurable:!0,enumerable:!0})},"6a56":function(e,t,n){},"6c6e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("d4ec"),r=n("bee2"),i=n("b775"),o=function(){function e(t){Object(a["a"])(this,e),this.uri=t}return Object(r["a"])(e,[{key:"list",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"88a7":function(e,t,n){"use strict";var a=n("cb2d"),r=n("e330"),i=n("577e"),o=n("d6d6"),c=URLSearchParams,u=c.prototype,s=r(u.append),l=r(u["delete"]),d=r(u.forEach),h=r([].push),f=new c("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(u,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return l(this,e);var a=[];d(this,(function(e,t){h(a,{key:t,value:e})})),o(t,1);var r,c=i(e),u=i(n),f=0,p=0,g=!1,m=a.length;while(f<m)r=a[f++],g||r.key===c?(g=!0,l(this,r.key)):p++;while(p<m)r=a[p++],r.key===c&&r.value===u||s(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},"895e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"p-10"},[t("el-row",{staticClass:"list-device__header"},[t("el-col",{attrs:{sm:24}},[t("h3",{staticStyle:{margin:"0","text-align":"center",width:"100%",padding:"10px"}},[e._v(" DANH SÁCH LƯỢT SỬ DỤNG NAM Á BANK ")])])],1),t("div",{staticClass:"clearfix-10"}),t("div",{staticClass:"filter-container"},[t("el-row",[t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập vid khách hàng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.user_id,callback:function(t){e.$set(e.query,"user_id",t)},expression:"query.user_id"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập tên khách hàng"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.user_name,callback:function(t){e.$set(e.query,"user_name",t)},expression:"query.user_name"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập mã booking để tìm kiếm"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.code_booking,callback:function(t){e.$set(e.query,"code_booking",t)},expression:"query.code_booking"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"Nhập tên sale"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter.apply(null,arguments)}},model:{value:e.query.sale_name,callback:function(t){e.$set(e.query,"sale_name",t)},expression:"query.sale_name"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:6,md:3}},[t("el-select",{staticClass:"w-100",attrs:{clearable:"",placeholder:"Chọn trạng thái"},model:{value:e.query.is_use,callback:function(t){e.$set(e.query,"is_use",t)},expression:"query.is_use"}},e._l(e.isUseList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:8,md:5}},[t("el-date-picker",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{format:"dd-MM-yyyy HH:mm:ss",type:"datetimerange","range-separator":"To","start-placeholder":"BĐ ngày sử dụng","end-placeholder":"KT ngày sử dụng"},model:{value:e.dateRangeDateUse,callback:function(t){e.dateRangeDateUse=t},expression:"dateRangeDateUse"}})],1),t("el-col",{staticClass:"mr-10 mt-10",attrs:{sm:8,md:5}},[t("el-date-picker",{staticClass:"w-100",staticStyle:{width:"100%"},attrs:{format:"dd-MM-yyyy HH:mm:ss",type:"datetimerange","range-separator":"To","start-placeholder":"BĐ ngày hết hạn","end-placeholder":"KT ngày hết hạn"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("el-col",{staticClass:"mr-10 mt-10 filter-search",attrs:{sm:12,md:12}},[t("el-button",{attrs:{icon:"el-icon-refresh filter-search",round:""},on:{click:e.onReset}},[e._v("Reset")]),t("el-button",{staticClass:"filter-search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(" Tìm kiếm ")]),t("el-button",{staticClass:"filter-search",attrs:{type:"primary",icon:"el-icon-download",loading:e.loadingExportExcel},on:{click:e.handleDownload}},[e._v(" Export excel ")]),t("el-button",{staticClass:"filter-search",attrs:{type:"success",icon:"el-icon-check",disabled:0==e.multipleSelection.length},on:{click:e.handleNotificationNAB}},[e._v(" Push sang Nam Á ")])],1)],1)],1),t("div",{staticClass:"clearfix-10"}),t("el-row",{staticClass:"list-device__data"},[t("div",{staticClass:"clearfix-20"}),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.canSelectRow}}),t("el-table-column",{attrs:{label:"STT",width:"100",align:"center",type:"index",index:e.handleIndexMethod}}),t("el-table-column",{attrs:{prop:"main_card",align:"center",label:"THẺ CHÍNH"}}),t("el-table-column",{attrs:{prop:"fullname",align:"center",label:"HỌ TÊN KH"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.fullname?e.upperCase(n.fullname):"")+" ")]}}])}),t("el-table-column",{attrs:{prop:"fullcard",align:"center",label:"SỐ THẺ"}}),t("el-table-column",{attrs:{prop:"code",label:"MÃ QUÀ TẶNG",align:"center"}}),t("el-table-column",{attrs:{prop:"end_card",label:"MÃ THẺ",align:"center"}}),t("el-table-column",{attrs:{label:"NGÀY ĐẶT BOOKING",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.date_use?e.convertDate(n.date_use):"")+" ")]}}])}),t("el-table-column",{attrs:{label:"NGÀY SỬ DỤNG",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.date_booked?e.convertDate(n.date_booked):"")+" ")]}}])}),t("el-table-column",{attrs:{prop:"facility_name",label:"SÂN",align:"center"}}),t("el-table-column",{attrs:{prop:"process_name",label:"TÊN CHƯƠNG TRÌNH",align:"center"}}),t("el-table-column",{attrs:{label:"NGÀY HẾT HẠN",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(n.date_expried?e.convertDate(n.date_expried):"")+" ")]}}])}),t("el-table-column",{attrs:{label:"ĐÃ SỬ DỤNG",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.row;return[1==a.is_use?t("el-tag",{attrs:{type:"success"}},[e._v(" Đã push sang NAB ")]):2==a.is_use?t("el-tag",{attrs:{type:"warning"}},[e._v(" Đã đẩy vào hàng chờ ")]):t("el-tag",{attrs:{type:"danger"}},[e._v(" Chưa sử dụng ")])]}}])}),t("el-table-column",{attrs:{prop:"sale_name",label:"SALE",align:"center"}}),t("el-table-column",{attrs:{prop:"code_booking",label:"MÃ CMS",align:"center"}}),t("el-table-column",{attrs:{prop:"note",label:"Note",align:"center"}})],1),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-col",[t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.query.limit,expression:"total > query.limit"}],attrs:{total:e.total,"page-sizes":[10,20,30,50,100,200,300,500],limit:e.query.limit,page:e.query.page},on:{"update:limit":function(t){return e.$set(e.query,"limit",t)},"update:page":function(t){return e.$set(e.query,"page",t)},pagination:e.onGetList}})],1)],1)],1)],1)},r=[],i=n("c7eb"),o=n("1da1"),c=n("2909"),u=(n("caad"),n("2532"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("9861"),n("88a7"),n("271a"),n("5494"),n("99af"),n("d81d"),n("4de4"),n("6062"),n("a15b"),n("bc3a")),s=n.n(u),l=n("333d"),d=n("c1df"),h=n.n(d),f=n("bcc2"),p=n("2fc3"),g=n("61f7"),m=n("5f87"),y="https://prod-wap-wghn-beta.vcallid.com",v=new p["a"],b={name:"ControlBankNamAStatistic",components:{Pagination:l["a"]},props:["admin"],data:function(){return{tableData:[],loadingTable:!1,total:0,query:{limit:10,page:1,type:1},dateRange:[],from:0,loadingExportExcel:!1,isUse:{0:{label:"Chưa sử dụng"},1:{label:"Đã sử dụng"}},isUseList:[{value:0,label:"Chưa sử dụng"},{value:1,label:"Đã push sang NAB"},{value:2,label:"Đã đẩy vào hàng chờ"}],dialogConfirmDone:!1,showDialog:!1,isAdd:!0,objectData:{},multipleSelection:[],dateRangeDateUse:"",timer:"",list_code_check:[],list_check_success:[]}},computed:{datePickerOptions:function(){var e=this;return{disabledDate:function(t){var n=new Date(e.query.start_time);return n.setDate(n.getDate()+1),t.getTime()<n.getTime()}}},renderTitle:function(){var e=this;return{disabledDate:function(t){var n=new Date(e.query.start_time);return n.setDate(n.getDate()+1),t.getTime()<n.getTime()}}}},watch:{dateRange:function(e){e?(this.query.start_time=h()(e[0]).unix(),this.query.end_time=h()(e[1]).unix()):(this.query.start_time="",this.query.end_time="")},dateRangeDateUse:function(e){e?(this.query.start_date_use=h()(e[0]).unix(),this.query.end_date_use=h()(e[1]).unix()):(this.query.start_date_use="",this.query.end_date_use="")}},created:function(){this.onGetList(),this.timer=setInterval(this.onGetList,6e4)},beforeUnmount:function(){clearInterval(this.timer)},methods:{canSelectRow:function(e,t){var n=new Date,a=new Date(null===e||void 0===e?void 0:e.date_expried),r=n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()&&n.getDate()===a.getDate();return 2===+e.is_use&&this.list_check_success.includes(e.code_booking)||r},onGetList:function(){var e=this,t=this;t.loadingTable=!0,v.listNamA(this.query).then((function(n){var a=n.data;if(0===n.error_code){var r=a.data;t.tableData=r,e.checkCodeBookingBeforePushNAB(r),console.log("self.tableData----------------------",t.tableData),t.total=a.total,t.from+=t.query.limit*(t.query.page-1)}else t.$message.error(a.message)})).finally((function(){t.loadingTable=!1}))},handleFilter:function(){for(var e in this.query)Object(g["b"])(this.query[e])&&delete this.query[e];this.query.page=1,this.loadingTable=!0,this.onGetList()},onReset:function(){this.query=Object.assign({},{page:1,limit:10,type:1}),this.dateRange="",this.dateRangeDateUse="",this.onGetList()},handleIndexMethod:function(e){return 1===this.query.page?this.query.page+e:(this.query.page-1)*this.query.limit+e+1},handleDownload:function(){var e=this;this.loadingExportExcel=!0,v.exportNamA(this.query).then((function(t){var n=document.createElement("a"),a=new URLSearchParams(e.query).toString();n.href="".concat(y,"/control-bank/exportNamA?").concat(a),document.body.appendChild(n),n.click(),e.$message({message:"Export thành công",type:"success",duration:5e3})})).finally((function(){e.loadingExportExcel=!1}))},handleSelectionChange:function(e){this.multipleSelection=e,console.log("this.multipleSelection ....",this.multipleSelection)},confirmDone:function(){var e=this,t=this;t.multipleSelection.length<1?t.$message.warning("Chọn bản ghi trước khi xác nhận."):(this.dialogConfirmDone=!0,this.query.list_id=this.multipleSelection.map((function(e){return e.id})),this.$confirm("Bạn có chắc chắn xác nhận không ?").then((function(t){s.a.post("/control-bank/confirm-done",e.query).then((function(t){console.log(t),0===t.data.error_code?(e.$message({type:"success",message:"Xác nhận thành công!"}),e.dialogConfirmDone=!1,e.onGetList()):e.$message({type:"error",message:t.data.message})})).finally((function(){e.dialogConfirmDone=!1}))})))},unConfirmDone:function(e){var t=this;console.log("row..................",e),this.dialogConfirmDone=!0,this.$confirm("Bạn có chắc chắn bỏ xác nhận không ?").then((function(n){s.a.post("/control-bank/un-confirm-done/".concat(e.id),t.query).then((function(e){console.log(e),0===e.data.error_code?(t.$message({type:"success",message:"Xác nhận thành công!"}),t.dialogConfirmDone=!1,t.onGetList()):t.$message({type:"error",message:e.data.message})})).finally((function(){t.dialogConfirmDone=!1}))}))},handleEdit:function(e){this.showDialog=!0,this.isAdd=!1,this.objectData=Object.assign({},e)},checkCodeBookingBeforePushNAB:function(e){var t=this,n=e.filter((function(e){return 2===e.is_use}));v.checkCodeBookingBeforePushNAB({list_code:Object(c["a"])(new Set(n.filter((function(e){return e.code_booking})).map((function(e){return e.code_booking}))))}).then((function(e){console.log("response..................",e),0===e.error_code?(t.list_check_success=e.data||[],console.log(" this.list_check_success.......",t.list_check_success)):t.$message.error(e.error_msg)}))},handleNotificationNAB:function(){var e=this,t=this.multipleSelection.filter((function(e){return 2===e.is_use}));this.$confirm("Bạn có xác nhận gửi danh sách mã quà tặng sang Nam Á Bank không: ".concat(t.map((function(e){return"".concat(e.user_id," : ").concat(e.code)})).join(", "))).then((function(n){var a={admin_id:Object(m["a"])().id,data_use:t.map((function(e){return{id:e.id,code:e.code}}))};v.sendOrderCardFree(a).then(function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(n){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("res.",n),0===n.error_code?e.$message.success("Push sang NAB thành công !!!"):e.$message.error(n.error_msg);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.dialogConfirmDone=!1}))}))},handleClose:function(){this.showDialog=!1,this.onGetList()},convertDate:f["a"],upperCase:f["o"]}},k=b,w=(n("bf8e"),n("2877")),_=Object(w["a"])(k,a,r,!1,null,null,null);t["default"]=_.exports},9861:function(e,t,n){"use strict";n("5352")},bcc2:function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return b}));n("2af1"),n("b680"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("99af"),n("fb6a"),n("a15b"),n("d81d"),n("14d9");var a=n("c1df"),r=n.n(a);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=(e/1).toFixed().replace(".",",");return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e);return"DD/MM/YYYY"===t?[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t?[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-"):void 0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes())].join(":"),i="";return"DD/MM/YYYY"===t?i=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(i=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(i)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),i="";return"DD/MM/YYYY"===t?i=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(i)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss DD-MM-YYYY";function n(e){return e<10?"0"+e:e}var a=new Date(e),r=[n(a.getHours()),n(a.getMinutes()),n(a.getSeconds())].join(":"),i="";return"HH:mm:ss DD-MM-YYYY"===t?i=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r," ").concat(i)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(e){return e<10?"0"+e:e}var r=new Date(e),i=n?r.getUTCHours():r.getHours(),o=n?r.getUTCMinutes():r.getMinutes(),c=[a(i),a(o),a(r.getSeconds())].join(":"),u="";return"DD/MM/YYYY"===t?u=[a(r.getDate()),a(r.getMonth()+1),r.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(u=[a(r.getFullYear()),a(r.getMonth()+1),a(r.getDate())].join("-")),"".concat(c," ").concat(u)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";function n(e){return e<10?"0"+e:e}var a=new Date(e),r="";return"DD/MM/YYYY"===t?r=[n(a.getDate()),n(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(r=[n(a.getFullYear()),n(a.getMonth()+1),n(a.getDate())].join("-")),"".concat(r)}function h(e){if(null==e)return null;var t=(e/1).toFixed().replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(e)return r()(e).format(t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm DD/MM/YYYY";return r()(e).format(t)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm:ss";if(e)return r()(e).format(t)}function m(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\Đ]/g,"D");return t.toUpperCase()}function y(e){switch(e){case 1:return"Tạo flight";case 2:return"Đã xác nhận";case 4:return"Hủy đúng hạn";case 5:return"Hủy sai hạn";case 6:return"Xác nhận booking";default:return"Đã hoàn thành"}}function v(e){switch(e){case 2:return"success";case 3:return"success";case 4:return"warning";case 5:return"danger";default:return"info"}}function b(e){var t=[];return e.length>0&&e.map((function(e){var n=e.id_display?e.id_display:e.id,a="vID".concat(n," - ").concat(e.fullname," (").concat(e.nickname,")"),r={value:e.id,label:a};t.push(r)})),t}},bee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("a38e");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Object(a["a"])(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},bf8e:function(e,t,n){"use strict";n("6a56")},d4ec:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d9e2");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},eac1:function(e,t,n){},f354:function(e,t,n){"use strict";var a=n("d039"),r=n("b622"),i=n("83ab"),o=n("c430"),c=r("iterator");e.exports=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),a="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),a+=n+e})),n["delete"]("a",2),n["delete"]("b",void 0),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(o||!i)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[c]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host}))},f748:function(e,t,n){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},f8c9:function(e,t,n){"use strict";var a=n("23e7"),r=n("da84"),i=n("d44e");a({global:!0},{Reflect:{}}),i(r.Reflect,"Reflect",!0)}}]);