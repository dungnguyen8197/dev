(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e79e59da"],{"0538":function(e,t,r){"use strict";var a=r("e330"),n=r("59ed"),i=r("861d"),o=r("1a2d"),c=r("f36a"),s=r("40d5"),l=Function,u=a([].concat),d=a([].join),f={},m=function(e,t,r){if(!o(f,t)){for(var a=[],n=0;n<t;n++)a[n]="a["+n+"]";f[t]=l("C,a","return new C("+d(a,",")+")")}return f[t](e,r)};e.exports=s?l.bind:function(e){var t=n(this),r=t.prototype,a=c(arguments,1),o=function(){var r=u(a,c(arguments));return this instanceof o?m(t,r.length,r):t.apply(e,r)};return i(r)&&(o.prototype=r),o}},"0df4":function(e,t,r){"use strict";r("eac1")},"262e":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d9e2"),r("131a"),r("1f68");function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}},"2af1":function(e,t,r){"use strict";var a=r("23e7"),n=r("f748");a({target:"Math",stat:!0},{sign:n})},"2caf":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("4ae1"),r("d3b7"),r("f8c9"),r("131a"),r("3410"),r("1f68");function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r("d9e2");var i=r("53ca");function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"===Object(i["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)}function s(e){var t=n();return function(){var r,n=a(e);if(t){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}},"333d":function(e,t,r){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[t("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];r("a9e3");Math.easeInOutQuad=function(e,t,r,a){return e/=a/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function o(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function c(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,r){var a=c(),n=e-a,s=20,l=0;t="undefined"===typeof t?500:t;var u=function e(){l+=s;var c=Math.easeInOutQuad(l,a,n,t);o(c),l<t?i(e):r&&"function"===typeof r&&r()};u()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,15]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},u=l,d=(r("0df4"),r("2877")),f=Object(d["a"])(u,a,n,!1,null,"2f2d1216",null);t["a"]=f.exports},"4ae1":function(e,t,r){"use strict";var a=r("23e7"),n=r("d066"),i=r("2ba4"),o=r("0538"),c=r("5087"),s=r("825a"),l=r("861d"),u=r("7c73"),d=r("d039"),f=n("Reflect","construct"),m=Object.prototype,h=[].push,p=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),g=!d((function(){f((function(){}))})),b=p||g;a({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){c(e),s(t);var r=arguments.length<3?e:c(arguments[2]);if(g&&!p)return f(e,t,r);if(e===r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var a=[null];return i(h,a,t),new(i(o,e,a))}var n=r.prototype,d=u(l(n)?n:m),b=i(e,d,t);return l(b)?b:d}})},"60f3b":function(e,t,r){},"6c6e":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("d4ec"),n=r("bee2"),i=r("b775"),o=function(){function e(t){Object(a["a"])(this,e),this.uri=t}return Object(n["a"])(e,[{key:"list",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(i["a"])({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(i["a"])({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"7db0":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").find,i=r("44d2"),o="find",c=!0;o in[]&&Array(1)[o]((function(){c=!1})),a({target:"Array",proto:!0,forced:c},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},bb40:function(e,t,r){"use strict";r("60f3b")},bcc2:function(e,t,r){"use strict";r.d(t,"k",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"l",(function(){return f})),r.d(t,"h",(function(){return m})),r.d(t,"i",(function(){return h})),r.d(t,"j",(function(){return p})),r.d(t,"o",(function(){return g})),r.d(t,"g",(function(){return b})),r.d(t,"m",(function(){return y})),r.d(t,"n",(function(){return v}));r("2af1"),r("b680"),r("ac1f"),r("5319"),r("d3b7"),r("25f0"),r("99af"),r("fb6a"),r("a15b"),r("d81d"),r("14d9");var a=r("c1df"),n=r.n(a);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",r=(e/1).toFixed().replace(".",",");return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function r(e){return e<10?"0"+e:e}var a=new Date(e);return"DD/MM/YYYY"===t?[r(a.getDate()),r(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t?[r(a.getFullYear()),r(a.getMonth()+1),r(a.getDate())].join("-"):void 0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function r(e){return e<10?"0"+e:e}var a=new Date(e),n=[r(a.getHours()),r(a.getMinutes())].join(":"),i="";return"DD/MM/YYYY"===t?i=[r(a.getDate()),r(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(i=[r(a.getFullYear()),r(a.getMonth()+1),r(a.getDate())].join("-")),"".concat(n," ").concat(i)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";function r(e){return e<10?"0"+e:e}var a=new Date(e),n=[r(a.getHours()),r(a.getMinutes()),r(a.getSeconds())].join(":"),i="";return"DD/MM/YYYY"===t?i=[r(a.getDate()),r(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[r(a.getFullYear()),r(a.getMonth()+1),r(a.getDate())].join("-")),"".concat(n," ").concat(i)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm:ss DD-MM-YYYY";function r(e){return e<10?"0"+e:e}var a=new Date(e),n=[r(a.getHours()),r(a.getMinutes()),r(a.getSeconds())].join(":"),i="";return"HH:mm:ss DD-MM-YYYY"===t?i=[r(a.getDate()),r(a.getMonth()+1),a.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(i=[r(a.getFullYear()),r(a.getMonth()+1),r(a.getDate())].join("-")),"".concat(n," ").concat(i)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function a(e){return e<10?"0"+e:e}var n=new Date(e),i=r?n.getUTCHours():n.getHours(),o=r?n.getUTCMinutes():n.getMinutes(),c=[a(i),a(o),a(n.getSeconds())].join(":"),s="";return"DD/MM/YYYY"===t?s=[a(n.getDate()),a(n.getMonth()+1),n.getFullYear()].join("-"):"YYYY-MM-DD"===t&&(s=[a(n.getFullYear()),a(n.getMonth()+1),a(n.getDate())].join("-")),"".concat(c," ").concat(s)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";function r(e){return e<10?"0"+e:e}var a=new Date(e),n="";return"DD/MM/YYYY"===t?n=[r(a.getDate()),r(a.getMonth()+1),a.getFullYear()].join("/"):"YYYY-MM-DD"===t&&(n=[r(a.getFullYear()),r(a.getMonth()+1),r(a.getDate())].join("-")),"".concat(n)}function f(e){if(null==e)return null;var t=(e/1).toFixed().replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(e)return n()(e).format(t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm DD/MM/YYYY";return n()(e).format(t)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY HH:mm:ss";if(e)return n()(e).format(t)}function g(e){var t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\Đ]/g,"D");return t.toUpperCase()}function b(e){switch(e){case 1:return"Tạo flight";case 2:return"Đã xác nhận";case 4:return"Hủy đúng hạn";case 5:return"Hủy sai hạn";case 6:return"Xác nhận booking";default:return"Đã hoàn thành"}}function y(e){switch(e){case 2:return"success";case 3:return"success";case 4:return"warning";case 5:return"danger";default:return"info"}}function v(e){var t=[];return e.length>0&&e.map((function(e){var r=e.id_display?e.id_display:e.id,a="vID".concat(r," - ").concat(e.fullname," (").concat(e.nickname,")"),n={value:e.id,label:a};t.push(n)})),t}},bee2:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r("a38e");function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Object(a["a"])(n.key),n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},c1c1:function(e,t,r){"use strict";r.r(t);r("b0c0");var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-10"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("h4",[e._v("Biên tập sản phẩm")])]),t("el-col",{staticClass:"text-right",attrs:{span:12}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("Thêm sản phẩm +")])],1)],1),t("el-row",{staticClass:"p-10"},[t("el-col",{staticClass:"mr-1",attrs:{span:4}},[t("el-input",{staticClass:"required",attrs:{required:"",clearable:"",size:"small",placeholder:"Nhập tên sản phẩm"},model:{value:e.listQuery.q,callback:function(t){e.$set(e.listQuery,"q",t)},expression:"listQuery.q"}})],1),t("el-col",{staticClass:"mr-1",attrs:{span:4}},[t("el-select",{staticClass:"w-100",attrs:{filterable:"",clearable:"",remote:"",size:"small",placeholder:"Danh mục cha"},model:{value:e.listQuery.category_id,callback:function(t){e.$set(e.listQuery,"category_id",t)},expression:"listQuery.category_id"}},e._l(e.categoriesFilter,(function(e){return t("el-option",{key:e.id,attrs:{label:e.category,value:e.id}})})),1)],1),t("el-col",{staticClass:"mr-1",attrs:{span:4}},[t("el-select",{staticClass:"w-100",attrs:{filterable:"",clearable:"",size:"small",remote:"",placeholder:"Danh mục con"},model:{value:e.listQuery.id_sub_category,callback:function(t){e.$set(e.listQuery,"id_sub_category",t)},expression:"listQuery.id_sub_category"}},e._l(e.subCategoriesFilter,(function(e){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),t("el-col",{staticClass:"mr-1",attrs:{span:4}},[t("el-select",{staticClass:"w-100",attrs:{filterable:"",clearable:"",size:"small",remote:"",placeholder:"public"},model:{value:e.listQuery.is_public,callback:function(t){e.$set(e.listQuery,"is_public",t)},expression:"listQuery.is_public"}},e._l(e.publics,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.onGetListProductByCategory(!1)}}},[e._v(" Tìm kiếm ")])],1),t("div",[t("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{type:"index",label:"STT",index:e.handleIndexMethod,width:"50",align:"center"}}),t("el-table-column",{attrs:{label:"Danh mục",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(r.InfoCategory.category)+" ")]}}])}),t("el-table-column",{attrs:{label:"Danh mục con",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(r.InfoCategory.InfoSubCategory.title)+" ")]}}])}),t("el-table-column",{attrs:{prop:"name",label:"Model",width:"180",align:"center"}}),t("el-table-column",{attrs:{prop:"address",label:"Hình ảnh",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){var r=e.row;return[t("img",{attrs:{src:r.image,alt:"",width:"100%"}})]}}])}),t("el-table-column",{attrs:{label:"Giá tiền",prop:"price",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[e._v(" "+e._s(e.formatNumber(r.price))+" ")]}}])}),t("el-table-column",{attrs:{label:"Ngày tạo",prop:"created_at",align:"center"}}),t("el-table-column",{attrs:{label:"Hiển thị trên app",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[t("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(t){return e.changeDisplay(a)}},model:{value:a.is_public,callback:function(t){e.$set(a,"is_public",t)},expression:"row.is_public"}})]}}])}),t("el-table-column",{attrs:{label:"Hành động",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){var a=r.row;return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleEdit(a)}}},[e._v("Sửa")])]}}])})],1)],1)],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>e.listQuery.number,expression:"total > listQuery.number"}],attrs:{total:e.total,limit:e.listQuery.number,page:e.listQuery.page},on:{"update:limit":function(t){return e.$set(e.listQuery,"number",t)},"update:page":function(t){return e.$set(e.listQuery,"page",t)},pagination:function(t){return e.onGetListProductByCategory(!0)}}}),t("el-dialog",{attrs:{title:e.isEmpty(e.formCreate.product_id)?"Tạo mới sản phẩm":"Sửa sản phẩm",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.closeDialog}},[t("el-form",{attrs:{model:e.formCreate}},[t("el-row",[t("el-col",{attrs:{span:24}},[t("label",[e._v("Tên sản phẩm: "),t("span",{staticClass:"required"},[e._v("*")])]),t("el-input",{staticClass:"w-100 pr-10",attrs:{required:"",autocomplete:"off"},model:{value:e.formCreate.name,callback:function(t){e.$set(e.formCreate,"name",t)},expression:"formCreate.name"}})],1)],1),t("el-row",[t("label",[e._v("Danh mục: "),t("span",{staticClass:"required"},[e._v("*")])]),t("el-form-item",{staticClass:"pr-10"},[t("el-select",{staticClass:"w-100",attrs:{disabled:!e.isEmpty(e.formCreate.product_id),required:"",placeholder:"Chọn danh mục"},on:{change:e.changeCategory},model:{value:e.formCreate.category_id,callback:function(t){e.$set(e.formCreate,"category_id",t)},expression:"formCreate.category_id"}},[e._l(e.categories,(function(r,a){return[1===r.is_public?t("el-option",{key:a,attrs:{label:r.category,value:r.id}}):e._e()]}))],2)],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("label",[e._v("Chọn loại/dòng: "),t("span",{staticClass:"required"},[e._v("*")])]),t("el-form-item",{},[t("el-select",{staticClass:"w-100 pr-10",attrs:{disabled:!e.isEmpty(e.formCreate.product_id),required:"",placeholder:"Chọn loại dòng"},model:{value:e.formCreate.detail_key,callback:function(t){e.$set(e.formCreate,"detail_key",t)},expression:"formCreate.detail_key"}},[e._l(e.subCategory,(function(r,a){return[1===r.is_public?t("el-option",{key:a,attrs:{label:r.title,value:r.key}}):e._e()]}))],2)],1)],1)],1),t("el-row",[t("label",[e._v("Giá tiền: "),t("span",{staticClass:"required"},[e._v("*")])]),t("el-input",{staticClass:"w-100 pr-10",attrs:{min:"1",required:"",autocomplete:"off"},nativeOn:{keyup:function(t){return e.formatPrice.apply(null,arguments)}},model:{value:e.formCreate.price,callback:function(t){e.$set(e.formCreate,"price",t)},expression:"formCreate.price"}})],1),t("el-row",[t("label",[e._v("Phí bảo hiểm: "),t("span",{staticClass:"required"},[e._v("*")])]),t("el-input",{staticClass:"w-100 pr-10",attrs:{required:"",autocomplete:"off"},model:{value:e.formCreate.fee,callback:function(t){e.$set(e.formCreate,"fee",t)},expression:"formCreate.fee"}})],1),t("el-row",[t("el-form-item",{attrs:{label:"Ảnh hiển thị",required:""}},[t("el-form-item",{attrs:{prop:"image"}},[t("div",{staticClass:"clearfix"}),t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"image",action:"https://api-v2.vcallid.com/api/utils/upload/data","file-list":e.keyImage,"on-error":e.onError,"on-success":e.onSuccess,"on-remove":e.onRemoveImage,"on-change":e.onPickKeyImage,limit:1,"auto-upload":!1,"on-exceed":function(t,r){return e.handleExceed(t,r,1)},"list-type":"picture-card"}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__tip",staticStyle:{"font-style":"italic"},attrs:{slot:"tip"},slot:"tip"},[e._v("Kích thước ảnh khuyến nghị 145x120")])])],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitFormCreateProduct}},[e._v("Xác nhận")])],1)],1)],1)},n=[],i=r("2909"),o=(r("7db0"),r("d3b7"),r("4de4"),r("d81d"),r("99af"),r("14d9"),r("ac1f"),r("5319"),r("333d")),c=r("e936"),s=r("bcc2"),l=r("5c96"),u=r("5f87"),d=r("61f7"),f=new c["a"],m={name:"InsuranceProductIndex",components:{Pagination:o["a"]},data:function(){return{priceFormat:0,listQuery:{q:"",page:1,number:10},total:2e3,tableData:[],loadingTable:!1,activeName:"first",categories:[],dialogFormVisible:!1,formCreate:{},keyImage:[],subCategory:[],isUploadImage:!0,admin:Object(u["b"])(),isSearch:!1,isEdit:!1,categoriesFilter:[],subCategoriesFilter:[],publics:[{value:0,label:"Không public"},{value:1,label:"Public"}]}},watch:{"listQuery.category_id":function(e){var t=this;if(e){delete this.listQuery.id_sub_category;var r=this.categoriesFilter.find((function(t){return t.id===e}));this.subCategoriesFilter=Object(i["a"])(r.list_sub_category).filter((function(e){return 1===e.is_public}))}else delete this.listQuery.id_sub_category,this.subCategoriesFilter=[],this.categories.filter((function(e){return 1===e.is_public})).map((function(e){t.subCategoriesFilter=[].concat(Object(i["a"])(t.subCategoriesFilter),Object(i["a"])(e.list_sub_category)).filter((function(e){return 1===e.is_public}))}))}},created:function(){this.onGetListProductByCategory(!1),this.getListCategory()},methods:{onGetListProductByCategory:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("isPaginate..............",t),this.loadingTable=!0,t||(this.listQuery.page=1),console.log("this.listQuery..............",this.listQuery),Object(d["b"])(this.listQuery.category_id)&&Object(d["b"])(this.listQuery.id_sub_category)&&Object(d["b"])(this.listQuery.is_public)&&Object(d["b"])(this.listQuery.q)?(f.listProduct(this.listQuery).then((function(t){console.log("response................",t),0===t.error_code&&t.data.length>0&&(e.tableData=t.data,console.log("this.tableData................",e.tableData)),e.loadingTable=!1})),this.tableData=[]):f.listMaterialCovered(this.listQuery).then((function(t){console.log("response................",t),0===t.error_code?(e.tableData=t.data,console.log("this.tableData................",e.tableData)):e.$message.error(null===t||void 0===t?void 0:t.error_msg),e.loadingTable=!1}))},getListCategory:function(){var e=this;f.listCategoryProduct().then((function(t){console.log("response................",t),e.categories=t.data,console.log("this.categories................",e.categories),e.categoriesFilter=t.data.filter((function(e){return 1===e.is_public})),e.categoriesFilter.map((function(t){e.subCategoriesFilter=[].concat(Object(i["a"])(e.subCategoriesFilter),Object(i["a"])(t.list_sub_category)).filter((function(e){return 1===e.is_public}))})),console.log("this.subCategoriesFilter................",e.subCategoriesFilter),console.log("this.activeName................",String(e.activeName))}))},handleClick:function(e,t){console.log("this.activeName................",this.activeName),console.log("tab................",e.name),this.onGetListProductByCategory(!1)},handleIndexMethod:function(e){return 1===this.listQuery.page?this.listQuery.page+e:(this.listQuery.page-1)*this.listQuery.number+e+1},handleEdit:function(e){console.log("row................",e),console.log("categories................",this.categories),this.dialogFormVisible=!0,this.formCreate=Object.assign({},e),this.formCreate.price=Object(s["k"])(e.price),this.formCreate.product_id=e.id,this.keyImage.push({name:"image",url:e.image}),this.isEdit=!0},handleDelete:function(e){console.log("row................",e)},changeDisplay:function(e){var t=this;console.log("row................",e);var r={uid:this.admin.id,type:3,is_hidden:1===e.is_public?1:0,id_select:e.id};f.changeDisplay(r).then((function(e){if(console.log("response................",e),1===e.error_code)return console.log("response................",e),void t.$message.error("Thay đổi trạng thái thất bại");t.$message.success("Thay đổi trạng thái thành công"),t.onGetListProductByCategory(!1)}))},submitFormCreateProduct:function(){var e=this;if(console.log("this.formCreate................",this.formCreate),console.log("this.isUploadImage................",this.isUploadImage),console.log("this.keyImage................",this.keyImage),this.isUploadImage&&0===this.keyImage.length)this.$refs.upload.submit();else{if(Object(d["b"])(this.formCreate.name))return void this.$message.error("Vui lòng nhập tên sản phẩm");if(Object(d["b"])(this.formCreate.category_id)&&Object(d["b"])(this.formCreate.product_id))return void this.$message.error("Vui lòng chọn danh mục sản phẩm");if(Object(d["b"])(this.formCreate.detail_key)&&Object(d["b"])(this.formCreate.product_id))return void this.$message.error("Vui lòng chọn loại dòng");if(Object(d["b"])(this.formCreate.price))return void this.$message.error("Vui lòng nhập giá sản phẩm");if(this.formCreate.price=this.formCreate.price.replace(/\./g,""),console.log("parseInt(this.formCreate.price)......................................",parseInt(this.formCreate.price)<1e7),parseInt(this.formCreate.price)<1e7)return void this.$message.error("Giá sản phẩm không được nhỏ hơn 10.000.000");if(Object(d["b"])(this.formCreate.fee))return void this.$message.error("Vui lòng nhập phí bh");if(this.isEdit)return console.log("this.formCreate................",this.formCreate),void f.updateProduct(this.formCreate).then((function(t){console.log("response................",t),0===t.error_code?(e.$message.success("Cập nhật sản phẩm thành công"),e.closeDialog(),e.onGetListProductByCategory(!1)):e.$message.error("Cập nhật sản phẩm thất bại")}));f.createProduct(this.formCreate).then((function(t){console.log("response................",t),0===t.error_code?(e.$message.success("Tạo mới sản phẩm thành công"),e.closeDialog(),e.onGetListProductByCategory(!1)):e.$message.error("Tạo mới sản phẩm thất bại")}))}},onPickKeyImage:function(e,t){var r;"image/png"!==(null===e||void 0===e||null===(r=e.raw)||void 0===r?void 0:r.type)&&"success"!==e.status?(Object(l["Message"])({message:"Yêu cầu định dạng ảnh là PNG",type:"warning",duration:5e3}),t.pop(),this.keyImage=t):e.size>1e8?(Object(l["Message"])({message:"Kích thước ảnh tối đa là 100.000 mb, bạn đang chọn ảnh ".concat(e.name," với kích thước ").concat(Object(s["k"])(e.size)," kb"),type:"warning",duration:5e3}),t.pop(),this.keyImage=t):"success"!==e.status&&console.log("this.keyImage................",this.keyImage)},handleExceed:function(e,t,r){Object(l["Message"])({message:"Tối đa là ".concat(r," hình ảnh, bạn đang chọn ").concat(e.length+t.length," hình ảnh"),type:"warning",duration:5e3})},onSuccess:function(e){console.log("res................",e),this.isUploadImage=!1,this.formCreate.image=e.name,console.log("this.formCreate................",this.formCreate),this.submitFormCreateProduct()},onError:function(e){console.log("err................",e),this.$message.error("Upload file thất bại")},closeDialog:function(){this.formCreate={},this.subCategory=[],this.dialogFormVisible=!1,this.isUploadImage=!0,this.$refs.upload.clearFiles(),this.isEdit=!1,this.keyImage=[]},changeCategory:function(e){console.log("value................",e);var t=this.categories.find((function(t){return t.id===e}));console.log("category................",t),this.subCategory=t.list_sub_category},handleSelectionChangedAdmin:function(e){console.log("data................",e),this.listQuery.admin_id=e,this.isSearch=!0},handleSelectionChangedUser:function(e){console.log("data................",e),this.listQuery.user_id=e.value,this.isSearch=!0},handleSelectionChangedFacility:function(e){console.log("data................",e),this.listQuery.facility_id=e.value,this.isSearch=!0},onRemoveImage:function(e,t){var r;this.keyImage=[],this.isUploadImage=!0,"image/png"!==(null===e||void 0===e||null===(r=e.raw)||void 0===r?void 0:r.type)&&(Object(l["Message"])({message:"Yêu cầu định dạng ảnh là PNG",type:"warning",duration:5e3}),t.pop(),this.keyImage=t)},formatPrice:function(e){console.log("val................",this.formCreate.price),e&&(this.formCreate.price=this.formCreate.price.replace(/[^0-9]/g,"")),this.formCreate.price&&(this.formCreate.price=Object(s["k"])(this.formCreate.price)),console.log("this.formCreate.price................",this.formCreate.price)},changeSearch:function(e){this.onGetListProductByCategory(!1)},formatNumber:s["k"],isEmpty:d["b"]}},h=m,p=(r("bb40"),r("2877")),g=Object(p["a"])(h,a,n,!1,null,null,null);t["default"]=g.exports},d4ec:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d9e2");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},e936:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var a=r("d4ec"),n=r("bee2"),i=r("262e"),o=r("2caf"),c=r("6c6e"),s=r("b775"),l="https://api-bank-dev.vcallid.com/api/v1/material_covered",u="https://prod-wap-wghn-beta.vcallid.com/insurance-hio",d=function(e){Object(i["a"])(r,e);var t=Object(o["a"])(r);function r(){return Object(a["a"])(this,r),t.apply(this,arguments)}return Object(n["a"])(r,[{key:"listCategoryProduct",value:function(e){return Object(s["a"])({url:l+"/cms_list_category_material_covered",method:"GET",data:e,params:e})}},{key:"listProdByCategory",value:function(e){return Object(s["a"])({url:l+"/list_category_material_covered",method:"GET",data:e,params:e})}},{key:"listProduct",value:function(e){return Object(s["a"])({url:l+"/cms_list_product_material_covered",method:"POST",data:e,params:e})}},{key:"createSubCategory",value:function(e){return Object(s["a"])({url:l+"/cms_create_sub_category_material_coverd",method:"POST",data:e,params:e})}},{key:"createCategory",value:function(e){return Object(s["a"])({url:l+"/cms_create_category_material_coverd",method:"POST",data:e,params:e})}},{key:"changeDisplay",value:function(e){return Object(s["a"])({url:l+"/hidden_category_material_coverd",method:"GET",data:e,params:e})}},{key:"listBill",value:function(e){return Object(s["a"])({url:l+"/cms_list_masterial_coverd",method:"GET",data:e,params:e})}},{key:"searchBill",value:function(e){return Object(s["a"])({url:l+"/cms_search_material_covered",method:"POST",data:e,params:e})}},{key:"createProduct",value:function(e){return Object(s["a"])({url:l+"/cms_create_product_masterial_coverd",method:"POST",data:e,params:e})}},{key:"updateProduct",value:function(e){return Object(s["a"])({url:l+"/cms_update_product_material_covered",method:"POST",data:e,params:e})}},{key:"listFacilitySale",value:function(e){return Object(s["a"])({url:l+"/cms_list_facility_select_material_covered",method:"GET",params:e})}},{key:"createHoleSale",value:function(e){return Object(s["a"])({url:l+"/cms_add_hole_select_material_covered",method:"POST",data:e,params:e})}},{key:"activeHoleSale",value:function(e){return Object(s["a"])({url:l+"/cms_setting_hole_select_material_covered",method:"POST",data:e,params:e})}},{key:"activeFacilitySale",value:function(e){return Object(s["a"])({url:l+"/cms_setting_facility_select_material_covered",method:"POST",data:e,params:e})}},{key:"listMaterialCovered",value:function(e){return Object(s["a"])({url:l+"/cms_search_product_material_covered",method:"POST",data:e,params:e})}},{key:"createMaterialCovered",value:function(e){return Object(s["a"])({url:l+"/cms_create_masterial_coverd",method:"POST",data:e})}},{key:"sendMailConfirmSaleToPVI",value:function(e,t){return Object(s["a"])({url:t,method:"POST",data:e})}},{key:"confirmSaleHIO",value:function(e){return Object(s["a"])({url:l+"/cms_update_status_material_covered",method:"POST",data:e,params:e})}},{key:"listMaterialOutsystem",value:function(e){return Object(s["a"])({url:"/order-material-outsystem/lists",method:"GET",params:e})}},{key:"listLogCallbackPVI",value:function(e){return Object(s["a"])({url:"/order-material-outsystem/log-callback-pvi-material-covered",method:"GET",params:e})}},{key:"searchAgency",value:function(e){return Object(s["a"])({url:"https://bussiness.vcallid.com/api/v1/search-agent-new",method:"GET",params:e})}},{key:"addUserMaterial",value:function(e){return Object(s["a"])({url:l+"/cms_add_user_material_covered",method:"POST",data:e})}},{key:"updateSubCategory",value:function(e){return Object(s["a"])({url:l+"/cms_update_sub_category",method:"POST",data:e,params:e})}},{key:"updateCategory",value:function(e){return Object(s["a"])({url:l+"/cms_update_category",method:"POST",data:e,params:e})}},{key:"confirmSaleHIOOutSystem",value:function(e){return Object(s["a"])({url:l+"/cms_update_order_material_outsystem",method:"POST",data:e,params:e})}},{key:"createCodePayment",value:function(e){return Object(s["a"])({url:l+"/cms_create_payment_material_covered",method:"POST",data:e})}},{key:"removeUserFromOrder",value:function(e){return Object(s["a"])({url:l+"/cms_remove_user_material_covered",method:"POST",data:e})}},{key:"pushOrderToPVI",value:function(e){return Object(s["a"])({url:l+"/cms_push_insurrance_pvi",method:"POST",data:e})}},{key:"listUserInspector",value:function(e){return Object(s["a"])({url:l+"/cms_list_user_inspector_material",method:"POST",data:e,params:e})}},{key:"createUserInspector",value:function(e){return Object(s["a"])({url:l+"/cms_setting_user_inspector_material_covered",method:"POST",data:e,params:e})}},{key:"detailBillInsurance",value:function(e){return Object(s["a"])({url:l+"/cms_view_detail_masterial_coverd",method:"POST",data:e,params:e})}},{key:"getInfoPayment",value:function(e){return Object(s["a"])({url:l+"/cms_get_info_payment_material_covered",method:"POST",data:e,params:e})}},{key:"exportExcelBill",value:function(e){return Object(s["a"])({url:u+"/export-excel-material",method:"GET",data:e,params:e})}}]),r}(c["a"])},eac1:function(e,t,r){},f748:function(e,t,r){"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}},f8c9:function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),i=r("d44e");a({global:!0},{Reflect:{}}),i(n.Reflect,"Reflect",!0)}}]);