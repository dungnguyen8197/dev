(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0764d3ae"],{"349c":function(t,e,a){},"7cf4":function(t,e,a){"use strict";a("349c")},"857a":function(t,e,a){"use strict";var n=a("e330"),i=a("1d80"),l=a("577e"),r=/"/g,o=n("".replace);t.exports=function(t,e,a,n){var c=l(i(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+o(l(n),r,"&quot;")+'"'),s+">"+c+"</"+e+">"}},9911:function(t,e,a){"use strict";var n=a("23e7"),i=a("857a"),l=a("af03");n({target:"String",proto:!0,forced:l("link")},{link:function(t){return i(this,"a","href",t)}})},af03:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},efaf:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"received-note"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-top":"15px"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("p",{staticStyle:{"margin-right":"15px","margin-bottom":"0px"},on:{click:t.onBack}},[e("i",{staticClass:"el-icon-back"})]),e("h3",{staticStyle:{margin:"0px"}},[t._v("Quản lý kho")])]),e("div",{staticStyle:{display:"flex","justify-content":"end",height:"40px"}},[e("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleExportExcel}},[t._v("Xuất excel")]),e("el-button",{attrs:{icon:"el-icon-refresh",loading:t.loading},on:{click:t.resetFilter}},[t._v("Làm mới")])],1)]),e("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap","margin-top":"10px"}},[e("div",[e("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",rows:2,placeholder:"Nhập để tìm kiếm"},model:{value:t.listQuery.q,callback:function(e){t.$set(t.listQuery,"q",e)},expression:"listQuery.q"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e("el-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"Trạng thái đơn"},model:{value:t.filterSearch,callback:function(e){t.filterSearch=e},expression:"filterSearch"}},t._l(t.searchOption,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.onSearchReceivedNote}},[t._v("Tìm kiếm")])],1),e("div",{staticStyle:{display:"flex"}},[e("el-date-picker",{staticStyle:{width:"300px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"Đến","start-placeholder":"Ngày bắt đầu","end-placeholder":"Ngày kết thúc"},on:{change:t.handleChangeDateRange},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)]),e("div",{staticStyle:{"margin-top":"15px"},attrs:{id:"brand-table-id"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,align:"center",border:""}},[e("el-table-column",{attrs:{prop:"id",label:"Mã sản phẩm",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{staticStyle:{color:"#4ca1d5"},attrs:{underline:!1},on:{click:function(e){return t.onClickProduct(a.row.id)}}},[t._v("#"+t._s(a.row.id))])]}}])}),e("el-table-column",{attrs:{prop:"id",label:"Ảnh sản phẩm",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{width:"75px",height:"75px"},attrs:{src:t.row.thumb,fit:"cover"}})]}}])}),e("el-table-column",{attrs:{prop:"name",label:"Tên sản phẩm",align:"center"}}),e("el-table-column",{attrs:{prop:"total_inventory_start_month",label:"Số lượng tồn đầu tháng",align:"center"}}),e("el-table-column",{attrs:{prop:"total_number_import",label:"Nhập kho",align:"center"}}),e("el-table-column",{attrs:{prop:"total_number_export",label:"Xuất kho",align:"center"}}),e("el-table-column",{attrs:{prop:"total_inventory_end_month",label:"Số lượng tồn cuối tháng",align:"center"}})],1),e("el-row",[e("pagination",{attrs:{total:t.total,limit:t.listQuery.limit,page:t.listQuery.page},on:{"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},"update:page":function(e){return t.$set(t.listQuery,"page",e)},pagination:t.getTableData}})],1)],1)])},i=[],l=a("c7eb"),r=a("1da1"),o=(a("d3b7"),a("d9e2"),a("14d9"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),a("9911"),a("333d")),c=a("8c54"),s=a("bcc2"),u=new c["a"],d={components:{Pagination:o["a"]},data:function(){return{dateRange:"",listQuery:{page:1,limit:10},filterSearch:1,searchOption:[{id:1,name:"Tìm theo tên sản phẩm"},{id:2,name:"Tìm theo mã sản phẩm"}],loading:!1,tableData:[],total:0,showDialogAddReceivedNote:!1}},mounted:function(){this.getTableData()},methods:{formatNumber:s["k"],onBack:function(){window.history.back()},handleChangeDateRange:function(t){var e=new Date(t[0]),a=new Date(t[1]);this.listQuery.page=1,this.listQuery.from_date=e.getTime(),this.listQuery.to_date=a.getTime(),this.getTableData()},resetFilter:function(){this.dateRange="",this.searchString="",this.listQuery={page:1,limit:10,q:"",date_range:"",date_from:"",date_to:"",type_search:2},this.getTableData()},getTableData:function(){var t=this;this.loading=!0,u.warehouse_tatistical(this.listQuery).then((function(e){var a=e.error,n=e.data;if(0!==a)throw new Error("Lỗi lấy dữ liệu");1===t.listQuery.page&&(t.total=e.total),t.tableData=n,console.log(t.tableData,"dataaaaaaaaaaaaaaaaaaaa")})).catch((function(e){console.log(e),t.$message.error(e.message)})).finally((function(){t.loading=!1}))},handleEdit:function(t){console.log(t)},onAddReceivedNote:function(){this.showDialogAddReceivedNote=!0},onSearchReceivedNote:function(){this.listQuery.page=1,this.listQuery.type_search=this.filterSearch,this.getTableData()},onClickProduct:function(t){this.$router.push({name:"Warehouse Info",params:{data:t}})},confirmDowload:function(t){this.getFileFromServer(t)},getFileFromServer:function(t){var e=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var n,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.substring(t.lastIndexOf("/")+1),i=document.createElement("a"),i.href=t,i.download=n,i.click(),setTimeout((function(){window.URL.revokeObjectURL(t),e.$message.success("Xuất file thành công, vui lòng vào thư mục donwload để xem")}),250);case 6:case"end":return a.stop()}}),a)})))()},handleExportExcel:function(){var t=this;console.log("export excel"),u.export_warehouse(this.listQuery).then((function(e){var a=e.error,n=e.link;0===a?t.confirmDowload(n):t.$message.error("Lỗi khi xuất file excel")})).catch((function(e){console.log(e),t.$message.error("Lỗi khi xuất file excel")}))}}},p=d,h=(a("7cf4"),a("2877")),g=Object(h["a"])(p,n,i,!1,null,"a544e626",null);e["default"]=g.exports}}]);